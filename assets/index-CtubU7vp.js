function T2(d,y){for(var x=0;x<y.length;x++){const E=y[x];if(typeof E!="string"&&!Array.isArray(E)){for(const b in E)if(b!=="default"&&!(b in d)){const A=Object.getOwnPropertyDescriptor(E,b);A&&Object.defineProperty(d,b,A.get?A:{enumerable:!0,get:()=>E[b]})}}}return Object.freeze(Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}))}(function(){const y=document.createElement("link").relList;if(y&&y.supports&&y.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))E(b);new MutationObserver(b=>{for(const A of b)if(A.type==="childList")for(const R of A.addedNodes)R.tagName==="LINK"&&R.rel==="modulepreload"&&E(R)}).observe(document,{childList:!0,subtree:!0});function x(b){const A={};return b.integrity&&(A.integrity=b.integrity),b.referrerPolicy&&(A.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?A.credentials="include":b.crossOrigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function E(b){if(b.ep)return;b.ep=!0;const A=x(b);fetch(b.href,A)}})();var Bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function l1(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var Gc={exports:{}},fs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uh;function N2(){if(uh)return fs;uh=1;var d=Symbol.for("react.transitional.element"),y=Symbol.for("react.fragment");function x(E,b,A){var R=null;if(A!==void 0&&(R=""+A),b.key!==void 0&&(R=""+b.key),"key"in b){A={};for(var k in b)k!=="key"&&(A[k]=b[k])}else A=b;return b=A.ref,{$$typeof:d,type:E,key:R,ref:b!==void 0?b:null,props:A}}return fs.Fragment=y,fs.jsx=x,fs.jsxs=x,fs}var ch;function R2(){return ch||(ch=1,Gc.exports=N2()),Gc.exports}var L=R2(),Vc={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh;function O2(){if(fh)return We;fh=1;var d=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),R=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),P=Symbol.iterator;function ne(U){return U===null||typeof U!="object"?null:(U=P&&U[P]||U["@@iterator"],typeof U=="function"?U:null)}var ye={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pe=Object.assign,de={};function he(U,se,we){this.props=U,this.context=se,this.refs=de,this.updater=we||ye}he.prototype.isReactComponent={},he.prototype.setState=function(U,se){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,se,"setState")},he.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function ce(){}ce.prototype=he.prototype;function be(U,se,we){this.props=U,this.context=se,this.refs=de,this.updater=we||ye}var oe=be.prototype=new ce;oe.constructor=be,pe(oe,he.prototype),oe.isPureReactComponent=!0;var Oe=Array.isArray,Ie={H:null,A:null,T:null,S:null,V:null},ke=Object.prototype.hasOwnProperty;function le(U,se,we,Ae,ve,it){return we=it.ref,{$$typeof:d,type:U,key:se,ref:we!==void 0?we:null,props:it}}function xe(U,se){return le(U.type,se,void 0,void 0,void 0,U.props)}function $(U){return typeof U=="object"&&U!==null&&U.$$typeof===d}function Xe(U){var se={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(we){return se[we]})}var je=/\/+/g;function Ce(U,se){return typeof U=="object"&&U!==null&&U.key!=null?Xe(""+U.key):se.toString(36)}function Ze(){}function ut(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(Ze,Ze):(U.status="pending",U.then(function(se){U.status==="pending"&&(U.status="fulfilled",U.value=se)},function(se){U.status==="pending"&&(U.status="rejected",U.reason=se)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function q(U,se,we,Ae,ve){var it=typeof U;(it==="undefined"||it==="boolean")&&(U=null);var ge=!1;if(U===null)ge=!0;else switch(it){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(U.$$typeof){case d:case y:ge=!0;break;case D:return ge=U._init,q(ge(U._payload),se,we,Ae,ve)}}if(ge)return ve=ve(U),ge=Ae===""?"."+Ce(U,0):Ae,Oe(ve)?(we="",ge!=null&&(we=ge.replace(je,"$&/")+"/"),q(ve,se,we,"",function(Pn){return Pn})):ve!=null&&($(ve)&&(ve=xe(ve,we+(ve.key==null||U&&U.key===ve.key?"":(""+ve.key).replace(je,"$&/")+"/")+ge)),se.push(ve)),1;ge=0;var pn=Ae===""?".":Ae+":";if(Oe(U))for(var Ye=0;Ye<U.length;Ye++)Ae=U[Ye],it=pn+Ce(Ae,Ye),ge+=q(Ae,se,we,it,ve);else if(Ye=ne(U),typeof Ye=="function")for(U=Ye.call(U),Ye=0;!(Ae=U.next()).done;)Ae=Ae.value,it=pn+Ce(Ae,Ye++),ge+=q(Ae,se,we,it,ve);else if(it==="object"){if(typeof U.then=="function")return q(ut(U),se,we,Ae,ve);throw se=String(U),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return ge}function Q(U,se,we){if(U==null)return U;var Ae=[],ve=0;return q(U,Ae,"","",function(it){return se.call(we,it,ve++)}),Ae}function ie(U){if(U._status===-1){var se=U._result;se=se(),se.then(function(we){(U._status===0||U._status===-1)&&(U._status=1,U._result=we)},function(we){(U._status===0||U._status===-1)&&(U._status=2,U._result=we)}),U._status===-1&&(U._status=0,U._result=se)}if(U._status===1)return U._result.default;throw U._result}var Be=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function nt(){}return We.Children={map:Q,forEach:function(U,se,we){Q(U,function(){se.apply(this,arguments)},we)},count:function(U){var se=0;return Q(U,function(){se++}),se},toArray:function(U){return Q(U,function(se){return se})||[]},only:function(U){if(!$(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},We.Component=he,We.Fragment=x,We.Profiler=b,We.PureComponent=be,We.StrictMode=E,We.Suspense=_,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ie,We.__COMPILER_RUNTIME={__proto__:null,c:function(U){return Ie.H.useMemoCache(U)}},We.cache=function(U){return function(){return U.apply(null,arguments)}},We.cloneElement=function(U,se,we){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var Ae=pe({},U.props),ve=U.key,it=void 0;if(se!=null)for(ge in se.ref!==void 0&&(it=void 0),se.key!==void 0&&(ve=""+se.key),se)!ke.call(se,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&se.ref===void 0||(Ae[ge]=se[ge]);var ge=arguments.length-2;if(ge===1)Ae.children=we;else if(1<ge){for(var pn=Array(ge),Ye=0;Ye<ge;Ye++)pn[Ye]=arguments[Ye+2];Ae.children=pn}return le(U.type,ve,void 0,void 0,it,Ae)},We.createContext=function(U){return U={$$typeof:R,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:A,_context:U},U},We.createElement=function(U,se,we){var Ae,ve={},it=null;if(se!=null)for(Ae in se.key!==void 0&&(it=""+se.key),se)ke.call(se,Ae)&&Ae!=="key"&&Ae!=="__self"&&Ae!=="__source"&&(ve[Ae]=se[Ae]);var ge=arguments.length-2;if(ge===1)ve.children=we;else if(1<ge){for(var pn=Array(ge),Ye=0;Ye<ge;Ye++)pn[Ye]=arguments[Ye+2];ve.children=pn}if(U&&U.defaultProps)for(Ae in ge=U.defaultProps,ge)ve[Ae]===void 0&&(ve[Ae]=ge[Ae]);return le(U,it,void 0,void 0,null,ve)},We.createRef=function(){return{current:null}},We.forwardRef=function(U){return{$$typeof:k,render:U}},We.isValidElement=$,We.lazy=function(U){return{$$typeof:D,_payload:{_status:-1,_result:U},_init:ie}},We.memo=function(U,se){return{$$typeof:p,type:U,compare:se===void 0?null:se}},We.startTransition=function(U){var se=Ie.T,we={};Ie.T=we;try{var Ae=U(),ve=Ie.S;ve!==null&&ve(we,Ae),typeof Ae=="object"&&Ae!==null&&typeof Ae.then=="function"&&Ae.then(nt,Be)}catch(it){Be(it)}finally{Ie.T=se}},We.unstable_useCacheRefresh=function(){return Ie.H.useCacheRefresh()},We.use=function(U){return Ie.H.use(U)},We.useActionState=function(U,se,we){return Ie.H.useActionState(U,se,we)},We.useCallback=function(U,se){return Ie.H.useCallback(U,se)},We.useContext=function(U){return Ie.H.useContext(U)},We.useDebugValue=function(){},We.useDeferredValue=function(U,se){return Ie.H.useDeferredValue(U,se)},We.useEffect=function(U,se,we){var Ae=Ie.H;if(typeof we=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ae.useEffect(U,se)},We.useId=function(){return Ie.H.useId()},We.useImperativeHandle=function(U,se,we){return Ie.H.useImperativeHandle(U,se,we)},We.useInsertionEffect=function(U,se){return Ie.H.useInsertionEffect(U,se)},We.useLayoutEffect=function(U,se){return Ie.H.useLayoutEffect(U,se)},We.useMemo=function(U,se){return Ie.H.useMemo(U,se)},We.useOptimistic=function(U,se){return Ie.H.useOptimistic(U,se)},We.useReducer=function(U,se,we){return Ie.H.useReducer(U,se,we)},We.useRef=function(U){return Ie.H.useRef(U)},We.useState=function(U){return Ie.H.useState(U)},We.useSyncExternalStore=function(U,se,we){return Ie.H.useSyncExternalStore(U,se,we)},We.useTransition=function(){return Ie.H.useTransition()},We.version="19.1.1",We}var hh;function s1(){return hh||(hh=1,Vc.exports=O2()),Vc.exports}var J=s1();const Gh=l1(J);var Xc={exports:{}},hs={},jc={exports:{}},Yc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh;function _2(){return dh||(dh=1,(function(d){function y(Q,ie){var Be=Q.length;Q.push(ie);e:for(;0<Be;){var nt=Be-1>>>1,U=Q[nt];if(0<b(U,ie))Q[nt]=ie,Q[Be]=U,Be=nt;else break e}}function x(Q){return Q.length===0?null:Q[0]}function E(Q){if(Q.length===0)return null;var ie=Q[0],Be=Q.pop();if(Be!==ie){Q[0]=Be;e:for(var nt=0,U=Q.length,se=U>>>1;nt<se;){var we=2*(nt+1)-1,Ae=Q[we],ve=we+1,it=Q[ve];if(0>b(Ae,Be))ve<U&&0>b(it,Ae)?(Q[nt]=it,Q[ve]=Be,nt=ve):(Q[nt]=Ae,Q[we]=Be,nt=we);else if(ve<U&&0>b(it,Be))Q[nt]=it,Q[ve]=Be,nt=ve;else break e}}return ie}function b(Q,ie){var Be=Q.sortIndex-ie.sortIndex;return Be!==0?Be:Q.id-ie.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var A=performance;d.unstable_now=function(){return A.now()}}else{var R=Date,k=R.now();d.unstable_now=function(){return R.now()-k}}var _=[],p=[],D=1,P=null,ne=3,ye=!1,pe=!1,de=!1,he=!1,ce=typeof setTimeout=="function"?setTimeout:null,be=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function Oe(Q){for(var ie=x(p);ie!==null;){if(ie.callback===null)E(p);else if(ie.startTime<=Q)E(p),ie.sortIndex=ie.expirationTime,y(_,ie);else break;ie=x(p)}}function Ie(Q){if(de=!1,Oe(Q),!pe)if(x(_)!==null)pe=!0,ke||(ke=!0,Ce());else{var ie=x(p);ie!==null&&q(Ie,ie.startTime-Q)}}var ke=!1,le=-1,xe=5,$=-1;function Xe(){return he?!0:!(d.unstable_now()-$<xe)}function je(){if(he=!1,ke){var Q=d.unstable_now();$=Q;var ie=!0;try{e:{pe=!1,de&&(de=!1,be(le),le=-1),ye=!0;var Be=ne;try{t:{for(Oe(Q),P=x(_);P!==null&&!(P.expirationTime>Q&&Xe());){var nt=P.callback;if(typeof nt=="function"){P.callback=null,ne=P.priorityLevel;var U=nt(P.expirationTime<=Q);if(Q=d.unstable_now(),typeof U=="function"){P.callback=U,Oe(Q),ie=!0;break t}P===x(_)&&E(_),Oe(Q)}else E(_);P=x(_)}if(P!==null)ie=!0;else{var se=x(p);se!==null&&q(Ie,se.startTime-Q),ie=!1}}break e}finally{P=null,ne=Be,ye=!1}ie=void 0}}finally{ie?Ce():ke=!1}}}var Ce;if(typeof oe=="function")Ce=function(){oe(je)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,ut=Ze.port2;Ze.port1.onmessage=je,Ce=function(){ut.postMessage(null)}}else Ce=function(){ce(je,0)};function q(Q,ie){le=ce(function(){Q(d.unstable_now())},ie)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(Q){Q.callback=null},d.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xe=0<Q?Math.floor(1e3/Q):5},d.unstable_getCurrentPriorityLevel=function(){return ne},d.unstable_next=function(Q){switch(ne){case 1:case 2:case 3:var ie=3;break;default:ie=ne}var Be=ne;ne=ie;try{return Q()}finally{ne=Be}},d.unstable_requestPaint=function(){he=!0},d.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var Be=ne;ne=Q;try{return ie()}finally{ne=Be}},d.unstable_scheduleCallback=function(Q,ie,Be){var nt=d.unstable_now();switch(typeof Be=="object"&&Be!==null?(Be=Be.delay,Be=typeof Be=="number"&&0<Be?nt+Be:nt):Be=nt,Q){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Be+U,Q={id:D++,callback:ie,priorityLevel:Q,startTime:Be,expirationTime:U,sortIndex:-1},Be>nt?(Q.sortIndex=Be,y(p,Q),x(_)===null&&Q===x(p)&&(de?(be(le),le=-1):de=!0,q(Ie,Be-nt))):(Q.sortIndex=U,y(_,Q),pe||ye||(pe=!0,ke||(ke=!0,Ce()))),Q},d.unstable_shouldYield=Xe,d.unstable_wrapCallback=function(Q){var ie=ne;return function(){var Be=ne;ne=ie;try{return Q.apply(this,arguments)}finally{ne=Be}}}})(Yc)),Yc}var gh;function I2(){return gh||(gh=1,jc.exports=_2()),jc.exports}var Zc={exports:{}},Ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh;function D2(){if(xh)return Ln;xh=1;var d=s1();function y(_){var p="https://react.dev/errors/"+_;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var D=2;D<arguments.length;D++)p+="&args[]="+encodeURIComponent(arguments[D])}return"Minified React error #"+_+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(){}var E={d:{f:x,r:function(){throw Error(y(522))},D:x,C:x,L:x,m:x,X:x,S:x,M:x},p:0,findDOMNode:null},b=Symbol.for("react.portal");function A(_,p,D){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:P==null?null:""+P,children:_,containerInfo:p,implementation:D}}var R=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function k(_,p){if(_==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Ln.createPortal=function(_,p){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(y(299));return A(_,p,null,D)},Ln.flushSync=function(_){var p=R.T,D=E.p;try{if(R.T=null,E.p=2,_)return _()}finally{R.T=p,E.p=D,E.d.f()}},Ln.preconnect=function(_,p){typeof _=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,E.d.C(_,p))},Ln.prefetchDNS=function(_){typeof _=="string"&&E.d.D(_)},Ln.preinit=function(_,p){if(typeof _=="string"&&p&&typeof p.as=="string"){var D=p.as,P=k(D,p.crossOrigin),ne=typeof p.integrity=="string"?p.integrity:void 0,ye=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;D==="style"?E.d.S(_,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:P,integrity:ne,fetchPriority:ye}):D==="script"&&E.d.X(_,{crossOrigin:P,integrity:ne,fetchPriority:ye,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ln.preinitModule=function(_,p){if(typeof _=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var D=k(p.as,p.crossOrigin);E.d.M(_,{crossOrigin:D,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&E.d.M(_)},Ln.preload=function(_,p){if(typeof _=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var D=p.as,P=k(D,p.crossOrigin);E.d.L(_,D,{crossOrigin:P,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ln.preloadModule=function(_,p){if(typeof _=="string")if(p){var D=k(p.as,p.crossOrigin);E.d.m(_,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:D,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else E.d.m(_)},Ln.requestFormReset=function(_){E.d.r(_)},Ln.unstable_batchedUpdates=function(_,p){return _(p)},Ln.useFormState=function(_,p,D){return R.H.useFormState(_,p,D)},Ln.useFormStatus=function(){return R.H.useHostTransitionStatus()},Ln.version="19.1.1",Ln}var mh;function M2(){if(mh)return Zc.exports;mh=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(y){console.error(y)}}return d(),Zc.exports=D2(),Zc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh;function B2(){if(yh)return hs;yh=1;var d=I2(),y=s1(),x=M2();function E(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function b(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function A(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function R(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function k(e){if(A(e)!==e)throw Error(E(188))}function _(e){var n=e.alternate;if(!n){if(n=A(e),n===null)throw Error(E(188));return n!==e?null:e}for(var a=e,o=n;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return k(f),e;if(g===o)return k(f),n;g=g.sibling}throw Error(E(188))}if(a.return!==o.return)a=f,o=g;else{for(var C=!1,N=f.child;N;){if(N===a){C=!0,a=f,o=g;break}if(N===o){C=!0,o=f,a=g;break}N=N.sibling}if(!C){for(N=g.child;N;){if(N===a){C=!0,a=g,o=f;break}if(N===o){C=!0,o=g,a=f;break}N=N.sibling}if(!C)throw Error(E(189))}}if(a.alternate!==o)throw Error(E(190))}if(a.tag!==3)throw Error(E(188));return a.stateNode.current===a?e:n}function p(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=p(e),n!==null)return n;e=e.sibling}return null}var D=Object.assign,P=Symbol.for("react.element"),ne=Symbol.for("react.transitional.element"),ye=Symbol.for("react.portal"),pe=Symbol.for("react.fragment"),de=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),be=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),Oe=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),Xe=Symbol.for("react.memo_cache_sentinel"),je=Symbol.iterator;function Ce(e){return e===null||typeof e!="object"?null:(e=je&&e[je]||e["@@iterator"],typeof e=="function"?e:null)}var Ze=Symbol.for("react.client.reference");function ut(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ze?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pe:return"Fragment";case he:return"Profiler";case de:return"StrictMode";case Ie:return"Suspense";case ke:return"SuspenseList";case $:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ye:return"Portal";case oe:return(e.displayName||"Context")+".Provider";case be:return(e._context.displayName||"Context")+".Consumer";case Oe:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case le:return n=e.displayName||null,n!==null?n:ut(e.type)||"Memo";case xe:n=e._payload,e=e._init;try{return ut(e(n))}catch{}}return null}var q=Array.isArray,Q=y.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=x.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Be={pending:!1,data:null,method:null,action:null},nt=[],U=-1;function se(e){return{current:e}}function we(e){0>U||(e.current=nt[U],nt[U]=null,U--)}function Ae(e,n){U++,nt[U]=e.current,e.current=n}var ve=se(null),it=se(null),ge=se(null),pn=se(null);function Ye(e,n){switch(Ae(ge,n),Ae(it,e),Ae(ve,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Uf(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Uf(n),e=Ff(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}we(ve),Ae(ve,e)}function Pn(){we(ve),we(it),we(ge)}function Vi(e){e.memoizedState!==null&&Ae(pn,e);var n=ve.current,a=Ff(n,e.type);n!==a&&(Ae(it,e),Ae(ve,a))}function ln(e){it.current===e&&(we(ve),we(it)),pn.current===e&&(we(pn),ls._currentValue=Be)}var gr=Object.prototype.hasOwnProperty,lt=d.unstable_scheduleCallback,bi=d.unstable_cancelCallback,ri=d.unstable_shouldYield,qr=d.unstable_requestPaint,Ct=d.unstable_now,St=d.unstable_getCurrentPriorityLevel,rt=d.unstable_ImmediatePriority,Wr=d.unstable_UserBlockingPriority,Ne=d.unstable_NormalPriority,ba=d.unstable_LowPriority,xl=d.unstable_IdlePriority,gi=d.log,ml=d.unstable_setDisableYieldValue,bn=null,Rn=null;function Cn(e){if(typeof gi=="function"&&ml(e),Rn&&typeof Rn.setStrictMode=="function")try{Rn.setStrictMode(bn,e)}catch{}}var yt=Math.clz32?Math.clz32:Zo,bs=Math.log,Ca=Math.LN2;function Zo(e){return e>>>=0,e===0?32:31-(bs(e)/Ca|0)|0}var Bt=256,Ee=4194304;function Ot(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ft(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var f=0,g=e.suspendedLanes,C=e.pingedLanes;e=e.warmLanes;var N=o&134217727;return N!==0?(o=N&~g,o!==0?f=Ot(o):(C&=N,C!==0?f=Ot(C):a||(a=N&~e,a!==0&&(f=Ot(a))))):(N=o&~g,N!==0?f=Ot(N):C!==0?f=Ot(C):a||(a=o&~e,a!==0&&(f=Ot(a)))),f===0?0:n!==0&&n!==f&&(n&g)===0&&(g=f&-f,a=n&-n,g>=a||g===32&&(a&4194048)!==0)?n:f}function vt(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Kr(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sa(){var e=Bt;return Bt<<=1,(Bt&4194048)===0&&(Bt=256),e}function yl(){var e=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),e}function st(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Zn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Cs(e,n,a,o,f,g){var C=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var N=e.entanglements,M=e.expirationTimes,j=e.hiddenUpdates;for(a=C&~a;0<a;){var ee=31-yt(a),re=1<<ee;N[ee]=0,M[ee]=-1;var Y=j[ee];if(Y!==null)for(j[ee]=null,ee=0;ee<Y.length;ee++){var W=Y[ee];W!==null&&(W.lane&=-536870913)}a&=~re}o!==0&&El(e,o,0),g!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=g&~(C&~n))}function El(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-yt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function zn(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-yt(a),f=1<<o;f&n|e[o]&n&&(e[o]|=n),a&=~f}}function Qr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function tn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xi(){var e=ie.p;return e!==0?e:(e=window.event,e===void 0?32:ih(e.type))}function va(e,n){var a=ie.p;try{return ie.p=e,n()}finally{ie.p=a}}var sn=Math.random().toString(36).slice(2),xn="__reactFiber$"+sn,Vt="__reactProps$"+sn,Ci="__reactContainer$"+sn,mn="__reactEvents$"+sn,ji="__reactListeners$"+sn,Hn="__reactHandles$"+sn,Se="__reactResources$"+sn,ai="__reactMarker$"+sn;function Jr(e){delete e[xn],delete e[Vt],delete e[mn],delete e[ji],delete e[Hn]}function Wt(e){var n=e[xn];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Ci]||a[xn]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Gf(e);e!==null;){if(a=e[xn])return a;e=Gf(e)}return n}e=a,a=e.parentNode}return null}function qn(e){if(e=e[xn]||e[Ci]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Si(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(E(33))}function xi(e){var n=e[Se];return n||(n=e[Se]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Et(e){e[ai]=!0}var Ss=new Set,vs={};function yn(e,n){Xt(e,n),Xt(e+"Capture",n)}function Xt(e,n){for(vs[e]=n,e=0;e<n.length;e++)Ss.add(n[e])}var Dt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wl={},mi={};function Al(e){return gr.call(mi,e)?!0:gr.call(wl,e)?!1:Dt.test(e)?mi[e]=!0:(wl[e]=!0,!1)}function ae(e,n,a){if(Al(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Ta(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function ht(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}var vi,Ts;function $e(e){if(vi===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);vi=n&&n[1]||"",Ts=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vi+e+Ts}var ot=!1;function Ke(e,n){if(!e||ot)return"";ot=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(W){var Y=W}Reflect.construct(e,[],re)}else{try{re.call()}catch(W){Y=W}e.call(re.prototype)}}else{try{throw Error()}catch(W){Y=W}(re=e())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),C=g[0],N=g[1];if(C&&N){var M=C.split(`
`),j=N.split(`
`);for(f=o=0;o<M.length&&!M[o].includes("DetermineComponentFrameRoot");)o++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(o===M.length||f===j.length)for(o=M.length-1,f=j.length-1;1<=o&&0<=f&&M[o]!==j[f];)f--;for(;1<=o&&0<=f;o--,f--)if(M[o]!==j[f]){if(o!==1||f!==1)do if(o--,f--,0>f||M[o]!==j[f]){var ee=`
`+M[o].replace(" at new "," at ");return e.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",e.displayName)),ee}while(1<=o&&0<=f);break}}}finally{ot=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?$e(a):""}function pl(e){switch(e.tag){case 26:case 27:case 5:return $e(e.type);case 16:return $e("Lazy");case 13:return $e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return Ke(e.type,!1);case 11:return Ke(e.type.render,!1);case 1:return Ke(e.type,!0);case 31:return $e("Activity");default:return""}}function Na(e){try{var n="";do n+=pl(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function On(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jt(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ti(e){var n=jt(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(C){o=""+C,g.call(this,C)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(C){o=""+C},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ra(e){e._valueTracker||(e._valueTracker=Ti(e))}function Ut(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=jt(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Wn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var qo=/[\n"\\]/g;function on(e){return e.replace(qo,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xt(e,n,a,o,f,g,C,N){e.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.type=C:e.removeAttribute("type"),n!=null?C==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+On(n)):e.value!==""+On(n)&&(e.value=""+On(n)):C!=="submit"&&C!=="reset"||e.removeAttribute("value"),n!=null?V(e,C,On(n)):a!=null?V(e,C,On(a)):o!=null&&e.removeAttribute("value"),f==null&&g!=null&&(e.defaultChecked=!!g),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.name=""+On(N):e.removeAttribute("name")}function un(e,n,a,o,f,g,C,N){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),n!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||n!=null))return;a=a!=null?""+On(a):"",n=n!=null?""+On(n):a,N||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=N?e.checked:!!o,e.defaultChecked=!!o,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.name=C)}function V(e,n,a){n==="number"&&Wn(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function O(e,n,a,o){if(e=e.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=n.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&o&&(e[a].defaultSelected=!0)}else{for(a=""+On(a),n=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function _e(e,n,a){if(n!=null&&(n=""+On(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+On(a):""}function Kt(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(E(92));if(q(o)){if(1<o.length)throw Error(E(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=On(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function cn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Wo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oa(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||Wo.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function kn(e,n,a){if(n!=null&&typeof n!="object")throw Error(E(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&a[f]!==o&&Oa(e,f,o)}else for(var g in n)n.hasOwnProperty(g)&&Oa(e,g,n[g])}function De(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(e){return Ns.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var $r=null;function xr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ni=null,mr=null;function Qt(e){var n=qn(e);if(n&&(e=n.stateNode)){var a=e[Vt]||null;e:switch(e=n.stateNode,n.type){case"input":if(xt(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var f=o[Vt]||null;if(!f)throw Error(E(90));xt(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&Ut(o)}break e;case"textarea":_e(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&O(e,!!a.multiple,n,!1)}}}var Yi=!1;function yi(e,n,a){if(Yi)return e(n,a);Yi=!0;try{var o=e(n);return o}finally{if(Yi=!1,(Ni!==null||mr!==null)&&(ho(),Ni&&(n=Ni,e=mr,mr=Ni=null,Qt(n),e)))for(n=0;n<e.length;n++)Qt(e[n])}}function Le(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Vt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(E(231,n,typeof a));return a}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ge=!1;if(Ei)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Ge=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch{Ge=!1}var Ri=null,ea=null,ta=null;function Oi(){if(ta)return ta;var e,n=ea,a=n.length,o,f="value"in Ri?Ri.value:Ri.textContent,g=f.length;for(e=0;e<a&&n[e]===f[e];e++);var C=a-e;for(o=1;o<=C&&n[a-o]===f[g-o];o++);return ta=f.slice(e,1<o?1-o:void 0)}function Ia(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function _i(){return!0}function yr(){return!1}function nn(e){function n(a,o,f,g,C){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=g,this.target=C,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(a=e[N],this[N]=a?a(g):g[N]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?_i:yr,this.isPropagationStopped=yr,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),n}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=nn(Ii),wi=D({},Ii,{view:0,detail:0}),_n=nn(wi),Da,Ma,Er,Ba=D({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ia,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Er&&(Er&&e.type==="mousemove"?(Da=e.screenX-Er.screenX,Ma=e.screenY-Er.screenY):Ma=Da=0,Er=e),Da)},movementY:function(e){return"movementY"in e?e.movementY:Ma}}),Rs=nn(Ba),Ko=D({},Ba,{dataTransfer:0}),mt=nn(Ko),Os=D({},wi,{relatedTarget:0}),wr=nn(Os),Mi=D({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Qo=nn(Mi),K=D({},Ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qe=nn(K),fn=D({},Ii,{data:0}),na=nn(fn),_s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=$o[e])?!!n[e]:!1}function ia(){return eu}var Jt=D({},wi,{key:function(e){if(e.key){var n=_s[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ia(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ia,charCode:function(e){return e.type==="keypress"?Ia(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ia(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bl=nn(Jt),Ft=D({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ra=nn(Ft),Zi=D({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ia}),wt=nn(Zi),Ue=D({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),tu=nn(Ue),_t=D({},Ba,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qi=nn(_t),Ar=D({},Ii,{newState:0,oldState:0}),nu=nn(Ar),li=[9,13,27,32],aa=Ei&&"CompositionEvent"in window,pr=null;Ei&&"documentMode"in document&&(pr=document.documentMode);var Cl=Ei&&"TextEvent"in window&&!pr,Sl=Ei&&(!aa||pr&&8<pr&&11>=pr),vl=" ",Is=!1;function Wi(e,n){switch(e){case"keyup":return li.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function La(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var br=!1;function la(e,n){switch(e){case"compositionend":return La(n);case"keypress":return n.which!==32?null:(Is=!0,vl);case"textInput":return e=n.data,e===vl&&Is?null:e;default:return null}}function iu(e,n){if(br)return e==="compositionend"||!aa&&Wi(e,n)?(e=Oi(),ta=ea=Ri=null,br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Sl&&n.locale!=="ko"?null:n.data;default:return null}}var Bi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sa(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Bi[e.type]:n==="textarea"}function Un(e,n,a,o){Ni?mr?mr.push(o):mr=[o]:Ni=o,n=wo(n,"onChange"),0<n.length&&(a=new Di("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Cr=null,In=null;function ru(e){Df(e,0)}function Sr(e){var n=Si(e);if(Ut(n))return e}function Ds(e,n){if(e==="change")return n}var Tl=!1;if(Ei){var Gn;if(Ei){var Nl="oninput"in document;if(!Nl){var ka=document.createElement("div");ka.setAttribute("oninput","return;"),Nl=typeof ka.oninput=="function"}Gn=Nl}else Gn=!1;Tl=Gn&&(!document.documentMode||9<document.documentMode)}function vr(){Cr&&(Cr.detachEvent("onpropertychange",at),In=Cr=null)}function at(e){if(e.propertyName==="value"&&Sr(In)){var n=[];Un(n,In,e,xr(e)),yi(ru,n)}}function Ua(e,n,a){e==="focusin"?(vr(),Cr=n,In=a,Cr.attachEvent("onpropertychange",at)):e==="focusout"&&vr()}function S(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sr(In)}function t(e,n){if(e==="click")return Sr(n)}function i(e,n){if(e==="input"||e==="change")return Sr(n)}function r(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var l=typeof Object.is=="function"?Object.is:r;function s(e,n){if(l(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!gr.call(n,f)||!l(e[f],n[f]))return!1}return!0}function u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function c(e,n){var a=u(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=u(a)}}function h(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?h(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function m(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Wn(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Wn(e.document)}return n}function w(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var v=Ei&&"documentMode"in document&&11>=document.documentMode,T=null,I=null,B=null,F=!1;function G(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;F||T==null||T!==Wn(o)||(o=T,"selectionStart"in o&&w(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),B&&s(B,o)||(B=o,o=wo(I,"onSelect"),0<o.length&&(n=new Di("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=T)))}function Z(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var fe={animationend:Z("Animation","AnimationEnd"),animationiteration:Z("Animation","AnimationIteration"),animationstart:Z("Animation","AnimationStart"),transitionrun:Z("Transition","TransitionRun"),transitionstart:Z("Transition","TransitionStart"),transitioncancel:Z("Transition","TransitionCancel"),transitionend:Z("Transition","TransitionEnd")},me={},ue={};Ei&&(ue=document.createElement("div").style,"AnimationEvent"in window||(delete fe.animationend.animation,delete fe.animationiteration.animation,delete fe.animationstart.animation),"TransitionEvent"in window||delete fe.transitionend.transition);function Ve(e){if(me[e])return me[e];if(!fe[e])return e;var n=fe[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in ue)return me[e]=n[a];return e}var He=Ve("animationend"),Sn=Ve("animationiteration"),Vn=Ve("animationstart"),Dn=Ve("transitionrun"),At=Ve("transitionstart"),hn=Ve("transitioncancel"),Mn=Ve("transitionend"),Ki=new Map,Li="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Li.push("scrollEnd");function Kn(e,n){Ki.set(e,n),yn(n,[e])}var Ms=new WeakMap;function si(e,n){if(typeof e=="object"&&e!==null){var a=Ms.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Na(n)},Ms.set(e,n),n)}return{value:e,source:n,stack:Na(n)}}var oi=[],Fa=0,au=0;function Bs(){for(var e=Fa,n=au=Fa=0;n<e;){var a=oi[n];oi[n++]=null;var o=oi[n];oi[n++]=null;var f=oi[n];oi[n++]=null;var g=oi[n];if(oi[n++]=null,o!==null&&f!==null){var C=o.pending;C===null?f.next=f:(f.next=C.next,C.next=f),o.pending=f}g!==0&&x1(a,f,g)}}function Ls(e,n,a,o){oi[Fa++]=e,oi[Fa++]=n,oi[Fa++]=a,oi[Fa++]=o,au|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function lu(e,n,a,o){return Ls(e,n,a,o),ks(e)}function Pa(e,n){return Ls(e,null,null,n),ks(e)}function x1(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var f=!1,g=e.return;g!==null;)g.childLanes|=a,o=g.alternate,o!==null&&(o.childLanes|=a),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(f=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,f&&n!==null&&(f=31-yt(a),e=g.hiddenUpdates,o=e[f],o===null?e[f]=[n]:o.push(n),n.lane=a|536870912),g):null}function ks(e){if(50<Jl)throw Jl=0,hc=null,Error(E(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var za={};function fd(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(e,n,a,o){return new fd(e,n,a,o)}function su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qi(e,n){var a=e.alternate;return a===null?(a=Qn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function m1(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Us(e,n,a,o,f,g){var C=0;if(o=e,typeof e=="function")su(e)&&(C=1);else if(typeof e=="string")C=d2(e,a,ve.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case $:return e=Qn(31,a,n,f),e.elementType=$,e.lanes=g,e;case pe:return oa(a.children,f,g,n);case de:C=8,f|=24;break;case he:return e=Qn(12,a,n,f|2),e.elementType=he,e.lanes=g,e;case Ie:return e=Qn(13,a,n,f),e.elementType=Ie,e.lanes=g,e;case ke:return e=Qn(19,a,n,f),e.elementType=ke,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ce:case oe:C=10;break e;case be:C=9;break e;case Oe:C=11;break e;case le:C=14;break e;case xe:C=16,o=null;break e}C=29,a=Error(E(130,e===null?"null":typeof e,"")),o=null}return n=Qn(C,a,n,f),n.elementType=e,n.type=o,n.lanes=g,n}function oa(e,n,a,o){return e=Qn(7,e,o,n),e.lanes=a,e}function ou(e,n,a){return e=Qn(6,e,null,n),e.lanes=a,e}function uu(e,n,a){return n=Qn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ha=[],Ga=0,Fs=null,Ps=0,ui=[],ci=0,ua=null,Ji=1,$i="";function ca(e,n){Ha[Ga++]=Ps,Ha[Ga++]=Fs,Fs=e,Ps=n}function y1(e,n,a){ui[ci++]=Ji,ui[ci++]=$i,ui[ci++]=ua,ua=e;var o=Ji;e=$i;var f=32-yt(o)-1;o&=~(1<<f),a+=1;var g=32-yt(n)+f;if(30<g){var C=f-f%5;g=(o&(1<<C)-1).toString(32),o>>=C,f-=C,Ji=1<<32-yt(n)+f|a<<f|o,$i=g+e}else Ji=1<<g|a<<f|o,$i=e}function cu(e){e.return!==null&&(ca(e,1),y1(e,1,0))}function fu(e){for(;e===Fs;)Fs=Ha[--Ga],Ha[Ga]=null,Ps=Ha[--Ga],Ha[Ga]=null;for(;e===ua;)ua=ui[--ci],ui[ci]=null,$i=ui[--ci],ui[ci]=null,Ji=ui[--ci],ui[ci]=null}var Fn=null,Yt=null,gt=!1,fa=null,ki=!1,hu=Error(E(519));function ha(e){var n=Error(E(418,""));throw _l(si(n,e)),hu}function E1(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[xn]=e,n[Vt]=o,a){case"dialog":tt("cancel",n),tt("close",n);break;case"iframe":case"object":case"embed":tt("load",n);break;case"video":case"audio":for(a=0;a<es.length;a++)tt(es[a],n);break;case"source":tt("error",n);break;case"img":case"image":case"link":tt("error",n),tt("load",n);break;case"details":tt("toggle",n);break;case"input":tt("invalid",n),un(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ra(n);break;case"select":tt("invalid",n);break;case"textarea":tt("invalid",n),Kt(n,o.value,o.defaultValue,o.children),Ra(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||kf(n.textContent,a)?(o.popover!=null&&(tt("beforetoggle",n),tt("toggle",n)),o.onScroll!=null&&tt("scroll",n),o.onScrollEnd!=null&&tt("scrollend",n),o.onClick!=null&&(n.onclick=Ao),n=!0):n=!1,n||ha(e)}function w1(e){for(Fn=e.return;Fn;)switch(Fn.tag){case 5:case 13:ki=!1;return;case 27:case 3:ki=!0;return;default:Fn=Fn.return}}function Rl(e){if(e!==Fn)return!1;if(!gt)return w1(e),gt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Rc(e.type,e.memoizedProps)),a=!a),a&&Yt&&ha(e),w1(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){Yt=pi(e.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}Yt=null}}else n===27?(n=Yt,Hr(e.type)?(e=Dc,Dc=null,Yt=e):Yt=n):Yt=Fn?pi(e.stateNode.nextSibling):null;return!0}function Ol(){Yt=Fn=null,gt=!1}function A1(){var e=fa;return e!==null&&(Yn===null?Yn=e:Yn.push.apply(Yn,e),fa=null),e}function _l(e){fa===null?fa=[e]:fa.push(e)}var du=se(null),da=null,er=null;function Tr(e,n,a){Ae(du,n._currentValue),n._currentValue=a}function tr(e){e._currentValue=du.current,we(du)}function gu(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function xu(e,n,a,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var g=f.dependencies;if(g!==null){var C=f.child;g=g.firstContext;e:for(;g!==null;){var N=g;g=f;for(var M=0;M<n.length;M++)if(N.context===n[M]){g.lanes|=a,N=g.alternate,N!==null&&(N.lanes|=a),gu(g.return,a,e),o||(C=null);break e}g=N.next}}else if(f.tag===18){if(C=f.return,C===null)throw Error(E(341));C.lanes|=a,g=C.alternate,g!==null&&(g.lanes|=a),gu(C,a,e),C=null}else C=f.child;if(C!==null)C.return=f;else for(C=f;C!==null;){if(C===e){C=null;break}if(f=C.sibling,f!==null){f.return=C.return,C=f;break}C=C.return}f=C}}function Il(e,n,a,o){e=null;for(var f=n,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var C=f.alternate;if(C===null)throw Error(E(387));if(C=C.memoizedProps,C!==null){var N=f.type;l(f.pendingProps.value,C.value)||(e!==null?e.push(N):e=[N])}}else if(f===pn.current){if(C=f.alternate,C===null)throw Error(E(387));C.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(ls):e=[ls])}f=f.return}e!==null&&xu(n,e,a,o),n.flags|=262144}function zs(e){for(e=e.firstContext;e!==null;){if(!l(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ga(e){da=e,er=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Bn(e){return p1(da,e)}function Hs(e,n){return da===null&&ga(e),p1(e,n)}function p1(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},er===null){if(e===null)throw Error(E(308));er=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else er=er.next=n;return a}var hd=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},dd=d.unstable_scheduleCallback,gd=d.unstable_NormalPriority,dn={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mu(){return{controller:new hd,data:new Map,refCount:0}}function Dl(e){e.refCount--,e.refCount===0&&dd(gd,function(){e.controller.abort()})}var Ml=null,yu=0,Va=0,Xa=null;function xd(e,n){if(Ml===null){var a=Ml=[];yu=0,Va=wc(),Xa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return yu++,n.then(b1,b1),n}function b1(){if(--yu===0&&Ml!==null){Xa!==null&&(Xa.status="fulfilled");var e=Ml;Ml=null,Va=0,Xa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function md(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var C1=Q.S;Q.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&xd(e,n),C1!==null&&C1(e,n)};var xa=se(null);function Eu(){var e=xa.current;return e!==null?e:Mt.pooledCache}function Gs(e,n){n===null?Ae(xa,xa.current):Ae(xa,n.pool)}function S1(){var e=Eu();return e===null?null:{parent:dn._currentValue,pool:e}}var Bl=Error(E(460)),v1=Error(E(474)),Vs=Error(E(542)),wu={then:function(){}};function T1(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xs(){}function N1(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Xs,Xs),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,O1(e),e;default:if(typeof n.status=="string")n.then(Xs,Xs);else{if(e=Mt,e!==null&&100<e.shellSuspendCounter)throw Error(E(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,O1(e),e}throw Ll=n,Bl}}var Ll=null;function R1(){if(Ll===null)throw Error(E(459));var e=Ll;return Ll=null,e}function O1(e){if(e===Bl||e===Vs)throw Error(E(483))}var Nr=!1;function Au(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Or(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(pt&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=ks(e),x1(e,null,a),n}return Ls(e,o,n,a),ks(e)}function kl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,zn(e,a)}}function bu(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var C={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?f=g=C:g=g.next=C,a=a.next}while(a!==null);g===null?f=g=n:g=g.next=n}else f=g=n;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Cu=!1;function Ul(){if(Cu){var e=Xa;if(e!==null)throw e}}function Fl(e,n,a,o){Cu=!1;var f=e.updateQueue;Nr=!1;var g=f.firstBaseUpdate,C=f.lastBaseUpdate,N=f.shared.pending;if(N!==null){f.shared.pending=null;var M=N,j=M.next;M.next=null,C===null?g=j:C.next=j,C=M;var ee=e.alternate;ee!==null&&(ee=ee.updateQueue,N=ee.lastBaseUpdate,N!==C&&(N===null?ee.firstBaseUpdate=j:N.next=j,ee.lastBaseUpdate=M))}if(g!==null){var re=f.baseState;C=0,ee=j=M=null,N=g;do{var Y=N.lane&-536870913,W=Y!==N.lane;if(W?(ct&Y)===Y:(o&Y)===Y){Y!==0&&Y===Va&&(Cu=!0),ee!==null&&(ee=ee.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var ze=e,Fe=N;Y=n;var Rt=a;switch(Fe.tag){case 1:if(ze=Fe.payload,typeof ze=="function"){re=ze.call(Rt,re,Y);break e}re=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Fe.payload,Y=typeof ze=="function"?ze.call(Rt,re,Y):ze,Y==null)break e;re=D({},re,Y);break e;case 2:Nr=!0}}Y=N.callback,Y!==null&&(e.flags|=64,W&&(e.flags|=8192),W=f.callbacks,W===null?f.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ee===null?(j=ee=W,M=re):ee=ee.next=W,C|=Y;if(N=N.next,N===null){if(N=f.shared.pending,N===null)break;W=N,N=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);ee===null&&(M=re),f.baseState=M,f.firstBaseUpdate=j,f.lastBaseUpdate=ee,g===null&&(f.shared.lanes=0),Ur|=C,e.lanes=C,e.memoizedState=re}}function _1(e,n){if(typeof e!="function")throw Error(E(191,e));e.call(n)}function I1(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)_1(a[e],n)}var ja=se(null),js=se(0);function D1(e,n){e=or,Ae(js,e),Ae(ja,n),or=e|n.baseLanes}function Su(){Ae(js,or),Ae(ja,ja.current)}function vu(){or=js.current,we(ja),we(js)}var _r=0,Qe=null,Tt=null,rn=null,Ys=!1,Ya=!1,ma=!1,Zs=0,Pl=0,Za=null,yd=0;function $t(){throw Error(E(321))}function Tu(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!l(e[a],n[a]))return!1;return!0}function Nu(e,n,a,o,f,g){return _r=g,Qe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=e===null||e.memoizedState===null?x0:m0,ma=!1,g=a(o,f),ma=!1,Ya&&(g=B1(n,a,o,f)),M1(e),g}function M1(e){Q.H=$s;var n=Tt!==null&&Tt.next!==null;if(_r=0,rn=Tt=Qe=null,Ys=!1,Pl=0,Za=null,n)throw Error(E(300));e===null||En||(e=e.dependencies,e!==null&&zs(e)&&(En=!0))}function B1(e,n,a,o){Qe=e;var f=0;do{if(Ya&&(Za=null),Pl=0,Ya=!1,25<=f)throw Error(E(301));if(f+=1,rn=Tt=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Q.H=Sd,g=n(a,o)}while(Ya);return g}function Ed(){var e=Q.H,n=e.useState()[0];return n=typeof n.then=="function"?zl(n):n,e=e.useState()[0],(Tt!==null?Tt.memoizedState:null)!==e&&(Qe.flags|=1024),n}function Ru(){var e=Zs!==0;return Zs=0,e}function Ou(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function _u(e){if(Ys){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ys=!1}_r=0,rn=Tt=Qe=null,Ya=!1,Pl=Zs=0,Za=null}function Xn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Qe.memoizedState=rn=e:rn=rn.next=e,rn}function an(){if(Tt===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var n=rn===null?Qe.memoizedState:rn.next;if(n!==null)rn=n,Tt=e;else{if(e===null)throw Qe.alternate===null?Error(E(467)):Error(E(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},rn===null?Qe.memoizedState=rn=e:rn=rn.next=e}return rn}function Iu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zl(e){var n=Pl;return Pl+=1,Za===null&&(Za=[]),e=N1(Za,e,n),n=Qe,(rn===null?n.memoizedState:rn.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?x0:m0),e}function qs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zl(e);if(e.$$typeof===oe)return Bn(e)}throw Error(E(438,String(e)))}function Du(e){var n=null,a=Qe.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Qe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Iu(),Qe.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=Xe;return n.index++,a}function nr(e,n){return typeof n=="function"?n(e):n}function Ws(e){var n=an();return Mu(n,Tt,e)}function Mu(e,n,a){var o=e.queue;if(o===null)throw Error(E(311));o.lastRenderedReducer=a;var f=e.baseQueue,g=o.pending;if(g!==null){if(f!==null){var C=f.next;f.next=g.next,g.next=C}n.baseQueue=f=g,o.pending=null}if(g=e.baseState,f===null)e.memoizedState=g;else{n=f.next;var N=C=null,M=null,j=n,ee=!1;do{var re=j.lane&-536870913;if(re!==j.lane?(ct&re)===re:(_r&re)===re){var Y=j.revertLane;if(Y===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),re===Va&&(ee=!0);else if((_r&Y)===Y){j=j.next,Y===Va&&(ee=!0);continue}else re={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},M===null?(N=M=re,C=g):M=M.next=re,Qe.lanes|=Y,Ur|=Y;re=j.action,ma&&a(g,re),g=j.hasEagerState?j.eagerState:a(g,re)}else Y={lane:re,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},M===null?(N=M=Y,C=g):M=M.next=Y,Qe.lanes|=re,Ur|=re;j=j.next}while(j!==null&&j!==n);if(M===null?C=g:M.next=N,!l(g,e.memoizedState)&&(En=!0,ee&&(a=Xa,a!==null)))throw a;e.memoizedState=g,e.baseState=C,e.baseQueue=M,o.lastRenderedState=g}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Bu(e){var n=an(),a=n.queue;if(a===null)throw Error(E(311));a.lastRenderedReducer=e;var o=a.dispatch,f=a.pending,g=n.memoizedState;if(f!==null){a.pending=null;var C=f=f.next;do g=e(g,C.action),C=C.next;while(C!==f);l(g,n.memoizedState)||(En=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),a.lastRenderedState=g}return[g,o]}function L1(e,n,a){var o=Qe,f=an(),g=gt;if(g){if(a===void 0)throw Error(E(407));a=a()}else a=n();var C=!l((Tt||f).memoizedState,a);C&&(f.memoizedState=a,En=!0),f=f.queue;var N=F1.bind(null,o,f,e);if(Hl(2048,8,N,[e]),f.getSnapshot!==n||C||rn!==null&&rn.memoizedState.tag&1){if(o.flags|=2048,qa(9,Ks(),U1.bind(null,o,f,a,n),null),Mt===null)throw Error(E(349));g||(_r&124)!==0||k1(o,n,a)}return a}function k1(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Qe.updateQueue,n===null?(n=Iu(),Qe.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function U1(e,n,a,o){n.value=a,n.getSnapshot=o,P1(n)&&z1(e)}function F1(e,n,a){return a(function(){P1(n)&&z1(e)})}function P1(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!l(e,a)}catch{return!0}}function z1(e){var n=Pa(e,2);n!==null&&ni(n,e,2)}function Lu(e){var n=Xn();if(typeof e=="function"){var a=e;if(e=a(),ma){Cn(!0);try{a()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:e},n}function H1(e,n,a,o){return e.baseState=a,Mu(e,Tt,typeof o=="function"?o:nr)}function wd(e,n,a,o,f){if(Js(e))throw Error(E(485));if(e=n.action,e!==null){var g={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){g.listeners.push(C)}};Q.T!==null?a(!0):g.isTransition=!1,o(g),a=n.pending,a===null?(g.next=n.pending=g,G1(n,g)):(g.next=a.next,n.pending=a.next=g)}}function G1(e,n){var a=n.action,o=n.payload,f=e.state;if(n.isTransition){var g=Q.T,C={};Q.T=C;try{var N=a(f,o),M=Q.S;M!==null&&M(C,N),V1(e,n,N)}catch(j){ku(e,n,j)}finally{Q.T=g}}else try{g=a(f,o),V1(e,n,g)}catch(j){ku(e,n,j)}}function V1(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){X1(e,n,o)},function(o){return ku(e,n,o)}):X1(e,n,a)}function X1(e,n,a){n.status="fulfilled",n.value=a,j1(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,G1(e,a)))}function ku(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,j1(n),n=n.next;while(n!==o)}e.action=null}function j1(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Y1(e,n){return n}function Z1(e,n){if(gt){var a=Mt.formState;if(a!==null){e:{var o=Qe;if(gt){if(Yt){t:{for(var f=Yt,g=ki;f.nodeType!==8;){if(!g){f=null;break t}if(f=pi(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Yt=pi(f.nextSibling),o=f.data==="F!";break e}}ha(o)}o=!1}o&&(n=a[0])}}return a=Xn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y1,lastRenderedState:n},a.queue=o,a=h0.bind(null,Qe,o),o.dispatch=a,o=Lu(!1),g=Hu.bind(null,Qe,!1,o.queue),o=Xn(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,a=wd.bind(null,Qe,f,g,a),f.dispatch=a,o.memoizedState=e,[n,a,!1]}function q1(e){var n=an();return W1(n,Tt,e)}function W1(e,n,a){if(n=Mu(e,n,Y1)[0],e=Ws(nr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=zl(n)}catch(C){throw C===Bl?Vs:C}else o=n;n=an();var f=n.queue,g=f.dispatch;return a!==n.memoizedState&&(Qe.flags|=2048,qa(9,Ks(),Ad.bind(null,f,a),null)),[o,g,e]}function Ad(e,n){e.action=n}function K1(e){var n=an(),a=Tt;if(a!==null)return W1(n,a,e);an(),n=n.memoizedState,a=an();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function qa(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Qe.updateQueue,n===null&&(n=Iu(),Qe.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Ks(){return{destroy:void 0,resource:void 0}}function Q1(){return an().memoizedState}function Qs(e,n,a,o){var f=Xn();o=o===void 0?null:o,Qe.flags|=e,f.memoizedState=qa(1|n,Ks(),a,o)}function Hl(e,n,a,o){var f=an();o=o===void 0?null:o;var g=f.memoizedState.inst;Tt!==null&&o!==null&&Tu(o,Tt.memoizedState.deps)?f.memoizedState=qa(n,g,a,o):(Qe.flags|=e,f.memoizedState=qa(1|n,g,a,o))}function J1(e,n){Qs(8390656,8,e,n)}function $1(e,n){Hl(2048,8,e,n)}function e0(e,n){return Hl(4,2,e,n)}function t0(e,n){return Hl(4,4,e,n)}function n0(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function i0(e,n,a){a=a!=null?a.concat([e]):null,Hl(4,4,n0.bind(null,n,e),a)}function Uu(){}function r0(e,n){var a=an();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Tu(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function a0(e,n){var a=an();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Tu(n,o[1]))return o[0];if(o=e(),ma){Cn(!0);try{e()}finally{Cn(!1)}}return a.memoizedState=[o,n],o}function Fu(e,n,a){return a===void 0||(_r&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=uf(),Qe.lanes|=e,Ur|=e,a)}function l0(e,n,a,o){return l(a,n)?a:ja.current!==null?(e=Fu(e,a,o),l(e,n)||(En=!0),e):(_r&42)===0?(En=!0,e.memoizedState=a):(e=uf(),Qe.lanes|=e,Ur|=e,n)}function s0(e,n,a,o,f){var g=ie.p;ie.p=g!==0&&8>g?g:8;var C=Q.T,N={};Q.T=N,Hu(e,!1,n,a);try{var M=f(),j=Q.S;if(j!==null&&j(N,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var ee=md(M,o);Gl(e,n,ee,ti(e))}else Gl(e,n,o,ti(e))}catch(re){Gl(e,n,{then:function(){},status:"rejected",reason:re},ti())}finally{ie.p=g,Q.T=C}}function pd(){}function Pu(e,n,a,o){if(e.tag!==5)throw Error(E(476));var f=o0(e).queue;s0(e,f,n,Be,a===null?pd:function(){return u0(e),a(o)})}function o0(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Be,baseState:Be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:Be},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function u0(e){var n=o0(e).next.queue;Gl(e,n,{},ti())}function zu(){return Bn(ls)}function c0(){return an().memoizedState}function f0(){return an().memoizedState}function bd(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=ti();e=Rr(a);var o=Or(n,e,a);o!==null&&(ni(o,n,a),kl(o,n,a)),n={cache:mu()},e.payload=n;return}n=n.return}}function Cd(e,n,a){var o=ti();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Js(e)?d0(n,a):(a=lu(e,n,a,o),a!==null&&(ni(a,e,o),g0(a,n,o)))}function h0(e,n,a){var o=ti();Gl(e,n,a,o)}function Gl(e,n,a,o){var f={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Js(e))d0(n,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var C=n.lastRenderedState,N=g(C,a);if(f.hasEagerState=!0,f.eagerState=N,l(N,C))return Ls(e,n,f,0),Mt===null&&Bs(),!1}catch{}finally{}if(a=lu(e,n,f,o),a!==null)return ni(a,e,o),g0(a,n,o),!0}return!1}function Hu(e,n,a,o){if(o={lane:2,revertLane:wc(),action:o,hasEagerState:!1,eagerState:null,next:null},Js(e)){if(n)throw Error(E(479))}else n=lu(e,a,o,2),n!==null&&ni(n,e,2)}function Js(e){var n=e.alternate;return e===Qe||n!==null&&n===Qe}function d0(e,n){Ya=Ys=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function g0(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,zn(e,a)}}var $s={readContext:Bn,use:qs,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t},x0={readContext:Bn,use:qs,useCallback:function(e,n){return Xn().memoizedState=[e,n===void 0?null:n],e},useContext:Bn,useEffect:J1,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Qs(4194308,4,n0.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Qs(4194308,4,e,n)},useInsertionEffect:function(e,n){Qs(4,2,e,n)},useMemo:function(e,n){var a=Xn();n=n===void 0?null:n;var o=e();if(ma){Cn(!0);try{e()}finally{Cn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=Xn();if(a!==void 0){var f=a(n);if(ma){Cn(!0);try{a(n)}finally{Cn(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=Cd.bind(null,Qe,e),[o.memoizedState,e]},useRef:function(e){var n=Xn();return e={current:e},n.memoizedState=e},useState:function(e){e=Lu(e);var n=e.queue,a=h0.bind(null,Qe,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Uu,useDeferredValue:function(e,n){var a=Xn();return Fu(a,e,n)},useTransition:function(){var e=Lu(!1);return e=s0.bind(null,Qe,e.queue,!0,!1),Xn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Qe,f=Xn();if(gt){if(a===void 0)throw Error(E(407));a=a()}else{if(a=n(),Mt===null)throw Error(E(349));(ct&124)!==0||k1(o,n,a)}f.memoizedState=a;var g={value:a,getSnapshot:n};return f.queue=g,J1(F1.bind(null,o,g,e),[e]),o.flags|=2048,qa(9,Ks(),U1.bind(null,o,g,a,n),null),a},useId:function(){var e=Xn(),n=Mt.identifierPrefix;if(gt){var a=$i,o=Ji;a=(o&~(1<<32-yt(o)-1)).toString(32)+a,n="«"+n+"R"+a,a=Zs++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=yd++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:zu,useFormState:Z1,useActionState:Z1,useOptimistic:function(e){var n=Xn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Hu.bind(null,Qe,!0,a),a.dispatch=n,[e,n]},useMemoCache:Du,useCacheRefresh:function(){return Xn().memoizedState=bd.bind(null,Qe)}},m0={readContext:Bn,use:qs,useCallback:r0,useContext:Bn,useEffect:$1,useImperativeHandle:i0,useInsertionEffect:e0,useLayoutEffect:t0,useMemo:a0,useReducer:Ws,useRef:Q1,useState:function(){return Ws(nr)},useDebugValue:Uu,useDeferredValue:function(e,n){var a=an();return l0(a,Tt.memoizedState,e,n)},useTransition:function(){var e=Ws(nr)[0],n=an().memoizedState;return[typeof e=="boolean"?e:zl(e),n]},useSyncExternalStore:L1,useId:c0,useHostTransitionStatus:zu,useFormState:q1,useActionState:q1,useOptimistic:function(e,n){var a=an();return H1(a,Tt,e,n)},useMemoCache:Du,useCacheRefresh:f0},Sd={readContext:Bn,use:qs,useCallback:r0,useContext:Bn,useEffect:$1,useImperativeHandle:i0,useInsertionEffect:e0,useLayoutEffect:t0,useMemo:a0,useReducer:Bu,useRef:Q1,useState:function(){return Bu(nr)},useDebugValue:Uu,useDeferredValue:function(e,n){var a=an();return Tt===null?Fu(a,e,n):l0(a,Tt.memoizedState,e,n)},useTransition:function(){var e=Bu(nr)[0],n=an().memoizedState;return[typeof e=="boolean"?e:zl(e),n]},useSyncExternalStore:L1,useId:c0,useHostTransitionStatus:zu,useFormState:K1,useActionState:K1,useOptimistic:function(e,n){var a=an();return Tt!==null?H1(a,Tt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Du,useCacheRefresh:f0},Wa=null,Vl=0;function eo(e){var n=Vl;return Vl+=1,Wa===null&&(Wa=[]),N1(Wa,e,n)}function Xl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function to(e,n){throw n.$$typeof===P?Error(E(525)):(e=Object.prototype.toString.call(n),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function y0(e){var n=e._init;return n(e._payload)}function E0(e){function n(H,z){if(e){var X=H.deletions;X===null?(H.deletions=[z],H.flags|=16):X.push(z)}}function a(H,z){if(!e)return null;for(;z!==null;)n(H,z),z=z.sibling;return null}function o(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function f(H,z){return H=Qi(H,z),H.index=0,H.sibling=null,H}function g(H,z,X){return H.index=X,e?(X=H.alternate,X!==null?(X=X.index,X<z?(H.flags|=67108866,z):X):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function C(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function N(H,z,X,te){return z===null||z.tag!==6?(z=ou(X,H.mode,te),z.return=H,z):(z=f(z,X),z.return=H,z)}function M(H,z,X,te){var Re=X.type;return Re===pe?ee(H,z,X.props.children,te,X.key):z!==null&&(z.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===xe&&y0(Re)===z.type)?(z=f(z,X.props),Xl(z,X),z.return=H,z):(z=Us(X.type,X.key,X.props,null,H.mode,te),Xl(z,X),z.return=H,z)}function j(H,z,X,te){return z===null||z.tag!==4||z.stateNode.containerInfo!==X.containerInfo||z.stateNode.implementation!==X.implementation?(z=uu(X,H.mode,te),z.return=H,z):(z=f(z,X.children||[]),z.return=H,z)}function ee(H,z,X,te,Re){return z===null||z.tag!==7?(z=oa(X,H.mode,te,Re),z.return=H,z):(z=f(z,X),z.return=H,z)}function re(H,z,X){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=ou(""+z,H.mode,X),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ne:return X=Us(z.type,z.key,z.props,null,H.mode,X),Xl(X,z),X.return=H,X;case ye:return z=uu(z,H.mode,X),z.return=H,z;case xe:var te=z._init;return z=te(z._payload),re(H,z,X)}if(q(z)||Ce(z))return z=oa(z,H.mode,X,null),z.return=H,z;if(typeof z.then=="function")return re(H,eo(z),X);if(z.$$typeof===oe)return re(H,Hs(H,z),X);to(H,z)}return null}function Y(H,z,X,te){var Re=z!==null?z.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Re!==null?null:N(H,z,""+X,te);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case ne:return X.key===Re?M(H,z,X,te):null;case ye:return X.key===Re?j(H,z,X,te):null;case xe:return Re=X._init,X=Re(X._payload),Y(H,z,X,te)}if(q(X)||Ce(X))return Re!==null?null:ee(H,z,X,te,null);if(typeof X.then=="function")return Y(H,z,eo(X),te);if(X.$$typeof===oe)return Y(H,z,Hs(H,X),te);to(H,X)}return null}function W(H,z,X,te,Re){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return H=H.get(X)||null,N(z,H,""+te,Re);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case ne:return H=H.get(te.key===null?X:te.key)||null,M(z,H,te,Re);case ye:return H=H.get(te.key===null?X:te.key)||null,j(z,H,te,Re);case xe:var Je=te._init;return te=Je(te._payload),W(H,z,X,te,Re)}if(q(te)||Ce(te))return H=H.get(X)||null,ee(z,H,te,Re,null);if(typeof te.then=="function")return W(H,z,X,eo(te),Re);if(te.$$typeof===oe)return W(H,z,X,Hs(z,te),Re);to(z,te)}return null}function ze(H,z,X,te){for(var Re=null,Je=null,Me=z,Pe=z=0,An=null;Me!==null&&Pe<X.length;Pe++){Me.index>Pe?(An=Me,Me=null):An=Me.sibling;var dt=Y(H,Me,X[Pe],te);if(dt===null){Me===null&&(Me=An);break}e&&Me&&dt.alternate===null&&n(H,Me),z=g(dt,z,Pe),Je===null?Re=dt:Je.sibling=dt,Je=dt,Me=An}if(Pe===X.length)return a(H,Me),gt&&ca(H,Pe),Re;if(Me===null){for(;Pe<X.length;Pe++)Me=re(H,X[Pe],te),Me!==null&&(z=g(Me,z,Pe),Je===null?Re=Me:Je.sibling=Me,Je=Me);return gt&&ca(H,Pe),Re}for(Me=o(Me);Pe<X.length;Pe++)An=W(Me,H,Pe,X[Pe],te),An!==null&&(e&&An.alternate!==null&&Me.delete(An.key===null?Pe:An.key),z=g(An,z,Pe),Je===null?Re=An:Je.sibling=An,Je=An);return e&&Me.forEach(function(Yr){return n(H,Yr)}),gt&&ca(H,Pe),Re}function Fe(H,z,X,te){if(X==null)throw Error(E(151));for(var Re=null,Je=null,Me=z,Pe=z=0,An=null,dt=X.next();Me!==null&&!dt.done;Pe++,dt=X.next()){Me.index>Pe?(An=Me,Me=null):An=Me.sibling;var Yr=Y(H,Me,dt.value,te);if(Yr===null){Me===null&&(Me=An);break}e&&Me&&Yr.alternate===null&&n(H,Me),z=g(Yr,z,Pe),Je===null?Re=Yr:Je.sibling=Yr,Je=Yr,Me=An}if(dt.done)return a(H,Me),gt&&ca(H,Pe),Re;if(Me===null){for(;!dt.done;Pe++,dt=X.next())dt=re(H,dt.value,te),dt!==null&&(z=g(dt,z,Pe),Je===null?Re=dt:Je.sibling=dt,Je=dt);return gt&&ca(H,Pe),Re}for(Me=o(Me);!dt.done;Pe++,dt=X.next())dt=W(Me,H,Pe,dt.value,te),dt!==null&&(e&&dt.alternate!==null&&Me.delete(dt.key===null?Pe:dt.key),z=g(dt,z,Pe),Je===null?Re=dt:Je.sibling=dt,Je=dt);return e&&Me.forEach(function(v2){return n(H,v2)}),gt&&ca(H,Pe),Re}function Rt(H,z,X,te){if(typeof X=="object"&&X!==null&&X.type===pe&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case ne:e:{for(var Re=X.key;z!==null;){if(z.key===Re){if(Re=X.type,Re===pe){if(z.tag===7){a(H,z.sibling),te=f(z,X.props.children),te.return=H,H=te;break e}}else if(z.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===xe&&y0(Re)===z.type){a(H,z.sibling),te=f(z,X.props),Xl(te,X),te.return=H,H=te;break e}a(H,z);break}else n(H,z);z=z.sibling}X.type===pe?(te=oa(X.props.children,H.mode,te,X.key),te.return=H,H=te):(te=Us(X.type,X.key,X.props,null,H.mode,te),Xl(te,X),te.return=H,H=te)}return C(H);case ye:e:{for(Re=X.key;z!==null;){if(z.key===Re)if(z.tag===4&&z.stateNode.containerInfo===X.containerInfo&&z.stateNode.implementation===X.implementation){a(H,z.sibling),te=f(z,X.children||[]),te.return=H,H=te;break e}else{a(H,z);break}else n(H,z);z=z.sibling}te=uu(X,H.mode,te),te.return=H,H=te}return C(H);case xe:return Re=X._init,X=Re(X._payload),Rt(H,z,X,te)}if(q(X))return ze(H,z,X,te);if(Ce(X)){if(Re=Ce(X),typeof Re!="function")throw Error(E(150));return X=Re.call(X),Fe(H,z,X,te)}if(typeof X.then=="function")return Rt(H,z,eo(X),te);if(X.$$typeof===oe)return Rt(H,z,Hs(H,X),te);to(H,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,z!==null&&z.tag===6?(a(H,z.sibling),te=f(z,X),te.return=H,H=te):(a(H,z),te=ou(X,H.mode,te),te.return=H,H=te),C(H)):a(H,z)}return function(H,z,X,te){try{Vl=0;var Re=Rt(H,z,X,te);return Wa=null,Re}catch(Me){if(Me===Bl||Me===Vs)throw Me;var Je=Qn(29,Me,null,H.mode);return Je.lanes=te,Je.return=H,Je}finally{}}}var Ka=E0(!0),w0=E0(!1),fi=se(null),Ui=null;function Ir(e){var n=e.alternate;Ae(gn,gn.current&1),Ae(fi,e),Ui===null&&(n===null||ja.current!==null||n.memoizedState!==null)&&(Ui=e)}function A0(e){if(e.tag===22){if(Ae(gn,gn.current),Ae(fi,e),Ui===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Ui=e)}}else Dr()}function Dr(){Ae(gn,gn.current),Ae(fi,fi.current)}function ir(e){we(fi),Ui===e&&(Ui=null),we(gn)}var gn=se(0);function no(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ic(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Gu(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:D({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Vu={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=ti(),f=Rr(o);f.payload=n,a!=null&&(f.callback=a),n=Or(e,f,o),n!==null&&(ni(n,e,o),kl(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=ti(),f=Rr(o);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=Or(e,f,o),n!==null&&(ni(n,e,o),kl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=ti(),o=Rr(a);o.tag=2,n!=null&&(o.callback=n),n=Or(e,o,a),n!==null&&(ni(n,e,a),kl(n,e,a))}};function p0(e,n,a,o,f,g,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,g,C):n.prototype&&n.prototype.isPureReactComponent?!s(a,o)||!s(f,g):!0}function b0(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Vu.enqueueReplaceState(n,n.state,null)}function ya(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=D({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var io=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function C0(e){io(e)}function S0(e){console.error(e)}function v0(e){io(e)}function ro(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function T0(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Xu(e,n,a){return a=Rr(a),a.tag=3,a.payload={element:null},a.callback=function(){ro(e,n)},a}function N0(e){return e=Rr(e),e.tag=3,e}function R0(e,n,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;e.payload=function(){return f(g)},e.callback=function(){T0(n,a,o)}}var C=a.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(e.callback=function(){T0(n,a,o),typeof f!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var N=o.stack;this.componentDidCatch(o.value,{componentStack:N!==null?N:""})})}function vd(e,n,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Il(n,a,f,!0),a=fi.current,a!==null){switch(a.tag){case 13:return Ui===null?gc():a.alternate===null&&Zt===0&&(Zt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===wu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),mc(e,o,f)),!1;case 22:return a.flags|=65536,o===wu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),mc(e,o,f)),!1}throw Error(E(435,a.tag))}return mc(e,o,f),gc(),!1}if(gt)return n=fi.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==hu&&(e=Error(E(422),{cause:o}),_l(si(e,a)))):(o!==hu&&(n=Error(E(423),{cause:o}),_l(si(n,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=si(o,a),f=Xu(e.stateNode,o,f),bu(e,f),Zt!==4&&(Zt=2)),!1;var g=Error(E(520),{cause:o});if(g=si(g,a),Ql===null?Ql=[g]:Ql.push(g),Zt!==4&&(Zt=2),n===null)return!0;o=si(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Xu(a.stateNode,o,e),bu(a,e),!1;case 1:if(n=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Fr===null||!Fr.has(g))))return a.flags|=65536,f&=-f,a.lanes|=f,f=N0(f),R0(f,e,a,o),bu(a,f),!1}a=a.return}while(a!==null);return!1}var O0=Error(E(461)),En=!1;function vn(e,n,a,o){n.child=e===null?w0(n,null,a,o):Ka(n,e.child,a,o)}function _0(e,n,a,o,f){a=a.render;var g=n.ref;if("ref"in o){var C={};for(var N in o)N!=="ref"&&(C[N]=o[N])}else C=o;return ga(n),o=Nu(e,n,a,C,g,f),N=Ru(),e!==null&&!En?(Ou(e,n,f),rr(e,n,f)):(gt&&N&&cu(n),n.flags|=1,vn(e,n,o,f),n.child)}function I0(e,n,a,o,f){if(e===null){var g=a.type;return typeof g=="function"&&!su(g)&&g.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=g,D0(e,n,g,o,f)):(e=Us(a.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!Ju(e,f)){var C=g.memoizedProps;if(a=a.compare,a=a!==null?a:s,a(C,o)&&e.ref===n.ref)return rr(e,n,f)}return n.flags|=1,e=Qi(g,o),e.ref=n.ref,e.return=n,n.child=e}function D0(e,n,a,o,f){if(e!==null){var g=e.memoizedProps;if(s(g,o)&&e.ref===n.ref)if(En=!1,n.pendingProps=o=g,Ju(e,f))(e.flags&131072)!==0&&(En=!0);else return n.lanes=e.lanes,rr(e,n,f)}return ju(e,n,a,o,f)}function M0(e,n,a){var o=n.pendingProps,f=o.children,g=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=g!==null?g.baseLanes|a:a,e!==null){for(f=n.child=e.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;n.childLanes=g&~o}else n.childLanes=0,n.child=null;return B0(e,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gs(n,g!==null?g.cachePool:null),g!==null?D1(n,g):Su(),A0(n);else return n.lanes=n.childLanes=536870912,B0(e,n,g!==null?g.baseLanes|a:a,a)}else g!==null?(Gs(n,g.cachePool),D1(n,g),Dr(),n.memoizedState=null):(e!==null&&Gs(n,null),Su(),Dr());return vn(e,n,f,a),n.child}function B0(e,n,a,o){var f=Eu();return f=f===null?null:{parent:dn._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Gs(n,null),Su(),A0(n),e!==null&&Il(e,n,o,!0),null}function ao(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(E(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function ju(e,n,a,o,f){return ga(n),a=Nu(e,n,a,o,void 0,f),o=Ru(),e!==null&&!En?(Ou(e,n,f),rr(e,n,f)):(gt&&o&&cu(n),n.flags|=1,vn(e,n,a,f),n.child)}function L0(e,n,a,o,f,g){return ga(n),n.updateQueue=null,a=B1(n,o,a,f),M1(e),o=Ru(),e!==null&&!En?(Ou(e,n,g),rr(e,n,g)):(gt&&o&&cu(n),n.flags|=1,vn(e,n,a,g),n.child)}function k0(e,n,a,o,f){if(ga(n),n.stateNode===null){var g=za,C=a.contextType;typeof C=="object"&&C!==null&&(g=Bn(C)),g=new a(o,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Vu,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=o,g.state=n.memoizedState,g.refs={},Au(n),C=a.contextType,g.context=typeof C=="object"&&C!==null?Bn(C):za,g.state=n.memoizedState,C=a.getDerivedStateFromProps,typeof C=="function"&&(Gu(n,a,C,o),g.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(C=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),C!==g.state&&Vu.enqueueReplaceState(g,g.state,null),Fl(n,o,g,f),Ul(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){g=n.stateNode;var N=n.memoizedProps,M=ya(a,N);g.props=M;var j=g.context,ee=a.contextType;C=za,typeof ee=="object"&&ee!==null&&(C=Bn(ee));var re=a.getDerivedStateFromProps;ee=typeof re=="function"||typeof g.getSnapshotBeforeUpdate=="function",N=n.pendingProps!==N,ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N||j!==C)&&b0(n,g,o,C),Nr=!1;var Y=n.memoizedState;g.state=Y,Fl(n,o,g,f),Ul(),j=n.memoizedState,N||Y!==j||Nr?(typeof re=="function"&&(Gu(n,a,re,o),j=n.memoizedState),(M=Nr||p0(n,a,M,o,Y,j,C))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),g.props=o,g.state=j,g.context=C,o=M):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{g=n.stateNode,pu(e,n),C=n.memoizedProps,ee=ya(a,C),g.props=ee,re=n.pendingProps,Y=g.context,j=a.contextType,M=za,typeof j=="object"&&j!==null&&(M=Bn(j)),N=a.getDerivedStateFromProps,(j=typeof N=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C!==re||Y!==M)&&b0(n,g,o,M),Nr=!1,Y=n.memoizedState,g.state=Y,Fl(n,o,g,f),Ul();var W=n.memoizedState;C!==re||Y!==W||Nr||e!==null&&e.dependencies!==null&&zs(e.dependencies)?(typeof N=="function"&&(Gu(n,a,N,o),W=n.memoizedState),(ee=Nr||p0(n,a,ee,o,Y,W,M)||e!==null&&e.dependencies!==null&&zs(e.dependencies))?(j||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,W,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,W,M)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||C===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=W),g.props=o,g.state=W,g.context=M,o=ee):(typeof g.componentDidUpdate!="function"||C===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),o=!1)}return g=o,ao(e,n),o=(n.flags&128)!==0,g||o?(g=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,e!==null&&o?(n.child=Ka(n,e.child,null,f),n.child=Ka(n,null,a,f)):vn(e,n,a,f),n.memoizedState=g.state,e=n.child):e=rr(e,n,f),e}function U0(e,n,a,o){return Ol(),n.flags|=256,vn(e,n,a,o),n.child}var Yu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zu(e){return{baseLanes:e,cachePool:S1()}}function qu(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=hi),e}function F0(e,n,a){var o=n.pendingProps,f=!1,g=(n.flags&128)!==0,C;if((C=g)||(C=e!==null&&e.memoizedState===null?!1:(gn.current&2)!==0),C&&(f=!0,n.flags&=-129),C=(n.flags&32)!==0,n.flags&=-33,e===null){if(gt){if(f?Ir(n):Dr(),gt){var N=Yt,M;if(M=N){e:{for(M=N,N=ki;M.nodeType!==8;){if(!N){N=null;break e}if(M=pi(M.nextSibling),M===null){N=null;break e}}N=M}N!==null?(n.memoizedState={dehydrated:N,treeContext:ua!==null?{id:Ji,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},M=Qn(18,null,null,0),M.stateNode=N,M.return=n,n.child=M,Fn=n,Yt=null,M=!0):M=!1}M||ha(n)}if(N=n.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return Ic(N)?n.lanes=32:n.lanes=536870912,null;ir(n)}return N=o.children,o=o.fallback,f?(Dr(),f=n.mode,N=lo({mode:"hidden",children:N},f),o=oa(o,f,a,null),N.return=n,o.return=n,N.sibling=o,n.child=N,f=n.child,f.memoizedState=Zu(a),f.childLanes=qu(e,C,a),n.memoizedState=Yu,o):(Ir(n),Wu(n,N))}if(M=e.memoizedState,M!==null&&(N=M.dehydrated,N!==null)){if(g)n.flags&256?(Ir(n),n.flags&=-257,n=Ku(e,n,a)):n.memoizedState!==null?(Dr(),n.child=e.child,n.flags|=128,n=null):(Dr(),f=o.fallback,N=n.mode,o=lo({mode:"visible",children:o.children},N),f=oa(f,N,a,null),f.flags|=2,o.return=n,f.return=n,o.sibling=f,n.child=o,Ka(n,e.child,null,a),o=n.child,o.memoizedState=Zu(a),o.childLanes=qu(e,C,a),n.memoizedState=Yu,n=f);else if(Ir(n),Ic(N)){if(C=N.nextSibling&&N.nextSibling.dataset,C)var j=C.dgst;C=j,o=Error(E(419)),o.stack="",o.digest=C,_l({value:o,source:null,stack:null}),n=Ku(e,n,a)}else if(En||Il(e,n,a,!1),C=(a&e.childLanes)!==0,En||C){if(C=Mt,C!==null&&(o=a&-a,o=(o&42)!==0?1:Qr(o),o=(o&(C.suspendedLanes|a))!==0?0:o,o!==0&&o!==M.retryLane))throw M.retryLane=o,Pa(e,o),ni(C,e,o),O0;N.data==="$?"||gc(),n=Ku(e,n,a)}else N.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=M.treeContext,Yt=pi(N.nextSibling),Fn=n,gt=!0,fa=null,ki=!1,e!==null&&(ui[ci++]=Ji,ui[ci++]=$i,ui[ci++]=ua,Ji=e.id,$i=e.overflow,ua=n),n=Wu(n,o.children),n.flags|=4096);return n}return f?(Dr(),f=o.fallback,N=n.mode,M=e.child,j=M.sibling,o=Qi(M,{mode:"hidden",children:o.children}),o.subtreeFlags=M.subtreeFlags&65011712,j!==null?f=Qi(j,f):(f=oa(f,N,a,null),f.flags|=2),f.return=n,o.return=n,o.sibling=f,n.child=o,o=f,f=n.child,N=e.child.memoizedState,N===null?N=Zu(a):(M=N.cachePool,M!==null?(j=dn._currentValue,M=M.parent!==j?{parent:j,pool:j}:M):M=S1(),N={baseLanes:N.baseLanes|a,cachePool:M}),f.memoizedState=N,f.childLanes=qu(e,C,a),n.memoizedState=Yu,o):(Ir(n),a=e.child,e=a.sibling,a=Qi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(C=n.deletions,C===null?(n.deletions=[e],n.flags|=16):C.push(e)),n.child=a,n.memoizedState=null,a)}function Wu(e,n){return n=lo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function lo(e,n){return e=Qn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ku(e,n,a){return Ka(n,e.child,null,a),e=Wu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function P0(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),gu(e.return,n,a)}function Qu(e,n,a,o,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=f)}function z0(e,n,a){var o=n.pendingProps,f=o.revealOrder,g=o.tail;if(vn(e,n,o.children,a),o=gn.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&P0(e,a,n);else if(e.tag===19)P0(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Ae(gn,o),f){case"forwards":for(a=n.child,f=null;a!==null;)e=a.alternate,e!==null&&no(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),Qu(n,!1,f,a,g);break;case"backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&no(e)===null){n.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Qu(n,!0,a,null,g);break;case"together":Qu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function rr(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ur|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Il(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(E(153));if(n.child!==null){for(e=n.child,a=Qi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Qi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Ju(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&zs(e)))}function Td(e,n,a){switch(n.tag){case 3:Ye(n,n.stateNode.containerInfo),Tr(n,dn,e.memoizedState.cache),Ol();break;case 27:case 5:Vi(n);break;case 4:Ye(n,n.stateNode.containerInfo);break;case 10:Tr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ir(n),n.flags|=128,null):(a&n.child.childLanes)!==0?F0(e,n,a):(Ir(n),e=rr(e,n,a),e!==null?e.sibling:null);Ir(n);break;case 19:var f=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Il(e,n,a,!1),o=(a&n.childLanes)!==0),f){if(o)return z0(e,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ae(gn,gn.current),o)break;return null;case 22:case 23:return n.lanes=0,M0(e,n,a);case 24:Tr(n,dn,e.memoizedState.cache)}return rr(e,n,a)}function H0(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)En=!0;else{if(!Ju(e,a)&&(n.flags&128)===0)return En=!1,Td(e,n,a);En=(e.flags&131072)!==0}else En=!1,gt&&(n.flags&1048576)!==0&&y1(n,Ps,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var o=n.elementType,f=o._init;if(o=f(o._payload),n.type=o,typeof o=="function")su(o)?(e=ya(o,e),n.tag=1,n=k0(null,n,o,e,a)):(n.tag=0,n=ju(null,n,o,e,a));else{if(o!=null){if(f=o.$$typeof,f===Oe){n.tag=11,n=_0(null,n,o,e,a);break e}else if(f===le){n.tag=14,n=I0(null,n,o,e,a);break e}}throw n=ut(o)||o,Error(E(306,n,""))}}return n;case 0:return ju(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,f=ya(o,n.pendingProps),k0(e,n,o,f,a);case 3:e:{if(Ye(n,n.stateNode.containerInfo),e===null)throw Error(E(387));o=n.pendingProps;var g=n.memoizedState;f=g.element,pu(e,n),Fl(n,o,null,a);var C=n.memoizedState;if(o=C.cache,Tr(n,dn,o),o!==g.cache&&xu(n,[dn],a,!0),Ul(),o=C.element,g.isDehydrated)if(g={element:o,isDehydrated:!1,cache:C.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=U0(e,n,o,a);break e}else if(o!==f){f=si(Error(E(424)),n),_l(f),n=U0(e,n,o,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Yt=pi(e.firstChild),Fn=n,gt=!0,fa=null,ki=!0,a=w0(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ol(),o===f){n=rr(e,n,a);break e}vn(e,n,o,a)}n=n.child}return n;case 26:return ao(e,n),e===null?(a=Yf(n.type,null,n.pendingProps,null))?n.memoizedState=a:gt||(a=n.type,e=n.pendingProps,o=po(ge.current).createElement(a),o[xn]=n,o[Vt]=e,Nn(o,a,e),Et(o),n.stateNode=o):n.memoizedState=Yf(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Vi(n),e===null&&gt&&(o=n.stateNode=Vf(n.type,n.pendingProps,ge.current),Fn=n,ki=!0,f=Yt,Hr(n.type)?(Dc=f,Yt=pi(o.firstChild)):Yt=f),vn(e,n,n.pendingProps.children,a),ao(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&gt&&((f=o=Yt)&&(o=e2(o,n.type,n.pendingProps,ki),o!==null?(n.stateNode=o,Fn=n,Yt=pi(o.firstChild),ki=!1,f=!0):f=!1),f||ha(n)),Vi(n),f=n.type,g=n.pendingProps,C=e!==null?e.memoizedProps:null,o=g.children,Rc(f,g)?o=null:C!==null&&Rc(f,C)&&(n.flags|=32),n.memoizedState!==null&&(f=Nu(e,n,Ed,null,null,a),ls._currentValue=f),ao(e,n),vn(e,n,o,a),n.child;case 6:return e===null&&gt&&((e=a=Yt)&&(a=t2(a,n.pendingProps,ki),a!==null?(n.stateNode=a,Fn=n,Yt=null,e=!0):e=!1),e||ha(n)),null;case 13:return F0(e,n,a);case 4:return Ye(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ka(n,null,o,a):vn(e,n,o,a),n.child;case 11:return _0(e,n,n.type,n.pendingProps,a);case 7:return vn(e,n,n.pendingProps,a),n.child;case 8:return vn(e,n,n.pendingProps.children,a),n.child;case 12:return vn(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Tr(n,n.type,o.value),vn(e,n,o.children,a),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,ga(n),f=Bn(f),o=o(f),n.flags|=1,vn(e,n,o,a),n.child;case 14:return I0(e,n,n.type,n.pendingProps,a);case 15:return D0(e,n,n.type,n.pendingProps,a);case 19:return z0(e,n,a);case 31:return o=n.pendingProps,a=n.mode,o={mode:o.mode,children:o.children},e===null?(a=lo(o,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Qi(e.child,o),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return M0(e,n,a);case 24:return ga(n),o=Bn(dn),e===null?(f=Eu(),f===null&&(f=Mt,g=mu(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=a),f=g),n.memoizedState={parent:o,cache:f},Au(n),Tr(n,dn,f)):((e.lanes&a)!==0&&(pu(e,n),Fl(n,null,null,a),Ul()),f=e.memoizedState,g=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Tr(n,dn,o)):(o=g.cache,Tr(n,dn,o),o!==f.cache&&xu(n,[dn],a,!0))),vn(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(E(156,n.tag))}function ar(e){e.flags|=4}function G0(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qf(n)){if(n=fi.current,n!==null&&((ct&4194048)===ct?Ui!==null:(ct&62914560)!==ct&&(ct&536870912)===0||n!==Ui))throw Ll=wu,v1;e.flags|=8192}}function so(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?yl():536870912,e.lanes|=n,el|=n)}function jl(e,n){if(!gt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ht(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function Nd(e,n,a){var o=n.pendingProps;switch(fu(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(n),null;case 1:return Ht(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),tr(dn),Pn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Rl(n)?ar(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,A1())),Ht(n),null;case 26:return a=n.memoizedState,e===null?(ar(n),a!==null?(Ht(n),G0(n,a)):(Ht(n),n.flags&=-16777217)):a?a!==e.memoizedState?(ar(n),Ht(n),G0(n,a)):(Ht(n),n.flags&=-16777217):(e.memoizedProps!==o&&ar(n),Ht(n),n.flags&=-16777217),null;case 27:ln(n),a=ge.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ar(n);else{if(!o){if(n.stateNode===null)throw Error(E(166));return Ht(n),null}e=ve.current,Rl(n)?E1(n):(e=Vf(f,o,a),n.stateNode=e,ar(n))}return Ht(n),null;case 5:if(ln(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ar(n);else{if(!o){if(n.stateNode===null)throw Error(E(166));return Ht(n),null}if(e=ve.current,Rl(n))E1(n);else{switch(f=po(ge.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?f.createElement(a,{is:o.is}):f.createElement(a)}}e[xn]=n,e[Vt]=o;e:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;e:switch(Nn(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ar(n)}}return Ht(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ar(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(E(166));if(e=ge.current,Rl(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,f=Fn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[xn]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||kf(e.nodeValue,a)),e||ha(n)}else e=po(e).createTextNode(o),e[xn]=n,n.stateNode=e}return Ht(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Rl(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(E(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(E(317));f[xn]=n}else Ol(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ht(n),f=!1}else f=A1(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(ir(n),n):(ir(n),null)}if(ir(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var g=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==f&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),so(n,n.updateQueue),Ht(n),null;case 4:return Pn(),e===null&&Cc(n.stateNode.containerInfo),Ht(n),null;case 10:return tr(n.type),Ht(n),null;case 19:if(we(gn),f=n.memoizedState,f===null)return Ht(n),null;if(o=(n.flags&128)!==0,g=f.rendering,g===null)if(o)jl(f,!1);else{if(Zt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=no(e),g!==null){for(n.flags|=128,jl(f,!1),e=g.updateQueue,n.updateQueue=e,so(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)m1(a,e),a=a.sibling;return Ae(gn,gn.current&1|2),n.child}e=e.sibling}f.tail!==null&&Ct()>co&&(n.flags|=128,o=!0,jl(f,!1),n.lanes=4194304)}else{if(!o)if(e=no(g),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,so(n,e),jl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!gt)return Ht(n),null}else 2*Ct()-f.renderingStartTime>co&&a!==536870912&&(n.flags|=128,o=!0,jl(f,!1),n.lanes=4194304);f.isBackwards?(g.sibling=n.child,n.child=g):(e=f.last,e!==null?e.sibling=g:n.child=g,f.last=g)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Ct(),n.sibling=null,e=gn.current,Ae(gn,o?e&1|2:e&1),n):(Ht(n),null);case 22:case 23:return ir(n),vu(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(Ht(n),n.subtreeFlags&6&&(n.flags|=8192)):Ht(n),a=n.updateQueue,a!==null&&so(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&we(xa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),tr(dn),Ht(n),null;case 25:return null;case 30:return null}throw Error(E(156,n.tag))}function Rd(e,n){switch(fu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return tr(dn),Pn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ln(n),null;case 13:if(ir(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(E(340));Ol()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return we(gn),null;case 4:return Pn(),null;case 10:return tr(n.type),null;case 22:case 23:return ir(n),vu(),e!==null&&we(xa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return tr(dn),null;case 25:return null;default:return null}}function V0(e,n){switch(fu(n),n.tag){case 3:tr(dn),Pn();break;case 26:case 27:case 5:ln(n);break;case 4:Pn();break;case 13:ir(n);break;case 19:we(gn);break;case 10:tr(n.type);break;case 22:case 23:ir(n),vu(),e!==null&&we(xa);break;case 24:tr(dn)}}function Yl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&e)===e){o=void 0;var g=a.create,C=a.inst;o=g(),C.destroy=o}a=a.next}while(a!==f)}}catch(N){It(n,n.return,N)}}function Mr(e,n,a){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var g=f.next;o=g;do{if((o.tag&e)===e){var C=o.inst,N=C.destroy;if(N!==void 0){C.destroy=void 0,f=n;var M=a,j=N;try{j()}catch(ee){It(f,M,ee)}}}o=o.next}while(o!==g)}}catch(ee){It(n,n.return,ee)}}function X0(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{I1(n,a)}catch(o){It(e,e.return,o)}}}function j0(e,n,a){a.props=ya(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){It(e,n,o)}}function Zl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(f){It(e,n,f)}}function Fi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){It(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){It(e,n,f)}else a.current=null}function Y0(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){It(e,e.return,f)}}function $u(e,n,a){try{var o=e.stateNode;Wd(o,e.type,a,n),o[Vt]=n}catch(f){It(e,e.return,f)}}function Z0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hr(e.type)||e.tag===4}function ec(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Z0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ao));else if(o!==4&&(o===27&&Hr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(tc(e,n,a),e=e.sibling;e!==null;)tc(e,n,a),e=e.sibling}function oo(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Hr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(oo(e,n,a),e=e.sibling;e!==null;)oo(e,n,a),e=e.sibling}function q0(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Nn(n,o,a),n[xn]=e,n[Vt]=a}catch(g){It(e,e.return,g)}}var lr=!1,en=!1,nc=!1,W0=typeof WeakSet=="function"?WeakSet:Set,wn=null;function Od(e,n){if(e=e.containerInfo,Tc=No,e=m(e),w(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var C=0,N=-1,M=-1,j=0,ee=0,re=e,Y=null;t:for(;;){for(var W;re!==a||f!==0&&re.nodeType!==3||(N=C+f),re!==g||o!==0&&re.nodeType!==3||(M=C+o),re.nodeType===3&&(C+=re.nodeValue.length),(W=re.firstChild)!==null;)Y=re,re=W;for(;;){if(re===e)break t;if(Y===a&&++j===f&&(N=C),Y===g&&++ee===o&&(M=C),(W=re.nextSibling)!==null)break;re=Y,Y=re.parentNode}re=W}a=N===-1||M===-1?null:{start:N,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Nc={focusedElem:e,selectionRange:a},No=!1,wn=n;wn!==null;)if(n=wn,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,wn=e;else for(;wn!==null;){switch(n=wn,g=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,a=n,f=g.memoizedProps,g=g.memoizedState,o=a.stateNode;try{var ze=ya(a.type,f,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(ze,g),o.__reactInternalSnapshotBeforeUpdate=e}catch(Fe){It(a,a.return,Fe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)_c(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_c(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(E(163))}if(e=n.sibling,e!==null){e.return=n.return,wn=e;break}wn=n.return}}function K0(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Br(e,a),o&4&&Yl(5,a);break;case 1:if(Br(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(C){It(a,a.return,C)}else{var f=ya(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(C){It(a,a.return,C)}}o&64&&X0(a),o&512&&Zl(a,a.return);break;case 3:if(Br(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{I1(e,n)}catch(C){It(a,a.return,C)}}break;case 27:n===null&&o&4&&q0(a);case 26:case 5:Br(e,a),n===null&&o&4&&Y0(a),o&512&&Zl(a,a.return);break;case 12:Br(e,a);break;case 13:Br(e,a),o&4&&$0(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Fd.bind(null,a),n2(e,a))));break;case 22:if(o=a.memoizedState!==null||lr,!o){n=n!==null&&n.memoizedState!==null||en,f=lr;var g=en;lr=o,(en=n)&&!g?Lr(e,a,(a.subtreeFlags&8772)!==0):Br(e,a),lr=f,en=g}break;case 30:break;default:Br(e,a)}}function Q0(e){var n=e.alternate;n!==null&&(e.alternate=null,Q0(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Jr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pt=null,jn=!1;function sr(e,n,a){for(a=a.child;a!==null;)J0(e,n,a),a=a.sibling}function J0(e,n,a){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(bn,a)}catch{}switch(a.tag){case 26:en||Fi(a,n),sr(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:en||Fi(a,n);var o=Pt,f=jn;Hr(a.type)&&(Pt=a.stateNode,jn=!1),sr(e,n,a),ns(a.stateNode),Pt=o,jn=f;break;case 5:en||Fi(a,n);case 6:if(o=Pt,f=jn,Pt=null,sr(e,n,a),Pt=o,jn=f,Pt!==null)if(jn)try{(Pt.nodeType===9?Pt.body:Pt.nodeName==="HTML"?Pt.ownerDocument.body:Pt).removeChild(a.stateNode)}catch(g){It(a,n,g)}else try{Pt.removeChild(a.stateNode)}catch(g){It(a,n,g)}break;case 18:Pt!==null&&(jn?(e=Pt,Hf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),cs(e)):Hf(Pt,a.stateNode));break;case 4:o=Pt,f=jn,Pt=a.stateNode.containerInfo,jn=!0,sr(e,n,a),Pt=o,jn=f;break;case 0:case 11:case 14:case 15:en||Mr(2,a,n),en||Mr(4,a,n),sr(e,n,a);break;case 1:en||(Fi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&j0(a,n,o)),sr(e,n,a);break;case 21:sr(e,n,a);break;case 22:en=(o=en)||a.memoizedState!==null,sr(e,n,a),en=o;break;default:sr(e,n,a)}}function $0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{cs(e)}catch(a){It(n,n.return,a)}}function _d(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new W0),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new W0),n;default:throw Error(E(435,e.tag))}}function ic(e,n){var a=_d(e);n.forEach(function(o){var f=Pd.bind(null,e,o);a.has(o)||(a.add(o),o.then(f,f))})}function Jn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],g=e,C=n,N=C;e:for(;N!==null;){switch(N.tag){case 27:if(Hr(N.type)){Pt=N.stateNode,jn=!1;break e}break;case 5:Pt=N.stateNode,jn=!1;break e;case 3:case 4:Pt=N.stateNode.containerInfo,jn=!0;break e}N=N.return}if(Pt===null)throw Error(E(160));J0(g,C,f),Pt=null,jn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ef(n,e),n=n.sibling}var Ai=null;function ef(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Jn(n,e),$n(e),o&4&&(Mr(3,e,e.return),Yl(3,e),Mr(5,e,e.return));break;case 1:Jn(n,e),$n(e),o&512&&(en||a===null||Fi(a,a.return)),o&64&&lr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=Ai;if(Jn(n,e),$n(e),o&512&&(en||a===null||Fi(a,a.return)),o&4){var g=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){e:{o=e.type,a=e.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":g=f.getElementsByTagName("title")[0],(!g||g[ai]||g[xn]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(o),f.head.insertBefore(g,f.querySelector("head > title"))),Nn(g,o,a),g[xn]=e,Et(g),o=g;break e;case"link":var C=Wf("link","href",f).get(o+(a.href||""));if(C){for(var N=0;N<C.length;N++)if(g=C[N],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){C.splice(N,1);break t}}g=f.createElement(o),Nn(g,o,a),f.head.appendChild(g);break;case"meta":if(C=Wf("meta","content",f).get(o+(a.content||""))){for(N=0;N<C.length;N++)if(g=C[N],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){C.splice(N,1);break t}}g=f.createElement(o),Nn(g,o,a),f.head.appendChild(g);break;default:throw Error(E(468,o))}g[xn]=e,Et(g),o=g}e.stateNode=o}else Kf(f,e.type,e.stateNode);else e.stateNode=qf(f,o,e.memoizedProps);else g!==o?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,o===null?Kf(f,e.type,e.stateNode):qf(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&$u(e,e.memoizedProps,a.memoizedProps)}break;case 27:Jn(n,e),$n(e),o&512&&(en||a===null||Fi(a,a.return)),a!==null&&o&4&&$u(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Jn(n,e),$n(e),o&512&&(en||a===null||Fi(a,a.return)),e.flags&32){f=e.stateNode;try{cn(f,"")}catch(W){It(e,e.return,W)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,$u(e,f,a!==null?a.memoizedProps:f)),o&1024&&(nc=!0);break;case 6:if(Jn(n,e),$n(e),o&4){if(e.stateNode===null)throw Error(E(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(W){It(e,e.return,W)}}break;case 3:if(So=null,f=Ai,Ai=bo(n.containerInfo),Jn(n,e),Ai=f,$n(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{cs(n.containerInfo)}catch(W){It(e,e.return,W)}nc&&(nc=!1,tf(e));break;case 4:o=Ai,Ai=bo(e.stateNode.containerInfo),Jn(n,e),$n(e),Ai=o;break;case 12:Jn(n,e),$n(e);break;case 13:Jn(n,e),$n(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(uc=Ct()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 22:f=e.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,j=lr,ee=en;if(lr=j||f,en=ee||M,Jn(n,e),en=ee,lr=j,$n(e),o&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||M||lr||en||Ea(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){M=a=n;try{if(g=M.stateNode,f)C=g.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{N=M.stateNode;var re=M.memoizedProps.style,Y=re!=null&&re.hasOwnProperty("display")?re.display:null;N.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(W){It(M,M.return,W)}}}else if(n.tag===6){if(a===null){M=n;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(W){It(M,M.return,W)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ic(e,a))));break;case 19:Jn(n,e),$n(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 30:break;case 21:break;default:Jn(n,e),$n(e)}}function $n(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Z0(o)){a=o;break}o=o.return}if(a==null)throw Error(E(160));switch(a.tag){case 27:var f=a.stateNode,g=ec(e);oo(e,g,f);break;case 5:var C=a.stateNode;a.flags&32&&(cn(C,""),a.flags&=-33);var N=ec(e);oo(e,N,C);break;case 3:case 4:var M=a.stateNode.containerInfo,j=ec(e);tc(e,j,M);break;default:throw Error(E(161))}}catch(ee){It(e,e.return,ee)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function tf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;tf(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Br(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)K0(e,n.alternate,n),n=n.sibling}function Ea(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Mr(4,n,n.return),Ea(n);break;case 1:Fi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&j0(n,n.return,a),Ea(n);break;case 27:ns(n.stateNode);case 26:case 5:Fi(n,n.return),Ea(n);break;case 22:n.memoizedState===null&&Ea(n);break;case 30:Ea(n);break;default:Ea(n)}e=e.sibling}}function Lr(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,g=n,C=g.flags;switch(g.tag){case 0:case 11:case 15:Lr(f,g,a),Yl(4,g);break;case 1:if(Lr(f,g,a),o=g,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){It(o,o.return,j)}if(o=g,f=o.updateQueue,f!==null){var N=o.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)_1(M[f],N)}catch(j){It(o,o.return,j)}}a&&C&64&&X0(g),Zl(g,g.return);break;case 27:q0(g);case 26:case 5:Lr(f,g,a),a&&o===null&&C&4&&Y0(g),Zl(g,g.return);break;case 12:Lr(f,g,a);break;case 13:Lr(f,g,a),a&&C&4&&$0(f,g);break;case 22:g.memoizedState===null&&Lr(f,g,a),Zl(g,g.return);break;case 30:break;default:Lr(f,g,a)}n=n.sibling}}function rc(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Dl(a))}function ac(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Dl(e))}function Pi(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)nf(e,n,a,o),n=n.sibling}function nf(e,n,a,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Pi(e,n,a,o),f&2048&&Yl(9,n);break;case 1:Pi(e,n,a,o);break;case 3:Pi(e,n,a,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Dl(e)));break;case 12:if(f&2048){Pi(e,n,a,o),e=n.stateNode;try{var g=n.memoizedProps,C=g.id,N=g.onPostCommit;typeof N=="function"&&N(C,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){It(n,n.return,M)}}else Pi(e,n,a,o);break;case 13:Pi(e,n,a,o);break;case 23:break;case 22:g=n.stateNode,C=n.alternate,n.memoizedState!==null?g._visibility&2?Pi(e,n,a,o):ql(e,n):g._visibility&2?Pi(e,n,a,o):(g._visibility|=2,Qa(e,n,a,o,(n.subtreeFlags&10256)!==0)),f&2048&&rc(C,n);break;case 24:Pi(e,n,a,o),f&2048&&ac(n.alternate,n);break;default:Pi(e,n,a,o)}}function Qa(e,n,a,o,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var g=e,C=n,N=a,M=o,j=C.flags;switch(C.tag){case 0:case 11:case 15:Qa(g,C,N,M,f),Yl(8,C);break;case 23:break;case 22:var ee=C.stateNode;C.memoizedState!==null?ee._visibility&2?Qa(g,C,N,M,f):ql(g,C):(ee._visibility|=2,Qa(g,C,N,M,f)),f&&j&2048&&rc(C.alternate,C);break;case 24:Qa(g,C,N,M,f),f&&j&2048&&ac(C.alternate,C);break;default:Qa(g,C,N,M,f)}n=n.sibling}}function ql(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,f=o.flags;switch(o.tag){case 22:ql(a,o),f&2048&&rc(o.alternate,o);break;case 24:ql(a,o),f&2048&&ac(o.alternate,o);break;default:ql(a,o)}n=n.sibling}}var Wl=8192;function Ja(e){if(e.subtreeFlags&Wl)for(e=e.child;e!==null;)rf(e),e=e.sibling}function rf(e){switch(e.tag){case 26:Ja(e),e.flags&Wl&&e.memoizedState!==null&&x2(Ai,e.memoizedState,e.memoizedProps);break;case 5:Ja(e);break;case 3:case 4:var n=Ai;Ai=bo(e.stateNode.containerInfo),Ja(e),Ai=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Wl,Wl=16777216,Ja(e),Wl=n):Ja(e));break;default:Ja(e)}}function af(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Kl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];wn=o,sf(o,e)}af(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lf(e),e=e.sibling}function lf(e){switch(e.tag){case 0:case 11:case 15:Kl(e),e.flags&2048&&Mr(9,e,e.return);break;case 3:Kl(e);break;case 12:Kl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,uo(e)):Kl(e);break;default:Kl(e)}}function uo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];wn=o,sf(o,e)}af(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Mr(8,n,n.return),uo(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,uo(n));break;default:uo(n)}e=e.sibling}}function sf(e,n){for(;wn!==null;){var a=wn;switch(a.tag){case 0:case 11:case 15:Mr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Dl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,wn=o;else e:for(a=e;wn!==null;){o=wn;var f=o.sibling,g=o.return;if(Q0(o),o===a){wn=null;break e}if(f!==null){f.return=g,wn=f;break e}wn=g}}}var Id={getCacheForType:function(e){var n=Bn(dn),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},Dd=typeof WeakMap=="function"?WeakMap:Map,pt=0,Mt=null,et=null,ct=0,bt=0,ei=null,kr=!1,$a=!1,lc=!1,or=0,Zt=0,Ur=0,wa=0,sc=0,hi=0,el=0,Ql=null,Yn=null,oc=!1,uc=0,co=1/0,fo=null,Fr=null,Tn=0,Pr=null,tl=null,nl=0,cc=0,fc=null,of=null,Jl=0,hc=null;function ti(){if((pt&2)!==0&&ct!==0)return ct&-ct;if(Q.T!==null){var e=Va;return e!==0?e:wc()}return Xi()}function uf(){hi===0&&(hi=(ct&536870912)===0||gt?Sa():536870912);var e=fi.current;return e!==null&&(e.flags|=32),hi}function ni(e,n,a){(e===Mt&&(bt===2||bt===9)||e.cancelPendingCommit!==null)&&(il(e,0),zr(e,ct,hi,!1)),Zn(e,a),((pt&2)===0||e!==Mt)&&(e===Mt&&((pt&2)===0&&(wa|=a),Zt===4&&zr(e,ct,hi,!1)),zi(e))}function cf(e,n,a){if((pt&6)!==0)throw Error(E(327));var o=!a&&(n&124)===0&&(n&e.expiredLanes)===0||vt(e,n),f=o?Ld(e,n):xc(e,n,!0),g=o;do{if(f===0){$a&&!o&&zr(e,n,0,!1);break}else{if(a=e.current.alternate,g&&!Md(a)){f=xc(e,n,!1),g=!1;continue}if(f===2){if(g=n,e.errorRecoveryDisabledLanes&g)var C=0;else C=e.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){n=C;e:{var N=e;f=Ql;var M=N.current.memoizedState.isDehydrated;if(M&&(il(N,C).flags|=256),C=xc(N,C,!1),C!==2){if(lc&&!M){N.errorRecoveryDisabledLanes|=g,wa|=g,f=4;break e}g=Yn,Yn=f,g!==null&&(Yn===null?Yn=g:Yn.push.apply(Yn,g))}f=C}if(g=!1,f!==2)continue}}if(f===1){il(e,0),zr(e,n,0,!0);break}e:{switch(o=e,g=f,g){case 0:case 1:throw Error(E(345));case 4:if((n&4194048)!==n)break;case 6:zr(o,n,hi,!kr);break e;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(E(329))}if((n&62914560)===n&&(f=uc+300-Ct(),10<f)){if(zr(o,n,hi,!kr),ft(o,0,!0)!==0)break e;o.timeoutHandle=Pf(ff.bind(null,o,a,Yn,fo,oc,n,hi,wa,el,kr,g,2,-0,0),f);break e}ff(o,a,Yn,fo,oc,n,hi,wa,el,kr,g,0,-0,0)}}break}while(!0);zi(e)}function ff(e,n,a,o,f,g,C,N,M,j,ee,re,Y,W){if(e.timeoutHandle=-1,re=n.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(as={stylesheets:null,count:0,unsuspend:g2},rf(n),re=m2(),re!==null)){e.cancelPendingCommit=re(Ef.bind(null,e,n,g,a,o,f,C,N,M,ee,1,Y,W)),zr(e,g,C,!j);return}Ef(e,n,g,a,o,f,C,N,M)}function Md(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],g=f.getSnapshot;f=f.value;try{if(!l(g(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zr(e,n,a,o){n&=~sc,n&=~wa,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var g=31-yt(f),C=1<<g;o[g]=-1,f&=~C}a!==0&&El(e,a,n)}function ho(){return(pt&6)===0?($l(0),!1):!0}function dc(){if(et!==null){if(bt===0)var e=et.return;else e=et,er=da=null,_u(e),Wa=null,Vl=0,e=et;for(;e!==null;)V0(e.alternate,e),e=e.return;et=null}}function il(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Qd(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),dc(),Mt=e,et=a=Qi(e.current,null),ct=n,bt=0,ei=null,kr=!1,$a=vt(e,n),lc=!1,el=hi=sc=wa=Ur=Zt=0,Yn=Ql=null,oc=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-yt(o),g=1<<f;n|=e[f],o&=~g}return or=n,Bs(),a}function hf(e,n){Qe=null,Q.H=$s,n===Bl||n===Vs?(n=R1(),bt=3):n===v1?(n=R1(),bt=4):bt=n===O0?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ei=n,et===null&&(Zt=1,ro(e,si(n,e.current)))}function df(){var e=Q.H;return Q.H=$s,e===null?$s:e}function gf(){var e=Q.A;return Q.A=Id,e}function gc(){Zt=4,kr||(ct&4194048)!==ct&&fi.current!==null||($a=!0),(Ur&134217727)===0&&(wa&134217727)===0||Mt===null||zr(Mt,ct,hi,!1)}function xc(e,n,a){var o=pt;pt|=2;var f=df(),g=gf();(Mt!==e||ct!==n)&&(fo=null,il(e,n)),n=!1;var C=Zt;e:do try{if(bt!==0&&et!==null){var N=et,M=ei;switch(bt){case 8:dc(),C=6;break e;case 3:case 2:case 9:case 6:fi.current===null&&(n=!0);var j=bt;if(bt=0,ei=null,rl(e,N,M,j),a&&$a){C=0;break e}break;default:j=bt,bt=0,ei=null,rl(e,N,M,j)}}Bd(),C=Zt;break}catch(ee){hf(e,ee)}while(!0);return n&&e.shellSuspendCounter++,er=da=null,pt=o,Q.H=f,Q.A=g,et===null&&(Mt=null,ct=0,Bs()),C}function Bd(){for(;et!==null;)xf(et)}function Ld(e,n){var a=pt;pt|=2;var o=df(),f=gf();Mt!==e||ct!==n?(fo=null,co=Ct()+500,il(e,n)):$a=vt(e,n);e:do try{if(bt!==0&&et!==null){n=et;var g=ei;t:switch(bt){case 1:bt=0,ei=null,rl(e,n,g,1);break;case 2:case 9:if(T1(g)){bt=0,ei=null,mf(n);break}n=function(){bt!==2&&bt!==9||Mt!==e||(bt=7),zi(e)},g.then(n,n);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:T1(g)?(bt=0,ei=null,mf(n)):(bt=0,ei=null,rl(e,n,g,7));break;case 5:var C=null;switch(et.tag){case 26:C=et.memoizedState;case 5:case 27:var N=et;if(!C||Qf(C)){bt=0,ei=null;var M=N.sibling;if(M!==null)et=M;else{var j=N.return;j!==null?(et=j,go(j)):et=null}break t}}bt=0,ei=null,rl(e,n,g,5);break;case 6:bt=0,ei=null,rl(e,n,g,6);break;case 8:dc(),Zt=6;break e;default:throw Error(E(462))}}kd();break}catch(ee){hf(e,ee)}while(!0);return er=da=null,Q.H=o,Q.A=f,pt=a,et!==null?0:(Mt=null,ct=0,Bs(),Zt)}function kd(){for(;et!==null&&!ri();)xf(et)}function xf(e){var n=H0(e.alternate,e,or);e.memoizedProps=e.pendingProps,n===null?go(e):et=n}function mf(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=L0(a,n,n.pendingProps,n.type,void 0,ct);break;case 11:n=L0(a,n,n.pendingProps,n.type.render,n.ref,ct);break;case 5:_u(n);default:V0(a,n),n=et=m1(n,or),n=H0(a,n,or)}e.memoizedProps=e.pendingProps,n===null?go(e):et=n}function rl(e,n,a,o){er=da=null,_u(n),Wa=null,Vl=0;var f=n.return;try{if(vd(e,f,n,a,ct)){Zt=1,ro(e,si(a,e.current)),et=null;return}}catch(g){if(f!==null)throw et=f,g;Zt=1,ro(e,si(a,e.current)),et=null;return}n.flags&32768?(gt||o===1?e=!0:$a||(ct&536870912)!==0?e=!1:(kr=e=!0,(o===2||o===9||o===3||o===6)&&(o=fi.current,o!==null&&o.tag===13&&(o.flags|=16384))),yf(n,e)):go(n)}function go(e){var n=e;do{if((n.flags&32768)!==0){yf(n,kr);return}e=n.return;var a=Nd(n.alternate,n,or);if(a!==null){et=a;return}if(n=n.sibling,n!==null){et=n;return}et=n=e}while(n!==null);Zt===0&&(Zt=5)}function yf(e,n){do{var a=Rd(e.alternate,e);if(a!==null){a.flags&=32767,et=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){et=e;return}et=e=a}while(e!==null);Zt=6,et=null}function Ef(e,n,a,o,f,g,C,N,M){e.cancelPendingCommit=null;do xo();while(Tn!==0);if((pt&6)!==0)throw Error(E(327));if(n!==null){if(n===e.current)throw Error(E(177));if(g=n.lanes|n.childLanes,g|=au,Cs(e,a,g,C,N,M),e===Mt&&(et=Mt=null,ct=0),tl=n,Pr=e,nl=a,cc=g,fc=f,of=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,zd(Ne,function(){return Cf(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,f=ie.p,ie.p=2,C=pt,pt|=4;try{Od(e,n,a)}finally{pt=C,ie.p=f,Q.T=o}}Tn=1,wf(),Af(),pf()}}function wf(){if(Tn===1){Tn=0;var e=Pr,n=tl,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var o=ie.p;ie.p=2;var f=pt;pt|=4;try{ef(n,e);var g=Nc,C=m(e.containerInfo),N=g.focusedElem,M=g.selectionRange;if(C!==N&&N&&N.ownerDocument&&h(N.ownerDocument.documentElement,N)){if(M!==null&&w(N)){var j=M.start,ee=M.end;if(ee===void 0&&(ee=j),"selectionStart"in N)N.selectionStart=j,N.selectionEnd=Math.min(ee,N.value.length);else{var re=N.ownerDocument||document,Y=re&&re.defaultView||window;if(Y.getSelection){var W=Y.getSelection(),ze=N.textContent.length,Fe=Math.min(M.start,ze),Rt=M.end===void 0?Fe:Math.min(M.end,ze);!W.extend&&Fe>Rt&&(C=Rt,Rt=Fe,Fe=C);var H=c(N,Fe),z=c(N,Rt);if(H&&z&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var X=re.createRange();X.setStart(H.node,H.offset),W.removeAllRanges(),Fe>Rt?(W.addRange(X),W.extend(z.node,z.offset)):(X.setEnd(z.node,z.offset),W.addRange(X))}}}}for(re=[],W=N;W=W.parentNode;)W.nodeType===1&&re.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<re.length;N++){var te=re[N];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}No=!!Tc,Nc=Tc=null}finally{pt=f,ie.p=o,Q.T=a}}e.current=n,Tn=2}}function Af(){if(Tn===2){Tn=0;var e=Pr,n=tl,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var o=ie.p;ie.p=2;var f=pt;pt|=4;try{K0(e,n.alternate,n)}finally{pt=f,ie.p=o,Q.T=a}}Tn=3}}function pf(){if(Tn===4||Tn===3){Tn=0,qr();var e=Pr,n=tl,a=nl,o=of;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Tn=5:(Tn=0,tl=Pr=null,bf(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Fr=null),tn(a),n=n.stateNode,Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(bn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Q.T,f=ie.p,ie.p=2,Q.T=null;try{for(var g=e.onRecoverableError,C=0;C<o.length;C++){var N=o[C];g(N.value,{componentStack:N.stack})}}finally{Q.T=n,ie.p=f}}(nl&3)!==0&&xo(),zi(e),f=e.pendingLanes,(a&4194090)!==0&&(f&42)!==0?e===hc?Jl++:(Jl=0,hc=e):Jl=0,$l(0)}}function bf(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Dl(n)))}function xo(e){return wf(),Af(),pf(),Cf()}function Cf(){if(Tn!==5)return!1;var e=Pr,n=cc;cc=0;var a=tn(nl),o=Q.T,f=ie.p;try{ie.p=32>a?32:a,Q.T=null,a=fc,fc=null;var g=Pr,C=nl;if(Tn=0,tl=Pr=null,nl=0,(pt&6)!==0)throw Error(E(331));var N=pt;if(pt|=4,lf(g.current),nf(g,g.current,C,a),pt=N,$l(0,!1),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(bn,g)}catch{}return!0}finally{ie.p=f,Q.T=o,bf(e,n)}}function Sf(e,n,a){n=si(a,n),n=Xu(e.stateNode,n,2),e=Or(e,n,2),e!==null&&(Zn(e,2),zi(e))}function It(e,n,a){if(e.tag===3)Sf(e,e,a);else for(;n!==null;){if(n.tag===3){Sf(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fr===null||!Fr.has(o))){e=si(a,e),a=N0(2),o=Or(n,a,2),o!==null&&(R0(a,o,n,e),Zn(o,2),zi(o));break}}n=n.return}}function mc(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new Dd;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(a)||(lc=!0,f.add(a),e=Ud.bind(null,e,n,a),n.then(e,e))}function Ud(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Mt===e&&(ct&a)===a&&(Zt===4||Zt===3&&(ct&62914560)===ct&&300>Ct()-uc?(pt&2)===0&&il(e,0):sc|=a,el===ct&&(el=0)),zi(e)}function vf(e,n){n===0&&(n=yl()),e=Pa(e,n),e!==null&&(Zn(e,n),zi(e))}function Fd(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),vf(e,a)}function Pd(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(E(314))}o!==null&&o.delete(n),vf(e,a)}function zd(e,n){return lt(e,n)}var mo=null,al=null,yc=!1,yo=!1,Ec=!1,Aa=0;function zi(e){e!==al&&e.next===null&&(al===null?mo=al=e:al=al.next=e),yo=!0,yc||(yc=!0,Gd())}function $l(e,n){if(!Ec&&yo){Ec=!0;do for(var a=!1,o=mo;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var g=0;else{var C=o.suspendedLanes,N=o.pingedLanes;g=(1<<31-yt(42|e)+1)-1,g&=f&~(C&~N),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,Of(o,g))}else g=ct,g=ft(o,o===Mt?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(g&3)===0||vt(o,g)||(a=!0,Of(o,g));o=o.next}while(a);Ec=!1}}function Hd(){Tf()}function Tf(){yo=yc=!1;var e=0;Aa!==0&&(Kd()&&(e=Aa),Aa=0);for(var n=Ct(),a=null,o=mo;o!==null;){var f=o.next,g=Nf(o,n);g===0?(o.next=null,a===null?mo=f:a.next=f,f===null&&(al=a)):(a=o,(e!==0||(g&3)!==0)&&(yo=!0)),o=f}$l(e)}function Nf(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var C=31-yt(g),N=1<<C,M=f[C];M===-1?((N&a)===0||(N&o)!==0)&&(f[C]=Kr(N,n)):M<=n&&(e.expiredLanes|=N),g&=~N}if(n=Mt,a=ct,a=ft(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(bt===2||bt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&bi(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||vt(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&bi(o),tn(a)){case 2:case 8:a=Wr;break;case 32:a=Ne;break;case 268435456:a=xl;break;default:a=Ne}return o=Rf.bind(null,e),a=lt(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&bi(o),e.callbackPriority=2,e.callbackNode=null,2}function Rf(e,n){if(Tn!==0&&Tn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(xo()&&e.callbackNode!==a)return null;var o=ct;return o=ft(e,e===Mt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(cf(e,o,n),Nf(e,Ct()),e.callbackNode!=null&&e.callbackNode===a?Rf.bind(null,e):null)}function Of(e,n){if(xo())return null;cf(e,n,!0)}function Gd(){Jd(function(){(pt&6)!==0?lt(rt,Hd):Tf()})}function wc(){return Aa===0&&(Aa=Sa()),Aa}function _f(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_a(""+e)}function If(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function Vd(e,n,a,o,f){if(n==="submit"&&a&&a.stateNode===f){var g=_f((f[Vt]||null).action),C=o.submitter;C&&(n=(n=C[Vt]||null)?_f(n.formAction):C.getAttribute("formAction"),n!==null&&(g=n,C=null));var N=new Di("action","action",null,o,f);e.push({event:N,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Aa!==0){var M=C?If(f,C):new FormData(f);Pu(a,{pending:!0,data:M,method:f.method,action:g},null,M)}}else typeof g=="function"&&(N.preventDefault(),M=C?If(f,C):new FormData(f),Pu(a,{pending:!0,data:M,method:f.method,action:g},g,M))},currentTarget:f}]})}}for(var Ac=0;Ac<Li.length;Ac++){var pc=Li[Ac],Xd=pc.toLowerCase(),jd=pc[0].toUpperCase()+pc.slice(1);Kn(Xd,"on"+jd)}Kn(He,"onAnimationEnd"),Kn(Sn,"onAnimationIteration"),Kn(Vn,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(Dn,"onTransitionRun"),Kn(At,"onTransitionStart"),Kn(hn,"onTransitionCancel"),Kn(Mn,"onTransitionEnd"),Xt("onMouseEnter",["mouseout","mouseover"]),Xt("onMouseLeave",["mouseout","mouseover"]),Xt("onPointerEnter",["pointerout","pointerover"]),Xt("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(es));function Df(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],f=o.event;o=o.listeners;e:{var g=void 0;if(n)for(var C=o.length-1;0<=C;C--){var N=o[C],M=N.instance,j=N.currentTarget;if(N=N.listener,M!==g&&f.isPropagationStopped())break e;g=N,f.currentTarget=j;try{g(f)}catch(ee){io(ee)}f.currentTarget=null,g=M}else for(C=0;C<o.length;C++){if(N=o[C],M=N.instance,j=N.currentTarget,N=N.listener,M!==g&&f.isPropagationStopped())break e;g=N,f.currentTarget=j;try{g(f)}catch(ee){io(ee)}f.currentTarget=null,g=M}}}}function tt(e,n){var a=n[mn];a===void 0&&(a=n[mn]=new Set);var o=e+"__bubble";a.has(o)||(Mf(n,e,2,!1),a.add(o))}function bc(e,n,a){var o=0;n&&(o|=4),Mf(a,e,o,n)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function Cc(e){if(!e[Eo]){e[Eo]=!0,Ss.forEach(function(a){a!=="selectionchange"&&(Yd.has(a)||bc(a,!1,e),bc(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Eo]||(n[Eo]=!0,bc("selectionchange",!1,n))}}function Mf(e,n,a,o){switch(ih(n)){case 2:var f=w2;break;case 8:f=A2;break;default:f=Uc}a=f.bind(null,n,a,e),f=void 0,!Ge||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,a,{capture:!0,passive:f}):e.addEventListener(n,a,!0):f!==void 0?e.addEventListener(n,a,{passive:f}):e.addEventListener(n,a,!1)}function Sc(e,n,a,o,f){var g=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var C=o.tag;if(C===3||C===4){var N=o.stateNode.containerInfo;if(N===f)break;if(C===4)for(C=o.return;C!==null;){var M=C.tag;if((M===3||M===4)&&C.stateNode.containerInfo===f)return;C=C.return}for(;N!==null;){if(C=Wt(N),C===null)return;if(M=C.tag,M===5||M===6||M===26||M===27){o=g=C;continue e}N=N.parentNode}}o=o.return}yi(function(){var j=g,ee=xr(a),re=[];e:{var Y=Ki.get(e);if(Y!==void 0){var W=Di,ze=e;switch(e){case"keypress":if(Ia(a)===0)break e;case"keydown":case"keyup":W=bl;break;case"focusin":ze="focus",W=wr;break;case"focusout":ze="blur",W=wr;break;case"beforeblur":case"afterblur":W=wr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Rs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=mt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=wt;break;case He:case Sn:case Vn:W=Qo;break;case Mn:W=tu;break;case"scroll":case"scrollend":W=_n;break;case"wheel":W=qi;break;case"copy":case"cut":case"paste":W=qe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=ra;break;case"toggle":case"beforetoggle":W=nu}var Fe=(n&4)!==0,Rt=!Fe&&(e==="scroll"||e==="scrollend"),H=Fe?Y!==null?Y+"Capture":null:Y;Fe=[];for(var z=j,X;z!==null;){var te=z;if(X=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||X===null||H===null||(te=Le(z,H),te!=null&&Fe.push(ts(z,te,X))),Rt)break;z=z.return}0<Fe.length&&(Y=new W(Y,ze,null,a,ee),re.push({event:Y,listeners:Fe}))}}if((n&7)===0){e:{if(Y=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",Y&&a!==$r&&(ze=a.relatedTarget||a.fromElement)&&(Wt(ze)||ze[Ci]))break e;if((W||Y)&&(Y=ee.window===ee?ee:(Y=ee.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(ze=a.relatedTarget||a.toElement,W=j,ze=ze?Wt(ze):null,ze!==null&&(Rt=A(ze),Fe=ze.tag,ze!==Rt||Fe!==5&&Fe!==27&&Fe!==6)&&(ze=null)):(W=null,ze=j),W!==ze)){if(Fe=Rs,te="onMouseLeave",H="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(Fe=ra,te="onPointerLeave",H="onPointerEnter",z="pointer"),Rt=W==null?Y:Si(W),X=ze==null?Y:Si(ze),Y=new Fe(te,z+"leave",W,a,ee),Y.target=Rt,Y.relatedTarget=X,te=null,Wt(ee)===j&&(Fe=new Fe(H,z+"enter",ze,a,ee),Fe.target=X,Fe.relatedTarget=Rt,te=Fe),Rt=te,W&&ze)t:{for(Fe=W,H=ze,z=0,X=Fe;X;X=ll(X))z++;for(X=0,te=H;te;te=ll(te))X++;for(;0<z-X;)Fe=ll(Fe),z--;for(;0<X-z;)H=ll(H),X--;for(;z--;){if(Fe===H||H!==null&&Fe===H.alternate)break t;Fe=ll(Fe),H=ll(H)}Fe=null}else Fe=null;W!==null&&Bf(re,Y,W,Fe,!1),ze!==null&&Rt!==null&&Bf(re,Rt,ze,Fe,!0)}}e:{if(Y=j?Si(j):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var Re=Ds;else if(sa(Y))if(Tl)Re=i;else{Re=S;var Je=Ua}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?j&&De(j.elementType)&&(Re=Ds):Re=t;if(Re&&(Re=Re(e,j))){Un(re,Re,a,ee);break e}Je&&Je(e,Y,j),e==="focusout"&&j&&Y.type==="number"&&j.memoizedProps.value!=null&&V(Y,"number",Y.value)}switch(Je=j?Si(j):window,e){case"focusin":(sa(Je)||Je.contentEditable==="true")&&(T=Je,I=j,B=null);break;case"focusout":B=I=T=null;break;case"mousedown":F=!0;break;case"contextmenu":case"mouseup":case"dragend":F=!1,G(re,a,ee);break;case"selectionchange":if(v)break;case"keydown":case"keyup":G(re,a,ee)}var Me;if(aa)e:{switch(e){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else br?Wi(e,a)&&(Pe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Sl&&a.locale!=="ko"&&(br||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&br&&(Me=Oi()):(Ri=ee,ea="value"in Ri?Ri.value:Ri.textContent,br=!0)),Je=wo(j,Pe),0<Je.length&&(Pe=new na(Pe,e,null,a,ee),re.push({event:Pe,listeners:Je}),Me?Pe.data=Me:(Me=La(a),Me!==null&&(Pe.data=Me)))),(Me=Cl?la(e,a):iu(e,a))&&(Pe=wo(j,"onBeforeInput"),0<Pe.length&&(Je=new na("onBeforeInput","beforeinput",null,a,ee),re.push({event:Je,listeners:Pe}),Je.data=Me)),Vd(re,e,j,a,ee)}Df(re,n)})}function ts(e,n,a){return{instance:e,listener:n,currentTarget:a}}function wo(e,n){for(var a=n+"Capture",o=[];e!==null;){var f=e,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Le(e,a),f!=null&&o.unshift(ts(e,f,g)),f=Le(e,n),f!=null&&o.push(ts(e,f,g))),e.tag===3)return o;e=e.return}return[]}function ll(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Bf(e,n,a,o,f){for(var g=n._reactName,C=[];a!==null&&a!==o;){var N=a,M=N.alternate,j=N.stateNode;if(N=N.tag,M!==null&&M===o)break;N!==5&&N!==26&&N!==27||j===null||(M=j,f?(j=Le(a,g),j!=null&&C.unshift(ts(a,j,M))):f||(j=Le(a,g),j!=null&&C.push(ts(a,j,M)))),a=a.return}C.length!==0&&e.push({event:n,listeners:C})}var Zd=/\r\n?/g,qd=/\u0000|\uFFFD/g;function Lf(e){return(typeof e=="string"?e:""+e).replace(Zd,`
`).replace(qd,"")}function kf(e,n){return n=Lf(n),Lf(e)===n}function Ao(){}function Nt(e,n,a,o,f,g){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||cn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&cn(e,""+o);break;case"className":Ta(e,"class",o);break;case"tabIndex":Ta(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ta(e,a,o);break;case"style":kn(e,o,g);break;case"data":if(n!=="object"){Ta(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=_a(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(n!=="input"&&Nt(e,n,"name",f.name,f,null),Nt(e,n,"formEncType",f.formEncType,f,null),Nt(e,n,"formMethod",f.formMethod,f,null),Nt(e,n,"formTarget",f.formTarget,f,null)):(Nt(e,n,"encType",f.encType,f,null),Nt(e,n,"method",f.method,f,null),Nt(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=_a(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Ao);break;case"onScroll":o!=null&&tt("scroll",e);break;case"onScrollEnd":o!=null&&tt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(E(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(E(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=_a(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":tt("beforetoggle",e),tt("toggle",e),ae(e,"popover",o);break;case"xlinkActuate":ht(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ht(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ht(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ht(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ht(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ht(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ht(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ht(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ht(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ae(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Lt.get(a)||a,ae(e,a,o))}}function vc(e,n,a,o,f,g){switch(a){case"style":kn(e,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(E(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(E(60));e.innerHTML=a}}break;case"children":typeof o=="string"?cn(e,o):(typeof o=="number"||typeof o=="bigint")&&cn(e,""+o);break;case"onScroll":o!=null&&tt("scroll",e);break;case"onScrollEnd":o!=null&&tt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Ao);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),g=e[Vt]||null,g=g!=null?g[a]:null,typeof g=="function"&&e.removeEventListener(n,g,f),typeof o=="function")){typeof g!="function"&&g!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,f);break e}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ae(e,a,o)}}}function Nn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",e),tt("load",e);var o=!1,f=!1,g;for(g in a)if(a.hasOwnProperty(g)){var C=a[g];if(C!=null)switch(g){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(E(137,n));default:Nt(e,n,g,C,a,null)}}f&&Nt(e,n,"srcSet",a.srcSet,a,null),o&&Nt(e,n,"src",a.src,a,null);return;case"input":tt("invalid",e);var N=g=C=f=null,M=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var ee=a[o];if(ee!=null)switch(o){case"name":f=ee;break;case"type":C=ee;break;case"checked":M=ee;break;case"defaultChecked":j=ee;break;case"value":g=ee;break;case"defaultValue":N=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(E(137,n));break;default:Nt(e,n,o,ee,a,null)}}un(e,g,N,M,j,C,f,!1),Ra(e);return;case"select":tt("invalid",e),o=C=g=null;for(f in a)if(a.hasOwnProperty(f)&&(N=a[f],N!=null))switch(f){case"value":g=N;break;case"defaultValue":C=N;break;case"multiple":o=N;default:Nt(e,n,f,N,a,null)}n=g,a=C,e.multiple=!!o,n!=null?O(e,!!o,n,!1):a!=null&&O(e,!!o,a,!0);return;case"textarea":tt("invalid",e),g=f=o=null;for(C in a)if(a.hasOwnProperty(C)&&(N=a[C],N!=null))switch(C){case"value":o=N;break;case"defaultValue":f=N;break;case"children":g=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(E(91));break;default:Nt(e,n,C,N,a,null)}Kt(e,o,f,g),Ra(e);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(o=a[M],o!=null))switch(M){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Nt(e,n,M,o,a,null)}return;case"dialog":tt("beforetoggle",e),tt("toggle",e),tt("cancel",e),tt("close",e);break;case"iframe":case"object":tt("load",e);break;case"video":case"audio":for(o=0;o<es.length;o++)tt(es[o],e);break;case"image":tt("error",e),tt("load",e);break;case"details":tt("toggle",e);break;case"embed":case"source":case"link":tt("error",e),tt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(E(137,n));default:Nt(e,n,j,o,a,null)}return;default:if(De(n)){for(ee in a)a.hasOwnProperty(ee)&&(o=a[ee],o!==void 0&&vc(e,n,ee,o,a,void 0));return}}for(N in a)a.hasOwnProperty(N)&&(o=a[N],o!=null&&Nt(e,n,N,o,a,null))}function Wd(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,C=null,N=null,M=null,j=null,ee=null;for(W in a){var re=a[W];if(a.hasOwnProperty(W)&&re!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":M=re;default:o.hasOwnProperty(W)||Nt(e,n,W,null,o,re)}}for(var Y in o){var W=o[Y];if(re=a[Y],o.hasOwnProperty(Y)&&(W!=null||re!=null))switch(Y){case"type":g=W;break;case"name":f=W;break;case"checked":j=W;break;case"defaultChecked":ee=W;break;case"value":C=W;break;case"defaultValue":N=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(E(137,n));break;default:W!==re&&Nt(e,n,Y,W,o,re)}}xt(e,C,N,M,j,ee,g,f);return;case"select":W=C=N=Y=null;for(g in a)if(M=a[g],a.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":W=M;default:o.hasOwnProperty(g)||Nt(e,n,g,null,o,M)}for(f in o)if(g=o[f],M=a[f],o.hasOwnProperty(f)&&(g!=null||M!=null))switch(f){case"value":Y=g;break;case"defaultValue":N=g;break;case"multiple":C=g;default:g!==M&&Nt(e,n,f,g,o,M)}n=N,a=C,o=W,Y!=null?O(e,!!a,Y,!1):!!o!=!!a&&(n!=null?O(e,!!a,n,!0):O(e,!!a,a?[]:"",!1));return;case"textarea":W=Y=null;for(N in a)if(f=a[N],a.hasOwnProperty(N)&&f!=null&&!o.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Nt(e,n,N,null,o,f)}for(C in o)if(f=o[C],g=a[C],o.hasOwnProperty(C)&&(f!=null||g!=null))switch(C){case"value":Y=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(E(91));break;default:f!==g&&Nt(e,n,C,f,o,g)}_e(e,Y,W);return;case"option":for(var ze in a)if(Y=a[ze],a.hasOwnProperty(ze)&&Y!=null&&!o.hasOwnProperty(ze))switch(ze){case"selected":e.selected=!1;break;default:Nt(e,n,ze,null,o,Y)}for(M in o)if(Y=o[M],W=a[M],o.hasOwnProperty(M)&&Y!==W&&(Y!=null||W!=null))switch(M){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Nt(e,n,M,Y,o,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in a)Y=a[Fe],a.hasOwnProperty(Fe)&&Y!=null&&!o.hasOwnProperty(Fe)&&Nt(e,n,Fe,null,o,Y);for(j in o)if(Y=o[j],W=a[j],o.hasOwnProperty(j)&&Y!==W&&(Y!=null||W!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(E(137,n));break;default:Nt(e,n,j,Y,o,W)}return;default:if(De(n)){for(var Rt in a)Y=a[Rt],a.hasOwnProperty(Rt)&&Y!==void 0&&!o.hasOwnProperty(Rt)&&vc(e,n,Rt,void 0,o,Y);for(ee in o)Y=o[ee],W=a[ee],!o.hasOwnProperty(ee)||Y===W||Y===void 0&&W===void 0||vc(e,n,ee,Y,o,W);return}}for(var H in a)Y=a[H],a.hasOwnProperty(H)&&Y!=null&&!o.hasOwnProperty(H)&&Nt(e,n,H,null,o,Y);for(re in o)Y=o[re],W=a[re],!o.hasOwnProperty(re)||Y===W||Y==null&&W==null||Nt(e,n,re,Y,o,W)}var Tc=null,Nc=null;function po(e){return e.nodeType===9?e:e.ownerDocument}function Uf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ff(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Rc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Oc=null;function Kd(){var e=window.event;return e&&e.type==="popstate"?e===Oc?!1:(Oc=e,!0):(Oc=null,!1)}var Pf=typeof setTimeout=="function"?setTimeout:void 0,Qd=typeof clearTimeout=="function"?clearTimeout:void 0,zf=typeof Promise=="function"?Promise:void 0,Jd=typeof queueMicrotask=="function"?queueMicrotask:typeof zf<"u"?function(e){return zf.resolve(null).then(e).catch($d)}:Pf;function $d(e){setTimeout(function(){throw e})}function Hr(e){return e==="head"}function Hf(e,n){var a=n,o=0,f=0;do{var g=a.nextSibling;if(e.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<o&&8>o){a=o;var C=e.ownerDocument;if(a&1&&ns(C.documentElement),a&2&&ns(C.body),a&4)for(a=C.head,ns(a),C=a.firstChild;C;){var N=C.nextSibling,M=C.nodeName;C[ai]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&C.rel.toLowerCase()==="stylesheet"||a.removeChild(C),C=N}}if(f===0){e.removeChild(g),cs(n);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:o=a.charCodeAt(0)-48;else o=0;a=g}while(a);cs(n)}function _c(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_c(a),Jr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function e2(e,n,a,o){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=pi(e.nextSibling),e===null)break}return null}function t2(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=pi(e.nextSibling),e===null))return null;return e}function Ic(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function n2(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function pi(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Dc=null;function Gf(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Vf(e,n,a){switch(n=po(a),e){case"html":if(e=n.documentElement,!e)throw Error(E(452));return e;case"head":if(e=n.head,!e)throw Error(E(453));return e;case"body":if(e=n.body,!e)throw Error(E(454));return e;default:throw Error(E(451))}}function ns(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Jr(e)}var di=new Map,Xf=new Set;function bo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ur=ie.d;ie.d={f:i2,r:r2,D:a2,C:l2,L:s2,m:o2,X:c2,S:u2,M:f2};function i2(){var e=ur.f(),n=ho();return e||n}function r2(e){var n=qn(e);n!==null&&n.tag===5&&n.type==="form"?u0(n):ur.r(e)}var sl=typeof document>"u"?null:document;function jf(e,n,a){var o=sl;if(o&&typeof n=="string"&&n){var f=on(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Xf.has(f)||(Xf.add(f),e={rel:e,crossOrigin:a,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),Nn(n,"link",e),Et(n),o.head.appendChild(n)))}}function a2(e){ur.D(e),jf("dns-prefetch",e,null)}function l2(e,n){ur.C(e,n),jf("preconnect",e,n)}function s2(e,n,a){ur.L(e,n,a);var o=sl;if(o&&e&&n){var f='link[rel="preload"][as="'+on(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+on(a.imageSizes)+'"]')):f+='[href="'+on(e)+'"]';var g=f;switch(n){case"style":g=ol(e);break;case"script":g=ul(e)}di.has(g)||(e=D({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),di.set(g,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(is(g))||n==="script"&&o.querySelector(rs(g))||(n=o.createElement("link"),Nn(n,"link",e),Et(n),o.head.appendChild(n)))}}function o2(e,n){ur.m(e,n);var a=sl;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+on(o)+'"][href="'+on(e)+'"]',g=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ul(e)}if(!di.has(g)&&(e=D({rel:"modulepreload",href:e},n),di.set(g,e),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(rs(g)))return}o=a.createElement("link"),Nn(o,"link",e),Et(o),a.head.appendChild(o)}}}function u2(e,n,a){ur.S(e,n,a);var o=sl;if(o&&e){var f=xi(o).hoistableStyles,g=ol(e);n=n||"default";var C=f.get(g);if(!C){var N={loading:0,preload:null};if(C=o.querySelector(is(g)))N.loading=5;else{e=D({rel:"stylesheet",href:e,"data-precedence":n},a),(a=di.get(g))&&Mc(e,a);var M=C=o.createElement("link");Et(M),Nn(M,"link",e),M._p=new Promise(function(j,ee){M.onload=j,M.onerror=ee}),M.addEventListener("load",function(){N.loading|=1}),M.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Co(C,n,o)}C={type:"stylesheet",instance:C,count:1,state:N},f.set(g,C)}}}function c2(e,n){ur.X(e,n);var a=sl;if(a&&e){var o=xi(a).hoistableScripts,f=ul(e),g=o.get(f);g||(g=a.querySelector(rs(f)),g||(e=D({src:e,async:!0},n),(n=di.get(f))&&Bc(e,n),g=a.createElement("script"),Et(g),Nn(g,"link",e),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function f2(e,n){ur.M(e,n);var a=sl;if(a&&e){var o=xi(a).hoistableScripts,f=ul(e),g=o.get(f);g||(g=a.querySelector(rs(f)),g||(e=D({src:e,async:!0,type:"module"},n),(n=di.get(f))&&Bc(e,n),g=a.createElement("script"),Et(g),Nn(g,"link",e),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function Yf(e,n,a,o){var f=(f=ge.current)?bo(f):null;if(!f)throw Error(E(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ol(a.href),a=xi(f).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ol(a.href);var g=xi(f).hoistableStyles,C=g.get(e);if(C||(f=f.ownerDocument||f,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,C),(g=f.querySelector(is(e)))&&!g._p&&(C.instance=g,C.state.loading=5),di.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},di.set(e,a),g||h2(f,e,a,C.state))),n&&o===null)throw Error(E(528,""));return C}if(n&&o!==null)throw Error(E(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ul(a),a=xi(f).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(E(444,e))}}function ol(e){return'href="'+on(e)+'"'}function is(e){return'link[rel="stylesheet"]['+e+"]"}function Zf(e){return D({},e,{"data-precedence":e.precedence,precedence:null})}function h2(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Nn(n,"link",a),Et(n),e.head.appendChild(n))}function ul(e){return'[src="'+on(e)+'"]'}function rs(e){return"script[async]"+e}function qf(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+on(a.href)+'"]');if(o)return n.instance=o,Et(o),o;var f=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Et(o),Nn(o,"style",f),Co(o,a.precedence,e),n.instance=o;case"stylesheet":f=ol(a.href);var g=e.querySelector(is(f));if(g)return n.state.loading|=4,n.instance=g,Et(g),g;o=Zf(a),(f=di.get(f))&&Mc(o,f),g=(e.ownerDocument||e).createElement("link"),Et(g);var C=g;return C._p=new Promise(function(N,M){C.onload=N,C.onerror=M}),Nn(g,"link",o),n.state.loading|=4,Co(g,a.precedence,e),n.instance=g;case"script":return g=ul(a.src),(f=e.querySelector(rs(g)))?(n.instance=f,Et(f),f):(o=a,(f=di.get(g))&&(o=D({},a),Bc(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),Et(f),Nn(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(E(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Co(o,a.precedence,e));return n.instance}function Co(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,g=f,C=0;C<o.length;C++){var N=o[C];if(N.dataset.precedence===n)g=N;else if(g!==f)break}g?g.parentNode.insertBefore(e,g.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Mc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Bc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var So=null;function Wf(e,n,a){if(So===null){var o=new Map,f=So=new Map;f.set(a,o)}else f=So,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var g=a[f];if(!(g[ai]||g[xn]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var C=g.getAttribute(n)||"";C=e+C;var N=o.get(C);N?N.push(g):o.set(C,[g])}}return o}function Kf(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function d2(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Qf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var as=null;function g2(){}function x2(e,n,a){if(as===null)throw Error(E(475));var o=as;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=ol(a.href),g=e.querySelector(is(f));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=vo.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=g,Et(g);return}g=e.ownerDocument||e,a=Zf(a),(f=di.get(f))&&Mc(a,f),g=g.createElement("link"),Et(g);var C=g;C._p=new Promise(function(N,M){C.onload=N,C.onerror=M}),Nn(g,"link",a),n.instance=g}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=vo.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function m2(){if(as===null)throw Error(E(475));var e=as;return e.stylesheets&&e.count===0&&Lc(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Lc(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function vo(){if(this.count--,this.count===0){if(this.stylesheets)Lc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var To=null;function Lc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,To=new Map,n.forEach(y2,e),To=null,vo.call(e))}function y2(e,n){if(!(n.state.loading&4)){var a=To.get(e);if(a)var o=a.get(null);else{a=new Map,To.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var C=f[g];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(a.set(C.dataset.precedence,C),o=C)}o&&a.set(null,o)}f=n.instance,C=f.getAttribute("data-precedence"),g=a.get(C)||o,g===o&&a.set(null,f),a.set(C,f),this.count++,o=vo.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),g?g.parentNode.insertBefore(f,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var ls={$$typeof:oe,Provider:null,Consumer:null,_currentValue:Be,_currentValue2:Be,_threadCount:0};function E2(e,n,a,o,f,g,C,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=st(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=st(0),this.hiddenUpdates=st(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Jf(e,n,a,o,f,g,C,N,M,j,ee,re){return e=new E2(e,n,a,C,N,M,j,re),n=1,g===!0&&(n|=24),g=Qn(3,null,null,n),e.current=g,g.stateNode=e,n=mu(),n.refCount++,e.pooledCache=n,n.refCount++,g.memoizedState={element:o,isDehydrated:a,cache:n},Au(g),e}function $f(e){return e?(e=za,e):za}function eh(e,n,a,o,f,g){f=$f(f),o.context===null?o.context=f:o.pendingContext=f,o=Rr(n),o.payload={element:a},g=g===void 0?null:g,g!==null&&(o.callback=g),a=Or(e,o,n),a!==null&&(ni(a,e,n),kl(a,e,n))}function th(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function kc(e,n){th(e,n),(e=e.alternate)&&th(e,n)}function nh(e){if(e.tag===13){var n=Pa(e,67108864);n!==null&&ni(n,e,67108864),kc(e,67108864)}}var No=!0;function w2(e,n,a,o){var f=Q.T;Q.T=null;var g=ie.p;try{ie.p=2,Uc(e,n,a,o)}finally{ie.p=g,Q.T=f}}function A2(e,n,a,o){var f=Q.T;Q.T=null;var g=ie.p;try{ie.p=8,Uc(e,n,a,o)}finally{ie.p=g,Q.T=f}}function Uc(e,n,a,o){if(No){var f=Fc(o);if(f===null)Sc(e,n,o,Ro,a),rh(e,o);else if(b2(f,e,n,a,o))o.stopPropagation();else if(rh(e,o),n&4&&-1<p2.indexOf(e)){for(;f!==null;){var g=qn(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var C=Ot(g.pendingLanes);if(C!==0){var N=g;for(N.pendingLanes|=2,N.entangledLanes|=2;C;){var M=1<<31-yt(C);N.entanglements[1]|=M,C&=~M}zi(g),(pt&6)===0&&(co=Ct()+500,$l(0))}}break;case 13:N=Pa(g,2),N!==null&&ni(N,g,2),ho(),kc(g,2)}if(g=Fc(o),g===null&&Sc(e,n,o,Ro,a),g===f)break;f=g}f!==null&&o.stopPropagation()}else Sc(e,n,o,null,a)}}function Fc(e){return e=xr(e),Pc(e)}var Ro=null;function Pc(e){if(Ro=null,e=Wt(e),e!==null){var n=A(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=R(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ro=e,null}function ih(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(St()){case rt:return 2;case Wr:return 8;case Ne:case ba:return 32;case xl:return 268435456;default:return 32}default:return 32}}var zc=!1,Gr=null,Vr=null,Xr=null,ss=new Map,os=new Map,jr=[],p2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rh(e,n){switch(e){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":ss.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":os.delete(n.pointerId)}}function us(e,n,a,o,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:g,targetContainers:[f]},n!==null&&(n=qn(n),n!==null&&nh(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function b2(e,n,a,o,f){switch(n){case"focusin":return Gr=us(Gr,e,n,a,o,f),!0;case"dragenter":return Vr=us(Vr,e,n,a,o,f),!0;case"mouseover":return Xr=us(Xr,e,n,a,o,f),!0;case"pointerover":var g=f.pointerId;return ss.set(g,us(ss.get(g)||null,e,n,a,o,f)),!0;case"gotpointercapture":return g=f.pointerId,os.set(g,us(os.get(g)||null,e,n,a,o,f)),!0}return!1}function ah(e){var n=Wt(e.target);if(n!==null){var a=A(n);if(a!==null){if(n=a.tag,n===13){if(n=R(a),n!==null){e.blockedOn=n,va(e.priority,function(){if(a.tag===13){var o=ti();o=Qr(o);var f=Pa(a,o);f!==null&&ni(f,a,o),kc(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Fc(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);$r=o,a.target.dispatchEvent(o),$r=null}else return n=qn(a),n!==null&&nh(n),e.blockedOn=a,!1;n.shift()}return!0}function lh(e,n,a){Oo(e)&&a.delete(n)}function C2(){zc=!1,Gr!==null&&Oo(Gr)&&(Gr=null),Vr!==null&&Oo(Vr)&&(Vr=null),Xr!==null&&Oo(Xr)&&(Xr=null),ss.forEach(lh),os.forEach(lh)}function _o(e,n){e.blockedOn===n&&(e.blockedOn=null,zc||(zc=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,C2)))}var Io=null;function sh(e){Io!==e&&(Io=e,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){Io===e&&(Io=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(Pc(o||a)===null)continue;break}var g=qn(a);g!==null&&(e.splice(n,3),n-=3,Pu(g,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function cs(e){function n(M){return _o(M,e)}Gr!==null&&_o(Gr,e),Vr!==null&&_o(Vr,e),Xr!==null&&_o(Xr,e),ss.forEach(n),os.forEach(n);for(var a=0;a<jr.length;a++){var o=jr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<jr.length&&(a=jr[0],a.blockedOn===null);)ah(a),a.blockedOn===null&&jr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],g=a[o+1],C=f[Vt]||null;if(typeof g=="function")C||sh(a);else if(C){var N=null;if(g&&g.hasAttribute("formAction")){if(f=g,C=g[Vt]||null)N=C.formAction;else if(Pc(f)!==null)continue}else N=C.action;typeof N=="function"?a[o+1]=N:(a.splice(o,3),o-=3),sh(a)}}}function Hc(e){this._internalRoot=e}Do.prototype.render=Hc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(E(409));var a=n.current,o=ti();eh(a,o,e,n,null,null)},Do.prototype.unmount=Hc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;eh(e.current,2,null,e,null,null),ho(),n[Ci]=null}};function Do(e){this._internalRoot=e}Do.prototype.unstable_scheduleHydration=function(e){if(e){var n=Xi();e={blockedOn:null,target:e,priority:n};for(var a=0;a<jr.length&&n!==0&&n<jr[a].priority;a++);jr.splice(a,0,e),a===0&&ah(e)}};var oh=y.version;if(oh!=="19.1.1")throw Error(E(527,oh,"19.1.1"));ie.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=_(n),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var S2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mo.isDisabled&&Mo.supportsFiber)try{bn=Mo.inject(S2),Rn=Mo}catch{}}return hs.createRoot=function(e,n){if(!b(e))throw Error(E(299));var a=!1,o="",f=C0,g=S0,C=v0,N=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(N=n.unstable_transitionCallbacks)),n=Jf(e,1,!1,null,null,a,o,f,g,C,N,null),e[Ci]=n.current,Cc(e),new Hc(n)},hs.hydrateRoot=function(e,n,a){if(!b(e))throw Error(E(299));var o=!1,f="",g=C0,C=S0,N=v0,M=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(C=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(M=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),n=Jf(e,1,!0,n,a??null,o,f,g,C,N,M,j),n.context=$f(null),a=n.current,o=ti(),o=Qr(o),f=Rr(o),f.callback=null,Or(a,f,o),a=o,n.current.lanes=a,Zn(n,a),zi(n),e[Ci]=n.current,Cc(e),new Do(n)},hs.version="19.1.1",hs}var Eh;function L2(){if(Eh)return Xc.exports;Eh=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(y){console.error(y)}}return d(),Xc.exports=B2(),Xc.exports}var k2=L2();const U2=l1(k2);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wh="popstate";function F2(d={}){function y(E,b){let{pathname:A,search:R,hash:k}=E.location;return Jc("",{pathname:A,search:R,hash:k},b.state&&b.state.usr||null,b.state&&b.state.key||"default")}function x(E,b){return typeof b=="string"?b:ms(b)}return z2(y,x,null,d)}function Gt(d,y){if(d===!1||d===null||typeof d>"u")throw new Error(y)}function Hi(d,y){if(!d){typeof console<"u"&&console.warn(y);try{throw new Error(y)}catch{}}}function P2(){return Math.random().toString(36).substring(2,10)}function Ah(d,y){return{usr:d.state,key:d.key,idx:y}}function Jc(d,y,x=null,E){return{pathname:typeof d=="string"?d:d.pathname,search:"",hash:"",...typeof y=="string"?hl(y):y,state:x,key:y&&y.key||E||P2()}}function ms({pathname:d="/",search:y="",hash:x=""}){return y&&y!=="?"&&(d+=y.charAt(0)==="?"?y:"?"+y),x&&x!=="#"&&(d+=x.charAt(0)==="#"?x:"#"+x),d}function hl(d){let y={};if(d){let x=d.indexOf("#");x>=0&&(y.hash=d.substring(x),d=d.substring(0,x));let E=d.indexOf("?");E>=0&&(y.search=d.substring(E),d=d.substring(0,E)),d&&(y.pathname=d)}return y}function z2(d,y,x,E={}){let{window:b=document.defaultView,v5Compat:A=!1}=E,R=b.history,k="POP",_=null,p=D();p==null&&(p=0,R.replaceState({...R.state,idx:p},""));function D(){return(R.state||{idx:null}).idx}function P(){k="POP";let he=D(),ce=he==null?null:he-p;p=he,_&&_({action:k,location:de.location,delta:ce})}function ne(he,ce){k="PUSH";let be=Jc(de.location,he,ce);p=D()+1;let oe=Ah(be,p),Oe=de.createHref(be);try{R.pushState(oe,"",Oe)}catch(Ie){if(Ie instanceof DOMException&&Ie.name==="DataCloneError")throw Ie;b.location.assign(Oe)}A&&_&&_({action:k,location:de.location,delta:1})}function ye(he,ce){k="REPLACE";let be=Jc(de.location,he,ce);p=D();let oe=Ah(be,p),Oe=de.createHref(be);R.replaceState(oe,"",Oe),A&&_&&_({action:k,location:de.location,delta:0})}function pe(he){return H2(he)}let de={get action(){return k},get location(){return d(b,R)},listen(he){if(_)throw new Error("A history only accepts one active listener");return b.addEventListener(wh,P),_=he,()=>{b.removeEventListener(wh,P),_=null}},createHref(he){return y(b,he)},createURL:pe,encodeLocation(he){let ce=pe(he);return{pathname:ce.pathname,search:ce.search,hash:ce.hash}},push:ne,replace:ye,go(he){return R.go(he)}};return de}function H2(d,y=!1){let x="http://localhost";typeof window<"u"&&(x=window.location.origin!=="null"?window.location.origin:window.location.href),Gt(x,"No window.location.(origin|href) available to create URL");let E=typeof d=="string"?d:ms(d);return E=E.replace(/ $/,"%20"),!y&&E.startsWith("//")&&(E=x+E),new URL(E,x)}function Vh(d,y,x="/"){return G2(d,y,x,!1)}function G2(d,y,x,E){let b=typeof y=="string"?hl(y):y,A=hr(b.pathname||"/",x);if(A==null)return null;let R=Xh(d);V2(R);let k=null;for(let _=0;k==null&&_<R.length;++_){let p=eg(A);k=J2(R[_],p,E)}return k}function Xh(d,y=[],x=[],E=""){let b=(A,R,k)=>{let _={relativePath:k===void 0?A.path||"":k,caseSensitive:A.caseSensitive===!0,childrenIndex:R,route:A};_.relativePath.startsWith("/")&&(Gt(_.relativePath.startsWith(E),`Absolute route path "${_.relativePath}" nested under path "${E}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(E.length));let p=fr([E,_.relativePath]),D=x.concat(_);A.children&&A.children.length>0&&(Gt(A.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Xh(A.children,y,D,p)),!(A.path==null&&!A.index)&&y.push({path:p,score:K2(p,A.index),routesMeta:D})};return d.forEach((A,R)=>{if(A.path===""||!A.path?.includes("?"))b(A,R);else for(let k of jh(A.path))b(A,R,k)}),y}function jh(d){let y=d.split("/");if(y.length===0)return[];let[x,...E]=y,b=x.endsWith("?"),A=x.replace(/\?$/,"");if(E.length===0)return b?[A,""]:[A];let R=jh(E.join("/")),k=[];return k.push(...R.map(_=>_===""?A:[A,_].join("/"))),b&&k.push(...R),k.map(_=>d.startsWith("/")&&_===""?"/":_)}function V2(d){d.sort((y,x)=>y.score!==x.score?x.score-y.score:Q2(y.routesMeta.map(E=>E.childrenIndex),x.routesMeta.map(E=>E.childrenIndex)))}var X2=/^:[\w-]+$/,j2=3,Y2=2,Z2=1,q2=10,W2=-2,ph=d=>d==="*";function K2(d,y){let x=d.split("/"),E=x.length;return x.some(ph)&&(E+=W2),y&&(E+=Y2),x.filter(b=>!ph(b)).reduce((b,A)=>b+(X2.test(A)?j2:A===""?Z2:q2),E)}function Q2(d,y){return d.length===y.length&&d.slice(0,-1).every((E,b)=>E===y[b])?d[d.length-1]-y[y.length-1]:0}function J2(d,y,x=!1){let{routesMeta:E}=d,b={},A="/",R=[];for(let k=0;k<E.length;++k){let _=E[k],p=k===E.length-1,D=A==="/"?y:y.slice(A.length)||"/",P=Po({path:_.relativePath,caseSensitive:_.caseSensitive,end:p},D),ne=_.route;if(!P&&p&&x&&!E[E.length-1].route.index&&(P=Po({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},D)),!P)return null;Object.assign(b,P.params),R.push({params:b,pathname:fr([A,P.pathname]),pathnameBase:rg(fr([A,P.pathnameBase])),route:ne}),P.pathnameBase!=="/"&&(A=fr([A,P.pathnameBase]))}return R}function Po(d,y){typeof d=="string"&&(d={path:d,caseSensitive:!1,end:!0});let[x,E]=$2(d.path,d.caseSensitive,d.end),b=y.match(x);if(!b)return null;let A=b[0],R=A.replace(/(.)\/+$/,"$1"),k=b.slice(1);return{params:E.reduce((p,{paramName:D,isOptional:P},ne)=>{if(D==="*"){let pe=k[ne]||"";R=A.slice(0,A.length-pe.length).replace(/(.)\/+$/,"$1")}const ye=k[ne];return P&&!ye?p[D]=void 0:p[D]=(ye||"").replace(/%2F/g,"/"),p},{}),pathname:A,pathnameBase:R,pattern:d}}function $2(d,y=!1,x=!0){Hi(d==="*"||!d.endsWith("*")||d.endsWith("/*"),`Route path "${d}" will be treated as if it were "${d.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${d.replace(/\*$/,"/*")}".`);let E=[],b="^"+d.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(R,k,_)=>(E.push({paramName:k,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)"));return d.endsWith("*")?(E.push({paramName:"*"}),b+=d==="*"||d==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):x?b+="\\/*$":d!==""&&d!=="/"&&(b+="(?:(?=\\/|$))"),[new RegExp(b,y?void 0:"i"),E]}function eg(d){try{return d.split("/").map(y=>decodeURIComponent(y).replace(/\//g,"%2F")).join("/")}catch(y){return Hi(!1,`The URL path "${d}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${y}).`),d}}function hr(d,y){if(y==="/")return d;if(!d.toLowerCase().startsWith(y.toLowerCase()))return null;let x=y.endsWith("/")?y.length-1:y.length,E=d.charAt(x);return E&&E!=="/"?null:d.slice(x)||"/"}function tg(d,y="/"){let{pathname:x,search:E="",hash:b=""}=typeof d=="string"?hl(d):d;return{pathname:x?x.startsWith("/")?x:ng(x,y):y,search:ag(E),hash:lg(b)}}function ng(d,y){let x=y.replace(/\/+$/,"").split("/");return d.split("/").forEach(b=>{b===".."?x.length>1&&x.pop():b!=="."&&x.push(b)}),x.length>1?x.join("/"):"/"}function qc(d,y,x,E){return`Cannot include a '${d}' character in a manually specified \`to.${y}\` field [${JSON.stringify(E)}].  Please separate it out to the \`to.${x}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ig(d){return d.filter((y,x)=>x===0||y.route.path&&y.route.path.length>0)}function Yh(d){let y=ig(d);return y.map((x,E)=>E===y.length-1?x.pathname:x.pathnameBase)}function Zh(d,y,x,E=!1){let b;typeof d=="string"?b=hl(d):(b={...d},Gt(!b.pathname||!b.pathname.includes("?"),qc("?","pathname","search",b)),Gt(!b.pathname||!b.pathname.includes("#"),qc("#","pathname","hash",b)),Gt(!b.search||!b.search.includes("#"),qc("#","search","hash",b)));let A=d===""||b.pathname==="",R=A?"/":b.pathname,k;if(R==null)k=x;else{let P=y.length-1;if(!E&&R.startsWith("..")){let ne=R.split("/");for(;ne[0]==="..";)ne.shift(),P-=1;b.pathname=ne.join("/")}k=P>=0?y[P]:"/"}let _=tg(b,k),p=R&&R!=="/"&&R.endsWith("/"),D=(A||R===".")&&x.endsWith("/");return!_.pathname.endsWith("/")&&(p||D)&&(_.pathname+="/"),_}var fr=d=>d.join("/").replace(/\/\/+/g,"/"),rg=d=>d.replace(/\/+$/,"").replace(/^\/*/,"/"),ag=d=>!d||d==="?"?"":d.startsWith("?")?d:"?"+d,lg=d=>!d||d==="#"?"":d.startsWith("#")?d:"#"+d;function sg(d){return d!=null&&typeof d.status=="number"&&typeof d.statusText=="string"&&typeof d.internal=="boolean"&&"data"in d}var qh=["POST","PUT","PATCH","DELETE"];new Set(qh);var og=["GET",...qh];new Set(og);var dl=J.createContext(null);dl.displayName="DataRouter";var Xo=J.createContext(null);Xo.displayName="DataRouterState";J.createContext(!1);var Wh=J.createContext({isTransitioning:!1});Wh.displayName="ViewTransition";var ug=J.createContext(new Map);ug.displayName="Fetchers";var cg=J.createContext(null);cg.displayName="Await";var Gi=J.createContext(null);Gi.displayName="Navigation";var ws=J.createContext(null);ws.displayName="Location";var dr=J.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var o1=J.createContext(null);o1.displayName="RouteError";function fg(d,{relative:y}={}){Gt(As(),"useHref() may be used only in the context of a <Router> component.");let{basename:x,navigator:E}=J.useContext(Gi),{hash:b,pathname:A,search:R}=ps(d,{relative:y}),k=A;return x!=="/"&&(k=A==="/"?x:fr([x,A])),E.createHref({pathname:k,search:R,hash:b})}function As(){return J.useContext(ws)!=null}function Zr(){return Gt(As(),"useLocation() may be used only in the context of a <Router> component."),J.useContext(ws).location}var Kh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qh(d){J.useContext(Gi).static||J.useLayoutEffect(d)}function u1(){let{isDataRoute:d}=J.useContext(dr);return d?Sg():hg()}function hg(){Gt(As(),"useNavigate() may be used only in the context of a <Router> component.");let d=J.useContext(dl),{basename:y,navigator:x}=J.useContext(Gi),{matches:E}=J.useContext(dr),{pathname:b}=Zr(),A=JSON.stringify(Yh(E)),R=J.useRef(!1);return Qh(()=>{R.current=!0}),J.useCallback((_,p={})=>{if(Hi(R.current,Kh),!R.current)return;if(typeof _=="number"){x.go(_);return}let D=Zh(_,JSON.parse(A),b,p.relative==="path");d==null&&y!=="/"&&(D.pathname=D.pathname==="/"?y:fr([y,D.pathname])),(p.replace?x.replace:x.push)(D,p.state,p)},[y,x,A,b,d])}J.createContext(null);function ps(d,{relative:y}={}){let{matches:x}=J.useContext(dr),{pathname:E}=Zr(),b=JSON.stringify(Yh(x));return J.useMemo(()=>Zh(d,JSON.parse(b),E,y==="path"),[d,b,E,y])}function dg(d,y){return Jh(d,y)}function Jh(d,y,x,E){Gt(As(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:b}=J.useContext(Gi),{matches:A}=J.useContext(dr),R=A[A.length-1],k=R?R.params:{},_=R?R.pathname:"/",p=R?R.pathnameBase:"/",D=R&&R.route;{let ce=D&&D.path||"";$h(_,!D||ce.endsWith("*")||ce.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${ce}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ce}"> to <Route path="${ce==="/"?"*":`${ce}/*`}">.`)}let P=Zr(),ne;if(y){let ce=typeof y=="string"?hl(y):y;Gt(p==="/"||ce.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${ce.pathname}" was given in the \`location\` prop.`),ne=ce}else ne=P;let ye=ne.pathname||"/",pe=ye;if(p!=="/"){let ce=p.replace(/^\//,"").split("/");pe="/"+ye.replace(/^\//,"").split("/").slice(ce.length).join("/")}let de=Vh(d,{pathname:pe});Hi(D||de!=null,`No routes matched location "${ne.pathname}${ne.search}${ne.hash}" `),Hi(de==null||de[de.length-1].route.element!==void 0||de[de.length-1].route.Component!==void 0||de[de.length-1].route.lazy!==void 0,`Matched leaf route at location "${ne.pathname}${ne.search}${ne.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let he=Eg(de&&de.map(ce=>Object.assign({},ce,{params:Object.assign({},k,ce.params),pathname:fr([p,b.encodeLocation?b.encodeLocation(ce.pathname).pathname:ce.pathname]),pathnameBase:ce.pathnameBase==="/"?p:fr([p,b.encodeLocation?b.encodeLocation(ce.pathnameBase).pathname:ce.pathnameBase])})),A,x,E);return y&&he?J.createElement(ws.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...ne},navigationType:"POP"}},he):he}function gg(){let d=Cg(),y=sg(d)?`${d.status} ${d.statusText}`:d instanceof Error?d.message:JSON.stringify(d),x=d instanceof Error?d.stack:null,E="rgba(200,200,200, 0.5)",b={padding:"0.5rem",backgroundColor:E},A={padding:"2px 4px",backgroundColor:E},R=null;return console.error("Error handled by React Router default ErrorBoundary:",d),R=J.createElement(J.Fragment,null,J.createElement("p",null,"💿 Hey developer 👋"),J.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",J.createElement("code",{style:A},"ErrorBoundary")," or"," ",J.createElement("code",{style:A},"errorElement")," prop on your route.")),J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},y),x?J.createElement("pre",{style:b},x):null,R)}var xg=J.createElement(gg,null),mg=class extends J.Component{constructor(d){super(d),this.state={location:d.location,revalidation:d.revalidation,error:d.error}}static getDerivedStateFromError(d){return{error:d}}static getDerivedStateFromProps(d,y){return y.location!==d.location||y.revalidation!=="idle"&&d.revalidation==="idle"?{error:d.error,location:d.location,revalidation:d.revalidation}:{error:d.error!==void 0?d.error:y.error,location:y.location,revalidation:d.revalidation||y.revalidation}}componentDidCatch(d,y){console.error("React Router caught the following error during render",d,y)}render(){return this.state.error!==void 0?J.createElement(dr.Provider,{value:this.props.routeContext},J.createElement(o1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yg({routeContext:d,match:y,children:x}){let E=J.useContext(dl);return E&&E.static&&E.staticContext&&(y.route.errorElement||y.route.ErrorBoundary)&&(E.staticContext._deepestRenderedBoundaryId=y.route.id),J.createElement(dr.Provider,{value:d},x)}function Eg(d,y=[],x=null,E=null){if(d==null){if(!x)return null;if(x.errors)d=x.matches;else if(y.length===0&&!x.initialized&&x.matches.length>0)d=x.matches;else return null}let b=d,A=x?.errors;if(A!=null){let _=b.findIndex(p=>p.route.id&&A?.[p.route.id]!==void 0);Gt(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(A).join(",")}`),b=b.slice(0,Math.min(b.length,_+1))}let R=!1,k=-1;if(x)for(let _=0;_<b.length;_++){let p=b[_];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(k=_),p.route.id){let{loaderData:D,errors:P}=x,ne=p.route.loader&&!D.hasOwnProperty(p.route.id)&&(!P||P[p.route.id]===void 0);if(p.route.lazy||ne){R=!0,k>=0?b=b.slice(0,k+1):b=[b[0]];break}}}return b.reduceRight((_,p,D)=>{let P,ne=!1,ye=null,pe=null;x&&(P=A&&p.route.id?A[p.route.id]:void 0,ye=p.route.errorElement||xg,R&&(k<0&&D===0?($h("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),ne=!0,pe=null):k===D&&(ne=!0,pe=p.route.hydrateFallbackElement||null)));let de=y.concat(b.slice(0,D+1)),he=()=>{let ce;return P?ce=ye:ne?ce=pe:p.route.Component?ce=J.createElement(p.route.Component,null):p.route.element?ce=p.route.element:ce=_,J.createElement(yg,{match:p,routeContext:{outlet:_,matches:de,isDataRoute:x!=null},children:ce})};return x&&(p.route.ErrorBoundary||p.route.errorElement||D===0)?J.createElement(mg,{location:x.location,revalidation:x.revalidation,component:ye,error:P,children:he(),routeContext:{outlet:null,matches:de,isDataRoute:!0}}):he()},null)}function c1(d){return`${d} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wg(d){let y=J.useContext(dl);return Gt(y,c1(d)),y}function Ag(d){let y=J.useContext(Xo);return Gt(y,c1(d)),y}function pg(d){let y=J.useContext(dr);return Gt(y,c1(d)),y}function f1(d){let y=pg(d),x=y.matches[y.matches.length-1];return Gt(x.route.id,`${d} can only be used on routes that contain a unique "id"`),x.route.id}function bg(){return f1("useRouteId")}function Cg(){let d=J.useContext(o1),y=Ag("useRouteError"),x=f1("useRouteError");return d!==void 0?d:y.errors?.[x]}function Sg(){let{router:d}=wg("useNavigate"),y=f1("useNavigate"),x=J.useRef(!1);return Qh(()=>{x.current=!0}),J.useCallback(async(b,A={})=>{Hi(x.current,Kh),x.current&&(typeof b=="number"?d.navigate(b):await d.navigate(b,{fromRouteId:y,...A}))},[d,y])}var bh={};function $h(d,y,x){!y&&!bh[d]&&(bh[d]=!0,Hi(!1,x))}J.memo(vg);function vg({routes:d,future:y,state:x}){return Jh(d,void 0,x,y)}function ko(d){Gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Tg({basename:d="/",children:y=null,location:x,navigationType:E="POP",navigator:b,static:A=!1}){Gt(!As(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let R=d.replace(/^\/*/,"/"),k=J.useMemo(()=>({basename:R,navigator:b,static:A,future:{}}),[R,b,A]);typeof x=="string"&&(x=hl(x));let{pathname:_="/",search:p="",hash:D="",state:P=null,key:ne="default"}=x,ye=J.useMemo(()=>{let pe=hr(_,R);return pe==null?null:{location:{pathname:pe,search:p,hash:D,state:P,key:ne},navigationType:E}},[R,_,p,D,P,ne,E]);return Hi(ye!=null,`<Router basename="${R}"> is not able to match the URL "${_}${p}${D}" because it does not start with the basename, so the <Router> won't render anything.`),ye==null?null:J.createElement(Gi.Provider,{value:k},J.createElement(ws.Provider,{children:y,value:ye}))}function Ng({children:d,location:y}){return dg($c(d),y)}function $c(d,y=[]){let x=[];return J.Children.forEach(d,(E,b)=>{if(!J.isValidElement(E))return;let A=[...y,b];if(E.type===J.Fragment){x.push.apply(x,$c(E.props.children,A));return}Gt(E.type===ko,`[${typeof E.type=="string"?E.type:E.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Gt(!E.props.index||!E.props.children,"An index route cannot have child routes.");let R={id:E.props.id||A.join("-"),caseSensitive:E.props.caseSensitive,element:E.props.element,Component:E.props.Component,index:E.props.index,path:E.props.path,loader:E.props.loader,action:E.props.action,hydrateFallbackElement:E.props.hydrateFallbackElement,HydrateFallback:E.props.HydrateFallback,errorElement:E.props.errorElement,ErrorBoundary:E.props.ErrorBoundary,hasErrorBoundary:E.props.hasErrorBoundary===!0||E.props.ErrorBoundary!=null||E.props.errorElement!=null,shouldRevalidate:E.props.shouldRevalidate,handle:E.props.handle,lazy:E.props.lazy};E.props.children&&(R.children=$c(E.props.children,A)),x.push(R)}),x}var Uo="get",Fo="application/x-www-form-urlencoded";function jo(d){return d!=null&&typeof d.tagName=="string"}function Rg(d){return jo(d)&&d.tagName.toLowerCase()==="button"}function Og(d){return jo(d)&&d.tagName.toLowerCase()==="form"}function _g(d){return jo(d)&&d.tagName.toLowerCase()==="input"}function Ig(d){return!!(d.metaKey||d.altKey||d.ctrlKey||d.shiftKey)}function Dg(d,y){return d.button===0&&(!y||y==="_self")&&!Ig(d)}var Lo=null;function Mg(){if(Lo===null)try{new FormData(document.createElement("form"),0),Lo=!1}catch{Lo=!0}return Lo}var Bg=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wc(d){return d!=null&&!Bg.has(d)?(Hi(!1,`"${d}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fo}"`),null):d}function Lg(d,y){let x,E,b,A,R;if(Og(d)){let k=d.getAttribute("action");E=k?hr(k,y):null,x=d.getAttribute("method")||Uo,b=Wc(d.getAttribute("enctype"))||Fo,A=new FormData(d)}else if(Rg(d)||_g(d)&&(d.type==="submit"||d.type==="image")){let k=d.form;if(k==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let _=d.getAttribute("formaction")||k.getAttribute("action");if(E=_?hr(_,y):null,x=d.getAttribute("formmethod")||k.getAttribute("method")||Uo,b=Wc(d.getAttribute("formenctype"))||Wc(k.getAttribute("enctype"))||Fo,A=new FormData(k,d),!Mg()){let{name:p,type:D,value:P}=d;if(D==="image"){let ne=p?`${p}.`:"";A.append(`${ne}x`,"0"),A.append(`${ne}y`,"0")}else p&&A.append(p,P)}}else{if(jo(d))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');x=Uo,E=null,b=Fo,R=d}return A&&b==="text/plain"&&(R=A,A=void 0),{action:E,method:x.toLowerCase(),encType:b,formData:A,body:R}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function h1(d,y){if(d===!1||d===null||typeof d>"u")throw new Error(y)}function kg(d,y,x){let E=typeof d=="string"?new URL(d,typeof window>"u"?"server://singlefetch/":window.location.origin):d;return E.pathname==="/"?E.pathname=`_root.${x}`:y&&hr(E.pathname,y)==="/"?E.pathname=`${y.replace(/\/$/,"")}/_root.${x}`:E.pathname=`${E.pathname.replace(/\/$/,"")}.${x}`,E}async function Ug(d,y){if(d.id in y)return y[d.id];try{let x=await import(d.module);return y[d.id]=x,x}catch(x){return console.error(`Error loading route module \`${d.module}\`, reloading page...`),console.error(x),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Fg(d){return d==null?!1:d.href==null?d.rel==="preload"&&typeof d.imageSrcSet=="string"&&typeof d.imageSizes=="string":typeof d.rel=="string"&&typeof d.href=="string"}async function Pg(d,y,x){let E=await Promise.all(d.map(async b=>{let A=y.routes[b.route.id];if(A){let R=await Ug(A,x);return R.links?R.links():[]}return[]}));return Vg(E.flat(1).filter(Fg).filter(b=>b.rel==="stylesheet"||b.rel==="preload").map(b=>b.rel==="stylesheet"?{...b,rel:"prefetch",as:"style"}:{...b,rel:"prefetch"}))}function Ch(d,y,x,E,b,A){let R=(_,p)=>x[p]?_.route.id!==x[p].route.id:!0,k=(_,p)=>x[p].pathname!==_.pathname||x[p].route.path?.endsWith("*")&&x[p].params["*"]!==_.params["*"];return A==="assets"?y.filter((_,p)=>R(_,p)||k(_,p)):A==="data"?y.filter((_,p)=>{let D=E.routes[_.route.id];if(!D||!D.hasLoader)return!1;if(R(_,p)||k(_,p))return!0;if(_.route.shouldRevalidate){let P=_.route.shouldRevalidate({currentUrl:new URL(b.pathname+b.search+b.hash,window.origin),currentParams:x[0]?.params||{},nextUrl:new URL(d,window.origin),nextParams:_.params,defaultShouldRevalidate:!0});if(typeof P=="boolean")return P}return!0}):[]}function zg(d,y,{includeHydrateFallback:x}={}){return Hg(d.map(E=>{let b=y.routes[E.route.id];if(!b)return[];let A=[b.module];return b.clientActionModule&&(A=A.concat(b.clientActionModule)),b.clientLoaderModule&&(A=A.concat(b.clientLoaderModule)),x&&b.hydrateFallbackModule&&(A=A.concat(b.hydrateFallbackModule)),b.imports&&(A=A.concat(b.imports)),A}).flat(1))}function Hg(d){return[...new Set(d)]}function Gg(d){let y={},x=Object.keys(d).sort();for(let E of x)y[E]=d[E];return y}function Vg(d,y){let x=new Set;return new Set(y),d.reduce((E,b)=>{let A=JSON.stringify(Gg(b));return x.has(A)||(x.add(A),E.push({key:A,link:b})),E},[])}function ed(){let d=J.useContext(dl);return h1(d,"You must render this element inside a <DataRouterContext.Provider> element"),d}function Xg(){let d=J.useContext(Xo);return h1(d,"You must render this element inside a <DataRouterStateContext.Provider> element"),d}var d1=J.createContext(void 0);d1.displayName="FrameworkContext";function td(){let d=J.useContext(d1);return h1(d,"You must render this element inside a <HydratedRouter> element"),d}function jg(d,y){let x=J.useContext(d1),[E,b]=J.useState(!1),[A,R]=J.useState(!1),{onFocus:k,onBlur:_,onMouseEnter:p,onMouseLeave:D,onTouchStart:P}=y,ne=J.useRef(null);J.useEffect(()=>{if(d==="render"&&R(!0),d==="viewport"){let de=ce=>{ce.forEach(be=>{R(be.isIntersecting)})},he=new IntersectionObserver(de,{threshold:.5});return ne.current&&he.observe(ne.current),()=>{he.disconnect()}}},[d]),J.useEffect(()=>{if(E){let de=setTimeout(()=>{R(!0)},100);return()=>{clearTimeout(de)}}},[E]);let ye=()=>{b(!0)},pe=()=>{b(!1),R(!1)};return x?d!=="intent"?[A,ne,{}]:[A,ne,{onFocus:ds(k,ye),onBlur:ds(_,pe),onMouseEnter:ds(p,ye),onMouseLeave:ds(D,pe),onTouchStart:ds(P,ye)}]:[!1,ne,{}]}function ds(d,y){return x=>{d&&d(x),x.defaultPrevented||y(x)}}function Yg({page:d,...y}){let{router:x}=ed(),E=J.useMemo(()=>Vh(x.routes,d,x.basename),[x.routes,d,x.basename]);return E?J.createElement(qg,{page:d,matches:E,...y}):null}function Zg(d){let{manifest:y,routeModules:x}=td(),[E,b]=J.useState([]);return J.useEffect(()=>{let A=!1;return Pg(d,y,x).then(R=>{A||b(R)}),()=>{A=!0}},[d,y,x]),E}function qg({page:d,matches:y,...x}){let E=Zr(),{manifest:b,routeModules:A}=td(),{basename:R}=ed(),{loaderData:k,matches:_}=Xg(),p=J.useMemo(()=>Ch(d,y,_,b,E,"data"),[d,y,_,b,E]),D=J.useMemo(()=>Ch(d,y,_,b,E,"assets"),[d,y,_,b,E]),P=J.useMemo(()=>{if(d===E.pathname+E.search+E.hash)return[];let pe=new Set,de=!1;if(y.forEach(ce=>{let be=b.routes[ce.route.id];!be||!be.hasLoader||(!p.some(oe=>oe.route.id===ce.route.id)&&ce.route.id in k&&A[ce.route.id]?.shouldRevalidate||be.hasClientLoader?de=!0:pe.add(ce.route.id))}),pe.size===0)return[];let he=kg(d,R,"data");return de&&pe.size>0&&he.searchParams.set("_routes",y.filter(ce=>pe.has(ce.route.id)).map(ce=>ce.route.id).join(",")),[he.pathname+he.search]},[R,k,E,b,p,y,d,A]),ne=J.useMemo(()=>zg(D,b),[D,b]),ye=Zg(D);return J.createElement(J.Fragment,null,P.map(pe=>J.createElement("link",{key:pe,rel:"prefetch",as:"fetch",href:pe,...x})),ne.map(pe=>J.createElement("link",{key:pe,rel:"modulepreload",href:pe,...x})),ye.map(({key:pe,link:de})=>J.createElement("link",{key:pe,nonce:x.nonce,...de})))}function Wg(...d){return y=>{d.forEach(x=>{typeof x=="function"?x(y):x!=null&&(x.current=y)})}}var nd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nd&&(window.__reactRouterVersion="7.8.0")}catch{}function Kg({basename:d,children:y,window:x}){let E=J.useRef();E.current==null&&(E.current=F2({window:x,v5Compat:!0}));let b=E.current,[A,R]=J.useState({action:b.action,location:b.location}),k=J.useCallback(_=>{J.startTransition(()=>R(_))},[R]);return J.useLayoutEffect(()=>b.listen(k),[b,k]),J.createElement(Tg,{basename:d,children:y,location:A.location,navigationType:A.action,navigator:b})}var id=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cl=J.forwardRef(function({onClick:y,discover:x="render",prefetch:E="none",relative:b,reloadDocument:A,replace:R,state:k,target:_,to:p,preventScrollReset:D,viewTransition:P,...ne},ye){let{basename:pe}=J.useContext(Gi),de=typeof p=="string"&&id.test(p),he,ce=!1;if(typeof p=="string"&&de&&(he=p,nd))try{let $=new URL(window.location.href),Xe=p.startsWith("//")?new URL($.protocol+p):new URL(p),je=hr(Xe.pathname,pe);Xe.origin===$.origin&&je!=null?p=je+Xe.search+Xe.hash:ce=!0}catch{Hi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let be=fg(p,{relative:b}),[oe,Oe,Ie]=jg(E,ne),ke=ex(p,{replace:R,state:k,target:_,preventScrollReset:D,relative:b,viewTransition:P});function le($){y&&y($),$.defaultPrevented||ke($)}let xe=J.createElement("a",{...ne,...Ie,href:he||be,onClick:ce||A?y:le,ref:Wg(ye,Oe),target:_,"data-discover":!de&&x==="render"?"true":void 0});return oe&&!de?J.createElement(J.Fragment,null,xe,J.createElement(Yg,{page:be})):xe});cl.displayName="Link";var Qg=J.forwardRef(function({"aria-current":y="page",caseSensitive:x=!1,className:E="",end:b=!1,style:A,to:R,viewTransition:k,children:_,...p},D){let P=ps(R,{relative:p.relative}),ne=Zr(),ye=J.useContext(Xo),{navigator:pe,basename:de}=J.useContext(Gi),he=ye!=null&&ax(P)&&k===!0,ce=pe.encodeLocation?pe.encodeLocation(P).pathname:P.pathname,be=ne.pathname,oe=ye&&ye.navigation&&ye.navigation.location?ye.navigation.location.pathname:null;x||(be=be.toLowerCase(),oe=oe?oe.toLowerCase():null,ce=ce.toLowerCase()),oe&&de&&(oe=hr(oe,de)||oe);const Oe=ce!=="/"&&ce.endsWith("/")?ce.length-1:ce.length;let Ie=be===ce||!b&&be.startsWith(ce)&&be.charAt(Oe)==="/",ke=oe!=null&&(oe===ce||!b&&oe.startsWith(ce)&&oe.charAt(ce.length)==="/"),le={isActive:Ie,isPending:ke,isTransitioning:he},xe=Ie?y:void 0,$;typeof E=="function"?$=E(le):$=[E,Ie?"active":null,ke?"pending":null,he?"transitioning":null].filter(Boolean).join(" ");let Xe=typeof A=="function"?A(le):A;return J.createElement(cl,{...p,"aria-current":xe,className:$,ref:D,style:Xe,to:R,viewTransition:k},typeof _=="function"?_(le):_)});Qg.displayName="NavLink";var Jg=J.forwardRef(({discover:d="render",fetcherKey:y,navigate:x,reloadDocument:E,replace:b,state:A,method:R=Uo,action:k,onSubmit:_,relative:p,preventScrollReset:D,viewTransition:P,...ne},ye)=>{let pe=ix(),de=rx(k,{relative:p}),he=R.toLowerCase()==="get"?"get":"post",ce=typeof k=="string"&&id.test(k),be=oe=>{if(_&&_(oe),oe.defaultPrevented)return;oe.preventDefault();let Oe=oe.nativeEvent.submitter,Ie=Oe?.getAttribute("formmethod")||R;pe(Oe||oe.currentTarget,{fetcherKey:y,method:Ie,navigate:x,replace:b,state:A,relative:p,preventScrollReset:D,viewTransition:P})};return J.createElement("form",{ref:ye,method:he,action:de,onSubmit:E?_:be,...ne,"data-discover":!ce&&d==="render"?"true":void 0})});Jg.displayName="Form";function $g(d){return`${d} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rd(d){let y=J.useContext(dl);return Gt(y,$g(d)),y}function ex(d,{target:y,replace:x,state:E,preventScrollReset:b,relative:A,viewTransition:R}={}){let k=u1(),_=Zr(),p=ps(d,{relative:A});return J.useCallback(D=>{if(Dg(D,y)){D.preventDefault();let P=x!==void 0?x:ms(_)===ms(p);k(d,{replace:P,state:E,preventScrollReset:b,relative:A,viewTransition:R})}},[_,k,p,x,E,y,d,b,A,R])}var tx=0,nx=()=>`__${String(++tx)}__`;function ix(){let{router:d}=rd("useSubmit"),{basename:y}=J.useContext(Gi),x=bg();return J.useCallback(async(E,b={})=>{let{action:A,method:R,encType:k,formData:_,body:p}=Lg(E,y);if(b.navigate===!1){let D=b.fetcherKey||nx();await d.fetch(D,x,b.action||A,{preventScrollReset:b.preventScrollReset,formData:_,body:p,formMethod:b.method||R,formEncType:b.encType||k,flushSync:b.flushSync})}else await d.navigate(b.action||A,{preventScrollReset:b.preventScrollReset,formData:_,body:p,formMethod:b.method||R,formEncType:b.encType||k,replace:b.replace,state:b.state,fromRouteId:x,flushSync:b.flushSync,viewTransition:b.viewTransition})},[d,y,x])}function rx(d,{relative:y}={}){let{basename:x}=J.useContext(Gi),E=J.useContext(dr);Gt(E,"useFormAction must be used inside a RouteContext");let[b]=E.matches.slice(-1),A={...ps(d||".",{relative:y})},R=Zr();if(d==null){A.search=R.search;let k=new URLSearchParams(A.search),_=k.getAll("index");if(_.some(D=>D==="")){k.delete("index"),_.filter(P=>P).forEach(P=>k.append("index",P));let D=k.toString();A.search=D?`?${D}`:""}}return(!d||d===".")&&b.route.index&&(A.search=A.search?A.search.replace(/^\?/,"?index&"):"?index"),x!=="/"&&(A.pathname=A.pathname==="/"?x:fr([x,A.pathname])),ms(A)}function ax(d,{relative:y}={}){let x=J.useContext(Wh);Gt(x!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:E}=rd("useViewTransitionState"),b=ps(d,{relative:y});if(!x.isTransitioning)return!1;let A=hr(x.currentLocation.pathname,E)||x.currentLocation.pathname,R=hr(x.nextLocation.pathname,E)||x.nextLocation.pathname;return Po(b.pathname,R)!=null||Po(b.pathname,A)!=null}const lx=[{key:"light",label:"Light"},{key:"blue",label:"Blue"},{key:"green",label:"Green"}];function sx(){const d=document.documentElement.getAttribute("data-theme")||"",y=x=>{x?(document.documentElement.setAttribute("data-theme",x),localStorage.setItem("theme",x)):(document.documentElement.removeAttribute("data-theme"),localStorage.removeItem("theme"))};return Gh.useEffect(()=>{const x=localStorage.getItem("theme");x?document.documentElement.setAttribute("data-theme",x):document.documentElement.setAttribute("data-theme","blue")},[]),L.jsxs("div",{style:{display:"flex",gap:"0.5em",alignItems:"center",fontSize:"0.98em",margin:"0.5em 0"},children:[L.jsx("span",{style:{fontWeight:500},children:"Theme:"}),lx.map(x=>L.jsx("button",{className:`btn btn-sm${d===x.key?" btn-primary":" btn-outline-primary"}`,style:{padding:"0.3em 0.7em",minWidth:0},onClick:()=>y(x.key),children:x.label},x.key))]})}function ox(){const d=Zr(),[y,x]=J.useState(!1),E=J.useRef(null),b=()=>x(R=>!R),A=()=>x(!1);return J.useEffect(()=>{if(!y)return;function R(k){E.current&&!E.current.contains(k.target)&&x(!1)}return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[y]),L.jsxs("nav",{className:"navbar navbar-dark bg-primary",style:{marginBottom:0,minHeight:"44px",padding:"0.2rem 0"},children:[L.jsxs("div",{className:"container-fluid",style:{padding:"0 0.5rem",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[L.jsxs(cl,{to:"/",className:"navbar-brand mb-0 h1",style:{fontSize:"1.1rem",padding:0,cursor:"pointer",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.5em"},children:[L.jsx("img",{src:"/itemizer-vibe/itemizer-vibe.png",alt:"Itemizer-Vibe Logo",style:{height:"28px",width:"28px",marginRight:"0.3em",borderRadius:"6px"}}),"Itemizer-Vibe"]}),L.jsx("button",{className:"navbar-toggler",type:"button","aria-label":"Toggle navigation",style:{border:"none",background:"transparent",color:"#fff",fontSize:"1.5rem",padding:"0.2rem 0.5rem",display:"flex",alignItems:"center"},onClick:b,children:L.jsx("span",{style:{display:"inline-block",width:24,height:24},children:L.jsxs("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[L.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),L.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),L.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})})]}),y&&L.jsxs("div",{ref:E,style:{position:"absolute",top:"44px",right:"8px",minWidth:"180px",background:"#fff",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.12)",zIndex:1e3,padding:"0.5rem 0",display:"flex",flexDirection:"column",alignItems:"stretch"},children:[L.jsx(cl,{to:"/",className:`nav-link${d.pathname==="/"?" active":""}`,style:{fontSize:"1rem",padding:"0.7rem 1.2rem",color:"#222",textDecoration:"none",borderBottom:"1px solid #eee"},onClick:A,children:"Booking"}),L.jsx(cl,{to:"/lookup",className:`nav-link${d.pathname==="/lookup"?" active":""}`,style:{fontSize:"1rem",padding:"0.7rem 1.2rem",color:"#222",textDecoration:"none",borderBottom:"1px solid #eee"},onClick:A,children:"Product Lookup"}),L.jsx(cl,{to:"/instructions",className:`nav-link${d.pathname==="/instructions"?" active":""}`,style:{fontSize:"1rem",padding:"0.7rem 1.2rem",color:"#222",textDecoration:"none"},onClick:A,children:"Instructions"}),L.jsx("div",{style:{padding:"0.5em 1.2em",borderTop:"1px solid #eee"},children:L.jsx(sx,{})})]})]})}var Te;(function(d){d[d.QR_CODE=0]="QR_CODE",d[d.AZTEC=1]="AZTEC",d[d.CODABAR=2]="CODABAR",d[d.CODE_39=3]="CODE_39",d[d.CODE_93=4]="CODE_93",d[d.CODE_128=5]="CODE_128",d[d.DATA_MATRIX=6]="DATA_MATRIX",d[d.MAXICODE=7]="MAXICODE",d[d.ITF=8]="ITF",d[d.EAN_13=9]="EAN_13",d[d.EAN_8=10]="EAN_8",d[d.PDF_417=11]="PDF_417",d[d.RSS_14=12]="RSS_14",d[d.RSS_EXPANDED=13]="RSS_EXPANDED",d[d.UPC_A=14]="UPC_A",d[d.UPC_E=15]="UPC_E",d[d.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Te||(Te={}));var Sh=new Map([[Te.QR_CODE,"QR_CODE"],[Te.AZTEC,"AZTEC"],[Te.CODABAR,"CODABAR"],[Te.CODE_39,"CODE_39"],[Te.CODE_93,"CODE_93"],[Te.CODE_128,"CODE_128"],[Te.DATA_MATRIX,"DATA_MATRIX"],[Te.MAXICODE,"MAXICODE"],[Te.ITF,"ITF"],[Te.EAN_13,"EAN_13"],[Te.EAN_8,"EAN_8"],[Te.PDF_417,"PDF_417"],[Te.RSS_14,"RSS_14"],[Te.RSS_EXPANDED,"RSS_EXPANDED"],[Te.UPC_A,"UPC_A"],[Te.UPC_E,"UPC_E"],[Te.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),vh;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.URL=1]="URL"})(vh||(vh={}));function ux(d){return Object.values(Te).includes(d)}var zo;(function(d){d[d.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",d[d.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(zo||(zo={}));var cx=(function(){function d(){}return d.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",d.SCAN_DEFAULT_FPS=2,d.DEFAULT_DISABLE_FLIP=!1,d.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,d.DEFAULT_SUPPORTED_SCAN_TYPE=[zo.SCAN_TYPE_CAMERA,zo.SCAN_TYPE_FILE],d})(),ad=(function(){function d(y,x){this.format=y,this.formatName=x}return d.prototype.toString=function(){return this.formatName},d.create=function(y){if(!Sh.has(y))throw"".concat(y," not in html5QrcodeSupportedFormatsTextMap");return new d(y,Sh.get(y))},d})(),Th=(function(){function d(){}return d.createFromText=function(y){var x={text:y};return{decodedText:y,result:x}},d.createFromQrcodeResult=function(y){return{decodedText:y.text,result:y}},d})(),e1;(function(d){d[d.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",d[d.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",d[d.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(e1||(e1={}));var fx=(function(){function d(){}return d.createFrom=function(y){return{errorMessage:y,type:e1.UNKWOWN_ERROR}},d})(),hx=(function(){function d(y){this.verbose=y}return d.prototype.log=function(y){this.verbose&&console.log(y)},d.prototype.warn=function(y){this.verbose&&console.warn(y)},d.prototype.logError=function(y,x){(this.verbose||x===!0)&&console.error(y)},d.prototype.logErrors=function(y){if(y.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(y)},d})();function cr(d){return typeof d>"u"||d===null}var fl=(function(){function d(){}return d.codeParseError=function(y){return"QR code parse error, error = ".concat(y)},d.errorGettingUserMedia=function(y){return"Error getting userMedia, error = ".concat(y)},d.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},d.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},d.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},d.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},d.scannerPaused=function(){return"Scanner paused"},d})(),ld=(function(){function d(){}return d.isMediaStreamConstraintsValid=function(y,x){if(typeof y!="object"){var E=typeof y;return x.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(E,"."),!0),!1}for(var b=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],A=new Set(b),R=Object.keys(y),k=0,_=R;k<_.length;k++){var p=_[k];if(A.has(p))return x.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},d})(),gs={exports:{}},dx=gs.exports,Nh;function gx(){return Nh||(Nh=1,(function(d,y){(function(x,E){E(y)})(dx,(function(x){function E(S){return S==null}var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,t){S.__proto__=t}||function(S,t){for(var i in t)t.hasOwnProperty(i)&&(S[i]=t[i])};function A(S,t){b(S,t);function i(){this.constructor=S}S.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function R(S,t){var i=Object.setPrototypeOf;i?i(S,t):S.__proto__=t}function k(S,t){t===void 0&&(t=S.constructor);var i=Error.captureStackTrace;i&&i(S,t)}var _=(function(S){A(t,S);function t(i){var r=this.constructor,l=S.call(this,i)||this;return Object.defineProperty(l,"name",{value:r.name,enumerable:!1}),R(l,r.prototype),k(l),l}return t})(Error);class p extends _{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}p.kind="Exception";class D extends p{}D.kind="ArgumentException";class P extends p{}P.kind="IllegalArgumentException";class ne{constructor(t){if(this.binarizer=t,t===null)throw new P("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,i){return this.binarizer.getBlackRow(t,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,i,r,l){const s=this.binarizer.getLuminanceSource().crop(t,i,r,l);return new ne(this.binarizer.createBinarizer(s))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new ne(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new ne(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class ye extends p{static getChecksumInstance(){return new ye}}ye.kind="ChecksumException";class pe{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class de{static arraycopy(t,i,r,l,s){for(;s--;)r[l++]=t[i++]}static currentTimeMillis(){return Date.now()}}class he extends p{}he.kind="IndexOutOfBoundsException";class ce extends he{constructor(t=void 0,i=void 0){super(i),this.index=t,this.message=i}}ce.kind="ArrayIndexOutOfBoundsException";class be{static fill(t,i){for(let r=0,l=t.length;r<l;r++)t[r]=i}static fillWithin(t,i,r,l){be.rangeCheck(t.length,i,r);for(let s=i;s<r;s++)t[s]=l}static rangeCheck(t,i,r){if(i>r)throw new P("fromIndex("+i+") > toIndex("+r+")");if(i<0)throw new ce(i);if(r>t)throw new ce(r)}static asList(...t){return t}static create(t,i,r){return Array.from({length:t}).map(s=>Array.from({length:i}).fill(r))}static createInt32Array(t,i,r){return Array.from({length:t}).map(s=>Int32Array.from({length:i}).fill(r))}static equals(t,i){if(!t||!i||!t.length||!i.length||t.length!==i.length)return!1;for(let r=0,l=t.length;r<l;r++)if(t[r]!==i[r])return!1;return!0}static hashCode(t){if(t===null)return 0;let i=1;for(const r of t)i=31*i+r;return i}static fillUint8Array(t,i){for(let r=0;r!==t.length;r++)t[r]=i}static copyOf(t,i){return t.slice(0,i)}static copyOfUint8Array(t,i){if(t.length<=i){const r=new Uint8Array(i);return r.set(t),r}return t.slice(0,i)}static copyOfRange(t,i,r){const l=r-i,s=new Int32Array(l);return de.arraycopy(t,i,s,0,l),s}static binarySearch(t,i,r){r===void 0&&(r=be.numberComparator);let l=0,s=t.length-1;for(;l<=s;){const u=s+l>>1,c=r(i,t[u]);if(c>0)l=u+1;else if(c<0)s=u-1;else return u}return-l-1}static numberComparator(t,i){return t-i}}class oe{static numberOfTrailingZeros(t){let i;if(t===0)return 32;let r=31;return i=t<<16,i!==0&&(r-=16,t=i),i=t<<8,i!==0&&(r-=8,t=i),i=t<<4,i!==0&&(r-=4,t=i),i=t<<2,i!==0&&(r-=2,t=i),r-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let i=1;return t>>>16||(i+=16,t<<=16),t>>>24||(i+=8,t<<=8),t>>>28||(i+=4,t<<=4),t>>>30||(i+=2,t<<=2),i-=t>>>31,i}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,i){return Math.trunc(t/i)}static parseInt(t,i=void 0){return parseInt(t,i)}}oe.MIN_VALUE_32_BITS=-2147483648,oe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Oe{constructor(t,i){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,i==null?this.bits=Oe.makeArray(t):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const i=Oe.makeArray(t);de.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const i=this.size;if(t>=i)return i;const r=this.bits;let l=Math.floor(t/32),s=r[l];s&=~((1<<(t&31))-1);const u=r.length;for(;s===0;){if(++l===u)return i;s=r[l]}const c=l*32+oe.numberOfTrailingZeros(s);return c>i?i:c}getNextUnset(t){const i=this.size;if(t>=i)return i;const r=this.bits;let l=Math.floor(t/32),s=~r[l];s&=~((1<<(t&31))-1);const u=r.length;for(;s===0;){if(++l===u)return i;s=~r[l]}const c=l*32+oe.numberOfTrailingZeros(s);return c>i?i:c}setBulk(t,i){this.bits[Math.floor(t/32)]=i}setRange(t,i){if(i<t||t<0||i>this.size)throw new P;if(i===t)return;i--;const r=Math.floor(t/32),l=Math.floor(i/32),s=this.bits;for(let u=r;u<=l;u++){const c=u>r?0:t&31,m=(2<<(u<l?31:i&31))-(1<<c);s[u]|=m}}clear(){const t=this.bits.length,i=this.bits;for(let r=0;r<t;r++)i[r]=0}isRange(t,i,r){if(i<t||t<0||i>this.size)throw new P;if(i===t)return!0;i--;const l=Math.floor(t/32),s=Math.floor(i/32),u=this.bits;for(let c=l;c<=s;c++){const h=c>l?0:t&31,w=(2<<(c<s?31:i&31))-(1<<h)&4294967295;if((u[c]&w)!==(r?w:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,i){if(i<0||i>32)throw new P("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let r=i;r>0;r--)this.appendBit((t>>r-1&1)===1)}appendBitArray(t){const i=t.size;this.ensureCapacity(this.size+i);for(let r=0;r<i;r++)this.appendBit(t.get(r))}xor(t){if(this.size!==t.size)throw new P("Sizes don't match");const i=this.bits;for(let r=0,l=i.length;r<l;r++)i[r]^=t.bits[r]}toBytes(t,i,r,l){for(let s=0;s<l;s++){let u=0;for(let c=0;c<8;c++)this.get(t)&&(u|=1<<7-c),t++;i[r+s]=u}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),r=i+1,l=this.bits;for(let s=0;s<r;s++){let u=l[s];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,t[i-s]=u}if(this.size!==r*32){const s=r*32-this.size;let u=t[0]>>>s;for(let c=1;c<r;c++){const h=t[c];u|=h<<32-s,t[c-1]=u,u=h>>>s}t[r-1]=u}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof Oe))return!1;const i=t;return this.size===i.size&&be.equals(this.bits,i.bits)}hashCode(){return 31*this.size+be.hashCode(this.bits)}toString(){let t="";for(let i=0,r=this.size;i<r;i++)(i&7)===0&&(t+=" "),t+=this.get(i)?"X":".";return t}clone(){return new Oe(this.size,this.bits.slice())}}var Ie;(function(S){S[S.OTHER=0]="OTHER",S[S.PURE_BARCODE=1]="PURE_BARCODE",S[S.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",S[S.TRY_HARDER=3]="TRY_HARDER",S[S.CHARACTER_SET=4]="CHARACTER_SET",S[S.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",S[S.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",S[S.ASSUME_GS1=7]="ASSUME_GS1",S[S.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",S[S.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",S[S.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Ie||(Ie={}));var ke=Ie;class le extends p{static getFormatInstance(){return new le}}le.kind="FormatException";var xe;(function(S){S[S.Cp437=0]="Cp437",S[S.ISO8859_1=1]="ISO8859_1",S[S.ISO8859_2=2]="ISO8859_2",S[S.ISO8859_3=3]="ISO8859_3",S[S.ISO8859_4=4]="ISO8859_4",S[S.ISO8859_5=5]="ISO8859_5",S[S.ISO8859_6=6]="ISO8859_6",S[S.ISO8859_7=7]="ISO8859_7",S[S.ISO8859_8=8]="ISO8859_8",S[S.ISO8859_9=9]="ISO8859_9",S[S.ISO8859_10=10]="ISO8859_10",S[S.ISO8859_11=11]="ISO8859_11",S[S.ISO8859_13=12]="ISO8859_13",S[S.ISO8859_14=13]="ISO8859_14",S[S.ISO8859_15=14]="ISO8859_15",S[S.ISO8859_16=15]="ISO8859_16",S[S.SJIS=16]="SJIS",S[S.Cp1250=17]="Cp1250",S[S.Cp1251=18]="Cp1251",S[S.Cp1252=19]="Cp1252",S[S.Cp1256=20]="Cp1256",S[S.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",S[S.UTF8=22]="UTF8",S[S.ASCII=23]="ASCII",S[S.Big5=24]="Big5",S[S.GB18030=25]="GB18030",S[S.EUC_KR=26]="EUC_KR"})(xe||(xe={}));class ${constructor(t,i,r,...l){this.valueIdentifier=t,this.name=r,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=l,$.VALUE_IDENTIFIER_TO_ECI.set(t,this),$.NAME_TO_ECI.set(r,this);const s=this.values;for(let u=0,c=s.length;u!==c;u++){const h=s[u];$.VALUES_TO_ECI.set(h,this)}for(const u of l)$.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new le("incorect value");const i=$.VALUES_TO_ECI.get(t);if(i===void 0)throw new le("incorect value");return i}static getCharacterSetECIByName(t){const i=$.NAME_TO_ECI.get(t);if(i===void 0)throw new le("incorect value");return i}equals(t){if(!(t instanceof $))return!1;const i=t;return this.getName()===i.getName()}}$.VALUE_IDENTIFIER_TO_ECI=new Map,$.VALUES_TO_ECI=new Map,$.NAME_TO_ECI=new Map,$.Cp437=new $(xe.Cp437,Int32Array.from([0,2]),"Cp437"),$.ISO8859_1=new $(xe.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),$.ISO8859_2=new $(xe.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),$.ISO8859_3=new $(xe.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),$.ISO8859_4=new $(xe.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),$.ISO8859_5=new $(xe.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),$.ISO8859_6=new $(xe.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),$.ISO8859_7=new $(xe.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),$.ISO8859_8=new $(xe.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),$.ISO8859_9=new $(xe.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),$.ISO8859_10=new $(xe.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),$.ISO8859_11=new $(xe.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),$.ISO8859_13=new $(xe.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),$.ISO8859_14=new $(xe.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),$.ISO8859_15=new $(xe.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),$.ISO8859_16=new $(xe.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),$.SJIS=new $(xe.SJIS,20,"SJIS","Shift_JIS"),$.Cp1250=new $(xe.Cp1250,21,"Cp1250","windows-1250"),$.Cp1251=new $(xe.Cp1251,22,"Cp1251","windows-1251"),$.Cp1252=new $(xe.Cp1252,23,"Cp1252","windows-1252"),$.Cp1256=new $(xe.Cp1256,24,"Cp1256","windows-1256"),$.UnicodeBigUnmarked=new $(xe.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),$.UTF8=new $(xe.UTF8,26,"UTF8","UTF-8"),$.ASCII=new $(xe.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),$.Big5=new $(xe.Big5,28,"Big5"),$.GB18030=new $(xe.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),$.EUC_KR=new $(xe.EUC_KR,30,"EUC_KR","EUC-KR");class Xe extends p{}Xe.kind="UnsupportedOperationException";class je{static decode(t,i){const r=this.encodingName(i);return this.customDecoder?this.customDecoder(t,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(t,r):new TextDecoder(r).decode(t)}static shouldDecodeOnFallback(t){return!je.isBrowser()&&t==="ISO-8859-1"}static encode(t,i){const r=this.encodingName(i);return this.customEncoder?this.customEncoder(t,r):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof $?t:$.getCharacterSetECIByName(t)}static decodeFallback(t,i){const r=this.encodingCharacterSet(i);if(je.isDecodeFallbackSupported(r)){let l="";for(let s=0,u=t.length;s<u;s++){let c=t[s].toString(16);c.length<2&&(c="0"+c),l+="%"+c}return decodeURIComponent(l)}if(r.equals($.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Xe(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals($.UTF8)||t.equals($.ISO8859_1)||t.equals($.ASCII)}static encodeFallback(t){const r=btoa(unescape(encodeURIComponent(t))).split(""),l=[];for(let s=0;s<r.length;s++)l.push(r[s].charCodeAt(0));return new Uint8Array(l)}}class Ce{static castAsNonUtf8Char(t,i=null){const r=i?i.getName():this.ISO88591;return je.decode(new Uint8Array([t]),r)}static guessEncoding(t,i){if(i!=null&&i.get(ke.CHARACTER_SET)!==void 0)return i.get(ke.CHARACTER_SET).toString();const r=t.length;let l=!0,s=!0,u=!0,c=0,h=0,m=0,w=0,v=0,T=0,I=0,B=0,F=0,G=0,Z=0;const fe=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let me=0;me<r&&(l||s||u);me++){const ue=t[me]&255;u&&(c>0?(ue&128)===0?u=!1:c--:(ue&128)!==0&&((ue&64)===0?u=!1:(c++,(ue&32)===0?h++:(c++,(ue&16)===0?m++:(c++,(ue&8)===0?w++:u=!1))))),l&&(ue>127&&ue<160?l=!1:ue>159&&(ue<192||ue===215||ue===247)&&Z++),s&&(v>0?ue<64||ue===127||ue>252?s=!1:v--:ue===128||ue===160||ue>239?s=!1:ue>160&&ue<224?(T++,B=0,I++,I>F&&(F=I)):ue>127?(v++,I=0,B++,B>G&&(G=B)):(I=0,B=0))}return u&&c>0&&(u=!1),s&&v>0&&(s=!1),u&&(fe||h+m+w>0)?Ce.UTF8:s&&(Ce.ASSUME_SHIFT_JIS||F>=3||G>=3)?Ce.SHIFT_JIS:l&&s?F===2&&T===2||Z*10>=r?Ce.SHIFT_JIS:Ce.ISO88591:l?Ce.ISO88591:s?Ce.SHIFT_JIS:u?Ce.UTF8:Ce.PLATFORM_DEFAULT_ENCODING}static format(t,...i){let r=-1;function l(u,c,h,m,w,v){if(u==="%%")return"%";if(i[++r]===void 0)return;u=m?parseInt(m.substr(1)):void 0;let T=w?parseInt(w.substr(1)):void 0,I;switch(v){case"s":I=i[r];break;case"c":I=i[r][0];break;case"f":I=parseFloat(i[r]).toFixed(u);break;case"p":I=parseFloat(i[r]).toPrecision(u);break;case"e":I=parseFloat(i[r]).toExponential(u);break;case"x":I=parseInt(i[r]).toString(T||16);break;case"d":I=parseFloat(parseInt(i[r],T||10).toPrecision(u)).toFixed(0);break}I=typeof I=="object"?JSON.stringify(I):(+I).toString(T);let B=parseInt(h),F=h&&h[0]+""=="0"?"0":" ";for(;I.length<B;)I=c!==void 0?I+F:F+I;return I}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,l)}static getBytes(t,i){return je.encode(t,i)}static getCharCode(t,i=0){return t.charCodeAt(i)}static getCharAt(t){return String.fromCharCode(t)}}Ce.SHIFT_JIS=$.SJIS.getName(),Ce.GB2312="GB2312",Ce.ISO88591=$.ISO8859_1.getName(),Ce.EUC_JP="EUC_JP",Ce.UTF8=$.UTF8.getName(),Ce.PLATFORM_DEFAULT_ENCODING=Ce.UTF8,Ce.ASSUME_SHIFT_JIS=!1;class Ze{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=Ce.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,i,r){for(let l=i;i<i+r;l++)this.append(t[l]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+1)}substring(t,i){return this.value.substring(t,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+i.length)}}class ut{constructor(t,i,r,l){if(this.width=t,this.height=i,this.rowSize=r,this.bits=l,i==null&&(i=t),this.height=i,t<1||i<1)throw new P("Both dimensions must be greater than 0");r==null&&(r=Math.floor((t+31)/32)),this.rowSize=r,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const i=t.length,r=t[0].length,l=new ut(r,i);for(let s=0;s<i;s++){const u=t[s];for(let c=0;c<r;c++)u[c]&&l.set(c,s)}return l}static parseFromString(t,i,r){if(t===null)throw new P("stringRepresentation cannot be null");const l=new Array(t.length);let s=0,u=0,c=-1,h=0,m=0;for(;m<t.length;)if(t.charAt(m)===`
`||t.charAt(m)==="\r"){if(s>u){if(c===-1)c=s-u;else if(s-u!==c)throw new P("row lengths do not match");u=s,h++}m++}else if(t.substring(m,m+i.length)===i)m+=i.length,l[s]=!0,s++;else if(t.substring(m,m+r.length)===r)m+=r.length,l[s]=!1,s++;else throw new P("illegal character encountered: "+t.substring(m));if(s>u){if(c===-1)c=s-u;else if(s-u!==c)throw new P("row lengths do not match");h++}const w=new ut(c,h);for(let v=0;v<s;v++)l[v]&&w.set(Math.floor(v%c),Math.floor(v/c));return w}get(t,i){const r=i*this.rowSize+Math.floor(t/32);return(this.bits[r]>>>(t&31)&1)!==0}set(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]|=1<<(t&31)&4294967295}unset(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]&=~(1<<(t&31)&4294967295)}flip(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new P("input matrix dimensions do not match");const i=new Oe(Math.floor(this.width/32)+1),r=this.rowSize,l=this.bits;for(let s=0,u=this.height;s<u;s++){const c=s*r,h=t.getRow(s,i).getBitArray();for(let m=0;m<r;m++)l[c+m]^=h[m]}}clear(){const t=this.bits,i=t.length;for(let r=0;r<i;r++)t[r]=0}setRegion(t,i,r,l){if(i<0||t<0)throw new P("Left and top must be nonnegative");if(l<1||r<1)throw new P("Height and width must be at least 1");const s=t+r,u=i+l;if(u>this.height||s>this.width)throw new P("The region must fit inside the matrix");const c=this.rowSize,h=this.bits;for(let m=i;m<u;m++){const w=m*c;for(let v=t;v<s;v++)h[w+Math.floor(v/32)]|=1<<(v&31)&4294967295}}getRow(t,i){i==null||i.getSize()<this.width?i=new Oe(this.width):i.clear();const r=this.rowSize,l=this.bits,s=t*r;for(let u=0;u<r;u++)i.setBulk(u*32,l[s+u]);return i}setRow(t,i){de.arraycopy(i.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),i=this.getHeight();let r=new Oe(t),l=new Oe(t);for(let s=0,u=Math.floor((i+1)/2);s<u;s++)r=this.getRow(s,r),l=this.getRow(i-1-s,l),r.reverse(),l.reverse(),this.setRow(s,l),this.setRow(i-1-s,r)}getEnclosingRectangle(){const t=this.width,i=this.height,r=this.rowSize,l=this.bits;let s=t,u=i,c=-1,h=-1;for(let m=0;m<i;m++)for(let w=0;w<r;w++){const v=l[m*r+w];if(v!==0){if(m<u&&(u=m),m>h&&(h=m),w*32<s){let T=0;for(;(v<<31-T&4294967295)===0;)T++;w*32+T<s&&(s=w*32+T)}if(w*32+31>c){let T=31;for(;!(v>>>T);)T--;w*32+T>c&&(c=w*32+T)}}}return c<s||h<u?null:Int32Array.from([s,u,c-s+1,h-u+1])}getTopLeftOnBit(){const t=this.rowSize,i=this.bits;let r=0;for(;r<i.length&&i[r]===0;)r++;if(r===i.length)return null;const l=r/t;let s=r%t*32;const u=i[r];let c=0;for(;(u<<31-c&4294967295)===0;)c++;return s+=c,Int32Array.from([s,l])}getBottomRightOnBit(){const t=this.rowSize,i=this.bits;let r=i.length-1;for(;r>=0&&i[r]===0;)r--;if(r<0)return null;const l=Math.floor(r/t);let s=Math.floor(r%t)*32;const u=i[r];let c=31;for(;!(u>>>c);)c--;return s+=c,Int32Array.from([s,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof ut))return!1;const i=t;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&be.equals(this.bits,i.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+be.hashCode(this.bits),t}toString(t="X ",i="  ",r=`
`){return this.buildToString(t,i,r)}buildToString(t,i,r){let l=new Ze;for(let s=0,u=this.height;s<u;s++){for(let c=0,h=this.width;c<h;c++)l.append(this.get(c,s)?t:i);l.append(r)}return l.toString()}clone(){return new ut(this.width,this.height,this.rowSize,this.bits.slice())}}class q extends p{static getNotFoundInstance(){return new q}}q.kind="NotFoundException";class Q extends pe{constructor(t){super(t),this.luminances=Q.EMPTY,this.buckets=new Int32Array(Q.LUMINANCE_BUCKETS)}getBlackRow(t,i){const r=this.getLuminanceSource(),l=r.getWidth();i==null||i.getSize()<l?i=new Oe(l):i.clear(),this.initArrays(l);const s=r.getRow(t,this.luminances),u=this.buckets;for(let h=0;h<l;h++)u[(s[h]&255)>>Q.LUMINANCE_SHIFT]++;const c=Q.estimateBlackPoint(u);if(l<3)for(let h=0;h<l;h++)(s[h]&255)<c&&i.set(h);else{let h=s[0]&255,m=s[1]&255;for(let w=1;w<l-1;w++){const v=s[w+1]&255;(m*4-h-v)/2<c&&i.set(w),h=m,m=v}}return i}getBlackMatrix(){const t=this.getLuminanceSource(),i=t.getWidth(),r=t.getHeight(),l=new ut(i,r);this.initArrays(i);const s=this.buckets;for(let h=1;h<5;h++){const m=Math.floor(r*h/5),w=t.getRow(m,this.luminances),v=Math.floor(i*4/5);for(let T=Math.floor(i/5);T<v;T++){const I=w[T]&255;s[I>>Q.LUMINANCE_SHIFT]++}}const u=Q.estimateBlackPoint(s),c=t.getMatrix();for(let h=0;h<r;h++){const m=h*i;for(let w=0;w<i;w++)(c[m+w]&255)<u&&l.set(w,h)}return l}createBinarizer(t){return new Q(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const i=this.buckets;for(let r=0;r<Q.LUMINANCE_BUCKETS;r++)i[r]=0}static estimateBlackPoint(t){const i=t.length;let r=0,l=0,s=0;for(let w=0;w<i;w++)t[w]>s&&(l=w,s=t[w]),t[w]>r&&(r=t[w]);let u=0,c=0;for(let w=0;w<i;w++){const v=w-l,T=t[w]*v*v;T>c&&(u=w,c=T)}if(l>u){const w=l;l=u,u=w}if(u-l<=i/16)throw new q;let h=u-1,m=-1;for(let w=u-1;w>l;w--){const v=w-l,T=v*v*(u-w)*(r-t[w]);T>m&&(h=w,m=T)}return h<<Q.LUMINANCE_SHIFT}}Q.LUMINANCE_BITS=5,Q.LUMINANCE_SHIFT=8-Q.LUMINANCE_BITS,Q.LUMINANCE_BUCKETS=1<<Q.LUMINANCE_BITS,Q.EMPTY=Uint8ClampedArray.from([0]);class ie extends Q{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),i=t.getWidth(),r=t.getHeight();if(i>=ie.MINIMUM_DIMENSION&&r>=ie.MINIMUM_DIMENSION){const l=t.getMatrix();let s=i>>ie.BLOCK_SIZE_POWER;(i&ie.BLOCK_SIZE_MASK)!==0&&s++;let u=r>>ie.BLOCK_SIZE_POWER;(r&ie.BLOCK_SIZE_MASK)!==0&&u++;const c=ie.calculateBlackPoints(l,s,u,i,r),h=new ut(i,r);ie.calculateThresholdForBlock(l,s,u,i,r,c,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new ie(t)}static calculateThresholdForBlock(t,i,r,l,s,u,c){const h=s-ie.BLOCK_SIZE,m=l-ie.BLOCK_SIZE;for(let w=0;w<r;w++){let v=w<<ie.BLOCK_SIZE_POWER;v>h&&(v=h);const T=ie.cap(w,2,r-3);for(let I=0;I<i;I++){let B=I<<ie.BLOCK_SIZE_POWER;B>m&&(B=m);const F=ie.cap(I,2,i-3);let G=0;for(let fe=-2;fe<=2;fe++){const me=u[T+fe];G+=me[F-2]+me[F-1]+me[F]+me[F+1]+me[F+2]}const Z=G/25;ie.thresholdBlock(t,B,v,Z,l,c)}}}static cap(t,i,r){return t<i?i:t>r?r:t}static thresholdBlock(t,i,r,l,s,u){for(let c=0,h=r*s+i;c<ie.BLOCK_SIZE;c++,h+=s)for(let m=0;m<ie.BLOCK_SIZE;m++)(t[h+m]&255)<=l&&u.set(i+m,r+c)}static calculateBlackPoints(t,i,r,l,s){const u=s-ie.BLOCK_SIZE,c=l-ie.BLOCK_SIZE,h=new Array(r);for(let m=0;m<r;m++){h[m]=new Int32Array(i);let w=m<<ie.BLOCK_SIZE_POWER;w>u&&(w=u);for(let v=0;v<i;v++){let T=v<<ie.BLOCK_SIZE_POWER;T>c&&(T=c);let I=0,B=255,F=0;for(let Z=0,fe=w*l+T;Z<ie.BLOCK_SIZE;Z++,fe+=l){for(let me=0;me<ie.BLOCK_SIZE;me++){const ue=t[fe+me]&255;I+=ue,ue<B&&(B=ue),ue>F&&(F=ue)}if(F-B>ie.MIN_DYNAMIC_RANGE)for(Z++,fe+=l;Z<ie.BLOCK_SIZE;Z++,fe+=l)for(let me=0;me<ie.BLOCK_SIZE;me++)I+=t[fe+me]&255}let G=I>>ie.BLOCK_SIZE_POWER*2;if(F-B<=ie.MIN_DYNAMIC_RANGE&&(G=B/2,m>0&&v>0)){const Z=(h[m-1][v]+2*h[m][v-1]+h[m-1][v-1])/4;B<Z&&(G=Z)}h[m][v]=G}}return h}}ie.BLOCK_SIZE_POWER=3,ie.BLOCK_SIZE=1<<ie.BLOCK_SIZE_POWER,ie.BLOCK_SIZE_MASK=ie.BLOCK_SIZE-1,ie.MINIMUM_DIMENSION=ie.BLOCK_SIZE*5,ie.MIN_DYNAMIC_RANGE=24;class Be{constructor(t,i){this.width=t,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,i,r,l){throw new Xe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Xe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Xe("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let i=new Ze;for(let r=0;r<this.height;r++){const l=this.getRow(r,t);for(let s=0;s<this.width;s++){const u=l[s]&255;let c;u<64?c="#":u<128?c="+":u<192?c=".":c=" ",i.append(c)}i.append(`
`)}return i.toString()}}class nt extends Be{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,i){const r=this.delegate.getRow(t,i),l=this.getWidth();for(let s=0;s<l;s++)r[s]=255-(r[s]&255);return r}getMatrix(){const t=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(i);for(let l=0;l<i;l++)r[l]=255-(t[l]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(t,i,r,l){return new nt(this.delegate.crop(t,i,r,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new nt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new nt(this.delegate.rotateCounterClockwise45())}}class U extends Be{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=U.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const i=t.getContext("2d").getImageData(0,0,t.width,t.height);return U.toGrayscaleBuffer(i.data,t.width,t.height)}static toGrayscaleBuffer(t,i,r){const l=new Uint8ClampedArray(i*r);for(let s=0,u=0,c=t.length;s<c;s+=4,u++){let h;if(t[s+3]===0)h=255;else{const w=t[s],v=t[s+1],T=t[s+2];h=306*w+601*v+117*T+512>>10}l[u]=h}return l}getRow(t,i){if(t<0||t>=this.getHeight())throw new P("Requested row is outside the image: "+t);const r=this.getWidth(),l=t*r;return i===null?i=this.buffer.slice(l,l+r):(i.length<r&&(i=new Uint8ClampedArray(r)),i.set(this.buffer.slice(l,l+r))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,i,r,l){return super.crop(t,i,r,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const i=this.getTempCanvasElement(),r=i.getContext("2d"),l=t*U.DEGREE_TO_RADIANS,s=this.canvas.width,u=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(l))*s+Math.abs(Math.sin(l))*u),h=Math.ceil(Math.abs(Math.sin(l))*s+Math.abs(Math.cos(l))*u);return i.width=c,i.height=h,r.translate(c/2,h/2),r.rotate(l),r.drawImage(this.canvas,s/-2,u/-2),this.buffer=U.makeBufferFromCanvasImageData(i),this}invert(){return new nt(this)}}U.DEGREE_TO_RADIANS=Math.PI/180;class se{constructor(t,i,r){this.deviceId=t,this.label=i,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var we=(globalThis||Bo||self||window||void 0)&&(globalThis||Bo||self||window||void 0).__awaiter||function(S,t,i,r){function l(s){return s instanceof i?s:new i(function(u){u(s)})}return new(i||(i=Promise))(function(s,u){function c(w){try{m(r.next(w))}catch(v){u(v)}}function h(w){try{m(r.throw(w))}catch(v){u(v)}}function m(w){w.done?s(w.value):l(w.value).then(c,h)}m((r=r.apply(S,t||[])).next())})};class Ae{constructor(t,i=500,r){this.reader=t,this.timeBetweenScansMillis=i,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return we(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const r of t){const l=r.kind==="video"?"videoinput":r.kind;if(l!=="videoinput")continue;const s=r.deviceId||r.id,u=r.label||`Video device ${i.length+1}`,c=r.groupId,h={deviceId:s,label:u,kind:l,groupId:c};i.push(h)}return i})}getVideoInputDevices(){return we(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new se(i.deviceId,i.label))})}findDeviceById(t){return we(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(r=>r.deviceId===t):null})}decodeFromInputVideoDevice(t,i){return we(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,i)})}decodeOnceFromVideoDevice(t,i){return we(this,void 0,void 0,function*(){this.reset();let r;t?r={deviceId:{exact:t}}:r={facingMode:"environment"};const l={video:r};return yield this.decodeOnceFromConstraints(l,i)})}decodeOnceFromConstraints(t,i){return we(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(r,i)})}decodeOnceFromStream(t,i){return we(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(t,i);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(t,i,r){return we(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,i,r)})}decodeFromVideoDevice(t,i,r){return we(this,void 0,void 0,function*(){let l;t?l={deviceId:{exact:t}}:l={facingMode:"environment"};const s={video:l};return yield this.decodeFromConstraints(s,i,r)})}decodeFromConstraints(t,i,r){return we(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(l,i,r)})}decodeFromStream(t,i,r){return we(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(t,i);return yield this.decodeContinuously(l,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,i){return we(this,void 0,void 0,function*(){const r=this.prepareVideoElement(i);return this.addVideoSource(r,t),this.videoElement=r,this.stream=t,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(t){return new Promise((i,r)=>this.playVideoOnLoad(t,()=>i()))}playVideoOnLoad(t,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",i),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return we(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,i){const r=document.getElementById(t);if(!r)throw new D(`element with id '${t}' not found`);if(r.nodeName.toLowerCase()!==i.toLowerCase())throw new D(`element with id '${t}' must be an ${i} element`);return r}decodeFromImage(t,i){if(!t&&!i)throw new D("either imageElement with a src set or an url must be provided");return i&&!t?this.decodeFromImageUrl(i):this.decodeFromImageElement(t)}decodeFromVideo(t,i){if(!t&&!i)throw new D("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,i,r){if(t===void 0&&i===void 0)throw new D("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrlContinuously(i,r):this.decodeFromVideoElementContinuously(t,r)}decodeFromImageElement(t){if(!t)throw new D("An image element must be provided.");this.reset();const i=this.prepareImageElement(t);this.imageElement=i;let r;return this.isImageLoaded(i)?r=this.decodeOnce(i,!1,!0):r=this._decodeOnLoadImage(i),r}decodeFromVideoElement(t){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(t,i){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(r,i)}_decodeFromVideoElementSetup(t){if(!t)throw new D("A video element must be provided.");this.reset();const i=this.prepareVideoElement(t);return this.videoElement=i,i}decodeFromImageUrl(t){if(!t)throw new D("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const r=this._decodeOnLoadImage(i);return i.src=t,r}decodeFromVideoUrl(t){if(!t)throw new D("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),r=this.decodeFromVideoElement(i);return i.src=t,r}decodeFromVideoUrlContinuously(t,i){if(!t)throw new D("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(r,i);return r.src=t,l}_decodeOnLoadImage(t){return new Promise((i,r)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(i,r),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return we(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,i){return we(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,i)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let i;return typeof t>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(i=t),i}prepareVideoElement(t){let i;return!t&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(i=t),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(t,i=!0,r=!0){this._stopAsyncDecode=!1;const l=(s,u)=>{if(this._stopAsyncDecode){u(new q("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const c=this.decode(t);s(c)}catch(c){const h=i&&c instanceof q,w=(c instanceof ye||c instanceof le)&&r;if(h||w)return setTimeout(l,this._timeBetweenDecodingAttempts,s,u);u(c)}};return new Promise((s,u)=>l(s,u))}decodeContinuously(t,i){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(t);i(l,null),setTimeout(r,this.timeBetweenScansMillis)}catch(l){i(null,l);const s=l instanceof ye||l instanceof le,u=l instanceof q;(s||u)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(t){const i=this.createBinaryBitmap(t);return this.decodeBitmap(i)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,i,r){i||(i={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(t,i,r=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const i=this.getCaptureCanvas(t),r=new U(i),l=new ie(r);return new ne(l)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const i=this.createCaptureCanvas(t);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let r,l;return typeof t<"u"&&(t instanceof HTMLVideoElement?(r=t.videoWidth,l=t.videoHeight):t instanceof HTMLImageElement&&(r=t.naturalWidth||t.width,l=t.naturalHeight||t.height)),i.style.width=r+"px",i.style.height=l+"px",i.width=r,i.height=l,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,i){try{t.srcObject=i}catch{t.src=URL.createObjectURL(i)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class ve{constructor(t,i,r=i==null?0:8*i.length,l,s,u=de.currentTimeMillis()){this.text=t,this.rawBytes=i,this.numBits=r,this.resultPoints=l,this.format=s,this.timestamp=u,this.text=t,this.rawBytes=i,r==null?this.numBits=i==null?0:8*i.length:this.numBits=r,this.resultPoints=l,this.format=s,this.resultMetadata=null,u==null?this.timestamp=de.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,i)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const i=this.resultPoints;if(i===null)this.resultPoints=t;else if(t!==null&&t.length>0){const r=new Array(i.length+t.length);de.arraycopy(i,0,r,0,i.length),de.arraycopy(t,0,r,i.length,t.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var it;(function(S){S[S.AZTEC=0]="AZTEC",S[S.CODABAR=1]="CODABAR",S[S.CODE_39=2]="CODE_39",S[S.CODE_93=3]="CODE_93",S[S.CODE_128=4]="CODE_128",S[S.DATA_MATRIX=5]="DATA_MATRIX",S[S.EAN_8=6]="EAN_8",S[S.EAN_13=7]="EAN_13",S[S.ITF=8]="ITF",S[S.MAXICODE=9]="MAXICODE",S[S.PDF_417=10]="PDF_417",S[S.QR_CODE=11]="QR_CODE",S[S.RSS_14=12]="RSS_14",S[S.RSS_EXPANDED=13]="RSS_EXPANDED",S[S.UPC_A=14]="UPC_A",S[S.UPC_E=15]="UPC_E",S[S.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(it||(it={}));var ge=it,pn;(function(S){S[S.OTHER=0]="OTHER",S[S.ORIENTATION=1]="ORIENTATION",S[S.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",S[S.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",S[S.ISSUE_NUMBER=4]="ISSUE_NUMBER",S[S.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",S[S.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",S[S.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",S[S.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",S[S.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",S[S.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(pn||(pn={}));var Ye=pn;class Pn{constructor(t,i,r,l,s=-1,u=-1){this.rawBytes=t,this.text=i,this.byteSegments=r,this.ecLevel=l,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=u,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Vi{exp(t){return this.expTable[t]}log(t){if(t===0)throw new P;return this.logTable[t]}static addOrSubtract(t,i){return t^i}}class ln{constructor(t,i){if(i.length===0)throw new P;this.field=t;const r=i.length;if(r>1&&i[0]===0){let l=1;for(;l<r&&i[l]===0;)l++;l===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-l),de.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const i=this.coefficients;let r;if(t===1){r=0;for(let u=0,c=i.length;u!==c;u++){const h=i[u];r=Vi.addOrSubtract(r,h)}return r}r=i[0];const l=i.length,s=this.field;for(let u=1;u<l;u++)r=Vi.addOrSubtract(s.multiply(t,r),i[u]);return r}addOrSubtract(t){if(!this.field.equals(t.field))throw new P("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,r=t.coefficients;if(i.length>r.length){const u=i;i=r,r=u}let l=new Int32Array(r.length);const s=r.length-i.length;de.arraycopy(r,0,l,0,s);for(let u=s;u<r.length;u++)l[u]=Vi.addOrSubtract(i[u-s],r[u]);return new ln(this.field,l)}multiply(t){if(!this.field.equals(t.field))throw new P("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const i=this.coefficients,r=i.length,l=t.coefficients,s=l.length,u=new Int32Array(r+s-1),c=this.field;for(let h=0;h<r;h++){const m=i[h];for(let w=0;w<s;w++)u[h+w]=Vi.addOrSubtract(u[h+w],c.multiply(m,l[w]))}return new ln(c,u)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const i=this.coefficients.length,r=this.field,l=new Int32Array(i),s=this.coefficients;for(let u=0;u<i;u++)l[u]=r.multiply(s[u],t);return new ln(r,l)}multiplyByMonomial(t,i){if(t<0)throw new P;if(i===0)return this.field.getZero();const r=this.coefficients,l=r.length,s=new Int32Array(l+t),u=this.field;for(let c=0;c<l;c++)s[c]=u.multiply(r[c],i);return new ln(u,s)}divide(t){if(!this.field.equals(t.field))throw new P("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new P("Divide by 0");const i=this.field;let r=i.getZero(),l=this;const s=t.getCoefficient(t.getDegree()),u=i.inverse(s);for(;l.getDegree()>=t.getDegree()&&!l.isZero();){const c=l.getDegree()-t.getDegree(),h=i.multiply(l.getCoefficient(l.getDegree()),u),m=t.multiplyByMonomial(c,h),w=i.buildMonomial(c,h);r=r.addOrSubtract(w),l=l.addOrSubtract(m)}return[r,l]}toString(){let t="";for(let i=this.getDegree();i>=0;i--){let r=this.getCoefficient(i);if(r!==0){if(r<0?(t+=" - ",r=-r):t.length>0&&(t+=" + "),i===0||r!==1){const l=this.field.log(r);l===0?t+="1":l===1?t+="a":(t+="a^",t+=l)}i!==0&&(i===1?t+="x":(t+="x^",t+=i))}}return t}}class gr extends p{}gr.kind="ArithmeticException";class lt extends Vi{constructor(t,i,r){super(),this.primitive=t,this.size=i,this.generatorBase=r;const l=new Int32Array(i);let s=1;for(let c=0;c<i;c++)l[c]=s,s*=2,s>=i&&(s^=t,s&=i-1);this.expTable=l;const u=new Int32Array(i);for(let c=0;c<i-1;c++)u[l[c]]=c;this.logTable=u,this.zero=new ln(this,Int32Array.from([0])),this.one=new ln(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new P;if(i===0)return this.zero;const r=new Int32Array(t+1);return r[0]=i,new ln(this,r)}inverse(t){if(t===0)throw new gr;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+oe.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}lt.AZTEC_DATA_12=new lt(4201,4096,1),lt.AZTEC_DATA_10=new lt(1033,1024,1),lt.AZTEC_DATA_6=new lt(67,64,1),lt.AZTEC_PARAM=new lt(19,16,1),lt.QR_CODE_FIELD_256=new lt(285,256,0),lt.DATA_MATRIX_FIELD_256=new lt(301,256,1),lt.AZTEC_DATA_8=lt.DATA_MATRIX_FIELD_256,lt.MAXICODE_FIELD_64=lt.AZTEC_DATA_6;class bi extends p{}bi.kind="ReedSolomonException";class ri extends p{}ri.kind="IllegalStateException";class qr{constructor(t){this.field=t}decode(t,i){const r=this.field,l=new ln(r,t),s=new Int32Array(i);let u=!0;for(let I=0;I<i;I++){const B=l.evaluateAt(r.exp(I+r.getGeneratorBase()));s[s.length-1-I]=B,B!==0&&(u=!1)}if(u)return;const c=new ln(r,s),h=this.runEuclideanAlgorithm(r.buildMonomial(i,1),c,i),m=h[0],w=h[1],v=this.findErrorLocations(m),T=this.findErrorMagnitudes(w,v);for(let I=0;I<v.length;I++){const B=t.length-1-r.log(v[I]);if(B<0)throw new bi("Bad error location");t[B]=lt.addOrSubtract(t[B],T[I])}}runEuclideanAlgorithm(t,i,r){if(t.getDegree()<i.getDegree()){const I=t;t=i,i=I}const l=this.field;let s=t,u=i,c=l.getZero(),h=l.getOne();for(;u.getDegree()>=(r/2|0);){let I=s,B=c;if(s=u,c=h,s.isZero())throw new bi("r_{i-1} was zero");u=I;let F=l.getZero();const G=s.getCoefficient(s.getDegree()),Z=l.inverse(G);for(;u.getDegree()>=s.getDegree()&&!u.isZero();){const fe=u.getDegree()-s.getDegree(),me=l.multiply(u.getCoefficient(u.getDegree()),Z);F=F.addOrSubtract(l.buildMonomial(fe,me)),u=u.addOrSubtract(s.multiplyByMonomial(fe,me))}if(h=F.multiply(c).addOrSubtract(B),u.getDegree()>=s.getDegree())throw new ri("Division algorithm failed to reduce polynomial?")}const m=h.getCoefficient(0);if(m===0)throw new bi("sigmaTilde(0) was zero");const w=l.inverse(m),v=h.multiplyScalar(w),T=u.multiplyScalar(w);return[v,T]}findErrorLocations(t){const i=t.getDegree();if(i===1)return Int32Array.from([t.getCoefficient(1)]);const r=new Int32Array(i);let l=0;const s=this.field;for(let u=1;u<s.getSize()&&l<i;u++)t.evaluateAt(u)===0&&(r[l]=s.inverse(u),l++);if(l!==i)throw new bi("Error locator degree does not match number of roots");return r}findErrorMagnitudes(t,i){const r=i.length,l=new Int32Array(r),s=this.field;for(let u=0;u<r;u++){const c=s.inverse(i[u]);let h=1;for(let m=0;m<r;m++)if(u!==m){const w=s.multiply(i[m],c),v=(w&1)===0?w|1:w&-2;h=s.multiply(h,v)}l[u]=s.multiply(t.evaluateAt(c),s.inverse(h)),s.getGeneratorBase()!==0&&(l[u]=s.multiply(l[u],c))}return l}}var Ct;(function(S){S[S.UPPER=0]="UPPER",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.DIGIT=3]="DIGIT",S[S.PUNCT=4]="PUNCT",S[S.BINARY=5]="BINARY"})(Ct||(Ct={}));class St{decode(t){this.ddata=t;let i=t.getBits(),r=this.extractBits(i),l=this.correctBits(r),s=St.convertBoolArrayToByteArray(l),u=St.getEncodedData(l),c=new Pn(s,u,null,null);return c.setNumBits(l.length),c}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let i=t.length,r=Ct.UPPER,l=Ct.UPPER,s="",u=0;for(;u<i;)if(l===Ct.BINARY){if(i-u<5)break;let c=St.readCode(t,u,5);if(u+=5,c===0){if(i-u<11)break;c=St.readCode(t,u,11)+31,u+=11}for(let h=0;h<c;h++){if(i-u<8){u=i;break}const m=St.readCode(t,u,8);s+=Ce.castAsNonUtf8Char(m),u+=8}l=r}else{let c=l===Ct.DIGIT?4:5;if(i-u<c)break;let h=St.readCode(t,u,c);u+=c;let m=St.getCharacter(l,h);m.startsWith("CTRL_")?(r=l,l=St.getTable(m.charAt(5)),m.charAt(6)==="L"&&(r=l)):(s+=m,l=r)}return s}static getTable(t){switch(t){case"L":return Ct.LOWER;case"P":return Ct.PUNCT;case"M":return Ct.MIXED;case"D":return Ct.DIGIT;case"B":return Ct.BINARY;case"U":default:return Ct.UPPER}}static getCharacter(t,i){switch(t){case Ct.UPPER:return St.UPPER_TABLE[i];case Ct.LOWER:return St.LOWER_TABLE[i];case Ct.MIXED:return St.MIXED_TABLE[i];case Ct.PUNCT:return St.PUNCT_TABLE[i];case Ct.DIGIT:return St.DIGIT_TABLE[i];default:throw new ri("Bad table")}}correctBits(t){let i,r;this.ddata.getNbLayers()<=2?(r=6,i=lt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,i=lt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,i=lt.AZTEC_DATA_10):(r=12,i=lt.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),s=t.length/r;if(s<l)throw new le;let u=t.length%r,c=new Int32Array(s);for(let T=0;T<s;T++,u+=r)c[T]=St.readCode(t,u,r);try{new qr(i).decode(c,s-l)}catch(T){throw new le(T)}let h=(1<<r)-1,m=0;for(let T=0;T<l;T++){let I=c[T];if(I===0||I===h)throw new le;(I===1||I===h-1)&&m++}let w=new Array(l*r-m),v=0;for(let T=0;T<l;T++){let I=c[T];if(I===1||I===h-1)w.fill(I>1,v,v+r-1),v+=r-1;else for(let B=r-1;B>=0;--B)w[v++]=(I&1<<B)!==0}return w}extractBits(t){let i=this.ddata.isCompact(),r=this.ddata.getNbLayers(),l=(i?11:14)+r*4,s=new Int32Array(l),u=new Array(this.totalBitsInLayer(r,i));if(i)for(let c=0;c<s.length;c++)s[c]=c;else{let c=l+1+2*oe.truncDivision(oe.truncDivision(l,2)-1,15),h=l/2,m=oe.truncDivision(c,2);for(let w=0;w<h;w++){let v=w+oe.truncDivision(w,15);s[h-w-1]=m-v-1,s[h+w]=m+v+1}}for(let c=0,h=0;c<r;c++){let m=(r-c)*4+(i?9:12),w=c*2,v=l-1-w;for(let T=0;T<m;T++){let I=T*2;for(let B=0;B<2;B++)u[h+I+B]=t.get(s[w+B],s[w+T]),u[h+2*m+I+B]=t.get(s[w+T],s[v-B]),u[h+4*m+I+B]=t.get(s[v-B],s[v-T]),u[h+6*m+I+B]=t.get(s[v-T],s[w+B])}h+=m*8}return u}static readCode(t,i,r){let l=0;for(let s=i;s<i+r;s++)l<<=1,t[s]&&(l|=1);return l}static readByte(t,i){let r=t.length-i;return r>=8?St.readCode(t,i,8):St.readCode(t,i,r)<<8-r}static convertBoolArrayToByteArray(t){let i=new Uint8Array((t.length+7)/8);for(let r=0;r<i.length;r++)i[r]=St.readByte(t,8*r);return i}totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}St.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],St.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],St.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],St.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],St.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class rt{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,i,r,l){const s=t-r,u=i-l;return Math.sqrt(s*s+u*u)}static sum(t){let i=0;for(let r=0,l=t.length;r!==l;r++){const s=t[r];i+=s}return i}}class Wr{static floatToIntBits(t){return t}}Wr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ne{constructor(t,i){this.x=t,this.y=i}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Ne){const i=t;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Wr.floatToIntBits(this.x)+Wr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const i=this.distance(t[0],t[1]),r=this.distance(t[1],t[2]),l=this.distance(t[0],t[2]);let s,u,c;if(r>=i&&r>=l?(u=t[0],s=t[1],c=t[2]):l>=r&&l>=i?(u=t[1],s=t[0],c=t[2]):(u=t[2],s=t[0],c=t[1]),this.crossProductZ(s,u,c)<0){const h=s;s=c,c=h}t[0]=s,t[1]=u,t[2]=c}static distance(t,i){return rt.distance(t.x,t.y,i.x,i.y)}static crossProductZ(t,i,r){const l=i.x,s=i.y;return(r.x-l)*(t.y-s)-(r.y-s)*(t.x-l)}}class ba{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class xl extends ba{constructor(t,i,r,l,s){super(t,i),this.compact=r,this.nbDatablocks=l,this.nbLayers=s}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class gi{constructor(t,i,r,l){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),i==null&&(i=gi.INIT_SIZE),r==null&&(r=t.getWidth()/2|0),l==null&&(l=t.getHeight()/2|0);const s=i/2|0;if(this.leftInit=r-s,this.rightInit=r+s,this.upInit=l-s,this.downInit=l+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new q}detect(){let t=this.leftInit,i=this.rightInit,r=this.upInit,l=this.downInit,s=!1,u=!0,c=!1,h=!1,m=!1,w=!1,v=!1;const T=this.width,I=this.height;for(;u;){u=!1;let B=!0;for(;(B||!h)&&i<T;)B=this.containsBlackPoint(r,l,i,!1),B?(i++,u=!0,h=!0):h||i++;if(i>=T){s=!0;break}let F=!0;for(;(F||!m)&&l<I;)F=this.containsBlackPoint(t,i,l,!0),F?(l++,u=!0,m=!0):m||l++;if(l>=I){s=!0;break}let G=!0;for(;(G||!w)&&t>=0;)G=this.containsBlackPoint(r,l,t,!1),G?(t--,u=!0,w=!0):w||t--;if(t<0){s=!0;break}let Z=!0;for(;(Z||!v)&&r>=0;)Z=this.containsBlackPoint(t,i,r,!0),Z?(r--,u=!0,v=!0):v||r--;if(r<0){s=!0;break}u&&(c=!0)}if(!s&&c){const B=i-t;let F=null;for(let me=1;F===null&&me<B;me++)F=this.getBlackPointOnSegment(t,l-me,t+me,l);if(F==null)throw new q;let G=null;for(let me=1;G===null&&me<B;me++)G=this.getBlackPointOnSegment(t,r+me,t+me,r);if(G==null)throw new q;let Z=null;for(let me=1;Z===null&&me<B;me++)Z=this.getBlackPointOnSegment(i,r+me,i-me,r);if(Z==null)throw new q;let fe=null;for(let me=1;fe===null&&me<B;me++)fe=this.getBlackPointOnSegment(i,l-me,i-me,l);if(fe==null)throw new q;return this.centerEdges(fe,F,Z,G)}else throw new q}getBlackPointOnSegment(t,i,r,l){const s=rt.round(rt.distance(t,i,r,l)),u=(r-t)/s,c=(l-i)/s,h=this.image;for(let m=0;m<s;m++){const w=rt.round(t+m*u),v=rt.round(i+m*c);if(h.get(w,v))return new Ne(w,v)}return null}centerEdges(t,i,r,l){const s=t.getX(),u=t.getY(),c=i.getX(),h=i.getY(),m=r.getX(),w=r.getY(),v=l.getX(),T=l.getY(),I=gi.CORR;return s<this.width/2?[new Ne(v-I,T+I),new Ne(c+I,h+I),new Ne(m-I,w-I),new Ne(s+I,u-I)]:[new Ne(v+I,T+I),new Ne(c+I,h-I),new Ne(m-I,w+I),new Ne(s-I,u-I)]}containsBlackPoint(t,i,r,l){const s=this.image;if(l){for(let u=t;u<=i;u++)if(s.get(u,r))return!0}else for(let u=t;u<=i;u++)if(s.get(r,u))return!0;return!1}}gi.INIT_SIZE=10,gi.CORR=1;class ml{static checkAndNudgePoints(t,i){const r=t.getWidth(),l=t.getHeight();let s=!0;for(let u=0;u<i.length&&s;u+=2){const c=Math.floor(i[u]),h=Math.floor(i[u+1]);if(c<-1||c>r||h<-1||h>l)throw new q;s=!1,c===-1?(i[u]=0,s=!0):c===r&&(i[u]=r-1,s=!0),h===-1?(i[u+1]=0,s=!0):h===l&&(i[u+1]=l-1,s=!0)}s=!0;for(let u=i.length-2;u>=0&&s;u-=2){const c=Math.floor(i[u]),h=Math.floor(i[u+1]);if(c<-1||c>r||h<-1||h>l)throw new q;s=!1,c===-1?(i[u]=0,s=!0):c===r&&(i[u]=r-1,s=!0),h===-1?(i[u+1]=0,s=!0):h===l&&(i[u+1]=l-1,s=!0)}}}class bn{constructor(t,i,r,l,s,u,c,h,m){this.a11=t,this.a21=i,this.a31=r,this.a12=l,this.a22=s,this.a32=u,this.a13=c,this.a23=h,this.a33=m}static quadrilateralToQuadrilateral(t,i,r,l,s,u,c,h,m,w,v,T,I,B,F,G){const Z=bn.quadrilateralToSquare(t,i,r,l,s,u,c,h);return bn.squareToQuadrilateral(m,w,v,T,I,B,F,G).times(Z)}transformPoints(t){const i=t.length,r=this.a11,l=this.a12,s=this.a13,u=this.a21,c=this.a22,h=this.a23,m=this.a31,w=this.a32,v=this.a33;for(let T=0;T<i;T+=2){const I=t[T],B=t[T+1],F=s*I+h*B+v;t[T]=(r*I+u*B+m)/F,t[T+1]=(l*I+c*B+w)/F}}transformPointsWithValues(t,i){const r=this.a11,l=this.a12,s=this.a13,u=this.a21,c=this.a22,h=this.a23,m=this.a31,w=this.a32,v=this.a33,T=t.length;for(let I=0;I<T;I++){const B=t[I],F=i[I],G=s*B+h*F+v;t[I]=(r*B+u*F+m)/G,i[I]=(l*B+c*F+w)/G}}static squareToQuadrilateral(t,i,r,l,s,u,c,h){const m=t-r+s-c,w=i-l+u-h;if(m===0&&w===0)return new bn(r-t,s-r,t,l-i,u-l,i,0,0,1);{const v=r-s,T=c-s,I=l-u,B=h-u,F=v*B-T*I,G=(m*B-T*w)/F,Z=(v*w-m*I)/F;return new bn(r-t+G*r,c-t+Z*c,t,l-i+G*l,h-i+Z*h,i,G,Z,1)}}static quadrilateralToSquare(t,i,r,l,s,u,c,h){return bn.squareToQuadrilateral(t,i,r,l,s,u,c,h).buildAdjoint()}buildAdjoint(){return new bn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new bn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Rn extends ml{sampleGrid(t,i,r,l,s,u,c,h,m,w,v,T,I,B,F,G,Z,fe,me){const ue=bn.quadrilateralToQuadrilateral(l,s,u,c,h,m,w,v,T,I,B,F,G,Z,fe,me);return this.sampleGridWithTransform(t,i,r,ue)}sampleGridWithTransform(t,i,r,l){if(i<=0||r<=0)throw new q;const s=new ut(i,r),u=new Float32Array(2*i);for(let c=0;c<r;c++){const h=u.length,m=c+.5;for(let w=0;w<h;w+=2)u[w]=w/2+.5,u[w+1]=m;l.transformPoints(u),ml.checkAndNudgePoints(t,u);try{for(let w=0;w<h;w+=2)t.get(Math.floor(u[w]),Math.floor(u[w+1]))&&s.set(w/2,c)}catch{throw new q}}return s}}class Cn{static setGridSampler(t){Cn.gridSampler=t}static getInstance(){return Cn.gridSampler}}Cn.gridSampler=new Rn;class yt{constructor(t,i){this.x=t,this.y=i}toResultPoint(){return new Ne(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class bs{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let i=this.getMatrixCenter(),r=this.getBullsEyeCorners(i);if(t){let u=r[0];r[0]=r[2],r[2]=u}this.extractParameters(r);let l=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),s=this.getMatrixCornerPoints(r);return new xl(l,s,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new q;let i=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(t[0],t[1],i),this.sampleLine(t[1],t[2],i),this.sampleLine(t[2],t[3],i),this.sampleLine(t[3],t[0],i)]);this.shift=this.getRotation(r,i);let l=0;for(let u=0;u<4;u++){let c=r[(this.shift+u)%4];this.compact?(l<<=7,l+=c>>1&127):(l<<=10,l+=(c>>2&992)+(c>>1&31))}let s=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)}getRotation(t,i){let r=0;t.forEach((l,s,u)=>{let c=(l>>i-2<<1)+(l&1);r=(r<<3)+c}),r=((r&1)<<11)+(r>>1);for(let l=0;l<4;l++)if(oe.bitCount(r^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new q}getCorrectedParameterData(t,i){let r,l;i?(r=7,l=2):(r=10,l=4);let s=r-l,u=new Int32Array(r);for(let h=r-1;h>=0;--h)u[h]=t&15,t>>=4;try{new qr(lt.AZTEC_PARAM).decode(u,s)}catch{throw new q}let c=0;for(let h=0;h<l;h++)c=(c<<4)+u[h];return c}getBullsEyeCorners(t){let i=t,r=t,l=t,s=t,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let v=this.getFirstDifferent(i,u,1,-1),T=this.getFirstDifferent(r,u,1,1),I=this.getFirstDifferent(l,u,-1,1),B=this.getFirstDifferent(s,u,-1,-1);if(this.nbCenterLayers>2){let F=this.distancePoint(B,v)*this.nbCenterLayers/(this.distancePoint(s,i)*(this.nbCenterLayers+2));if(F<.75||F>1.25||!this.isWhiteOrBlackRectangle(v,T,I,B))break}i=v,r=T,l=I,s=B,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new q;this.compact=this.nbCenterLayers===5;let c=new Ne(i.getX()+.5,i.getY()-.5),h=new Ne(r.getX()+.5,r.getY()+.5),m=new Ne(l.getX()-.5,l.getY()+.5),w=new Ne(s.getX()-.5,s.getY()-.5);return this.expandSquare([c,h,m,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,i,r,l;try{let c=new gi(this.image).detect();t=c[0],i=c[1],r=c[2],l=c[3]}catch{let h=this.image.getWidth()/2,m=this.image.getHeight()/2;t=this.getFirstDifferent(new yt(h+7,m-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new yt(h+7,m+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new yt(h-7,m+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new yt(h-7,m-7),!1,-1,-1).toResultPoint()}let s=rt.round((t.getX()+l.getX()+i.getX()+r.getX())/4),u=rt.round((t.getY()+l.getY()+i.getY()+r.getY())/4);try{let c=new gi(this.image,15,s,u).detect();t=c[0],i=c[1],r=c[2],l=c[3]}catch{t=this.getFirstDifferent(new yt(s+7,u-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new yt(s+7,u+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new yt(s-7,u+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new yt(s-7,u-7),!1,-1,-1).toResultPoint()}return s=rt.round((t.getX()+l.getX()+i.getX()+r.getX())/4),u=rt.round((t.getY()+l.getY()+i.getY()+r.getY())/4),new yt(s,u)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,i,r,l,s){let u=Cn.getInstance(),c=this.getDimension(),h=c/2-this.nbCenterLayers,m=c/2+this.nbCenterLayers;return u.sampleGrid(t,c,c,h,h,m,h,m,m,h,m,i.getX(),i.getY(),r.getX(),r.getY(),l.getX(),l.getY(),s.getX(),s.getY())}sampleLine(t,i,r){let l=0,s=this.distanceResultPoint(t,i),u=s/r,c=t.getX(),h=t.getY(),m=u*(i.getX()-t.getX())/s,w=u*(i.getY()-t.getY())/s;for(let v=0;v<r;v++)this.image.get(rt.round(c+v*m),rt.round(h+v*w))&&(l|=1<<r-v-1);return l}isWhiteOrBlackRectangle(t,i,r,l){let s=3;t=new yt(t.getX()-s,t.getY()+s),i=new yt(i.getX()-s,i.getY()-s),r=new yt(r.getX()+s,r.getY()-s),l=new yt(l.getX()+s,l.getY()+s);let u=this.getColor(l,t);if(u===0)return!1;let c=this.getColor(t,i);return c!==u||(c=this.getColor(i,r),c!==u)?!1:(c=this.getColor(r,l),c===u)}getColor(t,i){let r=this.distancePoint(t,i),l=(i.getX()-t.getX())/r,s=(i.getY()-t.getY())/r,u=0,c=t.getX(),h=t.getY(),m=this.image.get(t.getX(),t.getY()),w=Math.ceil(r);for(let T=0;T<w;T++)c+=l,h+=s,this.image.get(rt.round(c),rt.round(h))!==m&&u++;let v=u/r;return v>.1&&v<.9?0:v<=.1===m?1:-1}getFirstDifferent(t,i,r,l){let s=t.getX()+r,u=t.getY()+l;for(;this.isValid(s,u)&&this.image.get(s,u)===i;)s+=r,u+=l;for(s-=r,u-=l;this.isValid(s,u)&&this.image.get(s,u)===i;)s+=r;for(s-=r;this.isValid(s,u)&&this.image.get(s,u)===i;)u+=l;return u-=l,new yt(s,u)}expandSquare(t,i,r){let l=r/(2*i),s=t[0].getX()-t[2].getX(),u=t[0].getY()-t[2].getY(),c=(t[0].getX()+t[2].getX())/2,h=(t[0].getY()+t[2].getY())/2,m=new Ne(c+l*s,h+l*u),w=new Ne(c-l*s,h-l*u);s=t[1].getX()-t[3].getX(),u=t[1].getY()-t[3].getY(),c=(t[1].getX()+t[3].getX())/2,h=(t[1].getY()+t[3].getY())/2;let v=new Ne(c+l*s,h+l*u),T=new Ne(c-l*s,h-l*u);return[m,v,w,T]}isValid(t,i){return t>=0&&t<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(t){let i=rt.round(t.getX()),r=rt.round(t.getY());return this.isValid(i,r)}distancePoint(t,i){return rt.distance(t.getX(),t.getY(),i.getX(),i.getY())}distanceResultPoint(t,i){return rt.distance(t.getX(),t.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(oe.truncDivision(this.nbLayers-4,8)+1)+15}}class Ca{decode(t,i=null){let r=null,l=new bs(t.getBlackMatrix()),s=null,u=null;try{let w=l.detectMirror(!1);s=w.getPoints(),this.reportFoundResultPoints(i,s),u=new St().decode(w)}catch(w){r=w}if(u==null)try{let w=l.detectMirror(!0);s=w.getPoints(),this.reportFoundResultPoints(i,s),u=new St().decode(w)}catch(w){throw r??w}let c=new ve(u.getText(),u.getRawBytes(),u.getNumBits(),s,ge.AZTEC,de.currentTimeMillis()),h=u.getByteSegments();h!=null&&c.putMetadata(Ye.BYTE_SEGMENTS,h);let m=u.getECLevel();return m!=null&&c.putMetadata(Ye.ERROR_CORRECTION_LEVEL,m),c}reportFoundResultPoints(t,i){if(t!=null){let r=t.get(ke.NEED_RESULT_POINT_CALLBACK);r!=null&&i.forEach((l,s,u)=>{r.foundPossibleResultPoint(l)})}}reset(){}}class Zo extends Ae{constructor(t=500){super(new Ca,t)}}class Bt{decode(t,i){try{return this.doDecode(t,i)}catch{if(i&&i.get(ke.TRY_HARDER)===!0&&t.isRotateSupported()){const s=t.rotateCounterClockwise(),u=this.doDecode(s,i),c=u.getResultMetadata();let h=270;c!==null&&c.get(Ye.ORIENTATION)===!0&&(h=h+c.get(Ye.ORIENTATION)%360),u.putMetadata(Ye.ORIENTATION,h);const m=u.getResultPoints();if(m!==null){const w=s.getHeight();for(let v=0;v<m.length;v++)m[v]=new Ne(w-m[v].getY()-1,m[v].getX())}return u}else throw new q}}reset(){}doDecode(t,i){const r=t.getWidth(),l=t.getHeight();let s=new Oe(r);const u=i&&i.get(ke.TRY_HARDER)===!0,c=Math.max(1,l>>(u?8:5));let h;u?h=l:h=15;const m=Math.trunc(l/2);for(let w=0;w<h;w++){const v=Math.trunc((w+1)/2),T=(w&1)===0,I=m+c*(T?v:-v);if(I<0||I>=l)break;try{s=t.getBlackRow(I,s)}catch{continue}for(let B=0;B<2;B++){if(B===1&&(s.reverse(),i&&i.get(ke.NEED_RESULT_POINT_CALLBACK)===!0)){const F=new Map;i.forEach((G,Z)=>F.set(Z,G)),F.delete(ke.NEED_RESULT_POINT_CALLBACK),i=F}try{const F=this.decodeRow(I,s,i);if(B===1){F.putMetadata(Ye.ORIENTATION,180);const G=F.getResultPoints();G!==null&&(G[0]=new Ne(r-G[0].getX()-1,G[0].getY()),G[1]=new Ne(r-G[1].getX()-1,G[1].getY()))}return F}catch{}}}throw new q}static recordPattern(t,i,r){const l=r.length;for(let m=0;m<l;m++)r[m]=0;const s=t.getSize();if(i>=s)throw new q;let u=!t.get(i),c=0,h=i;for(;h<s;){if(t.get(h)!==u)r[c]++;else{if(++c===l)break;r[c]=1,u=!u}h++}if(!(c===l||c===l-1&&h===s))throw new q}static recordPatternInReverse(t,i,r){let l=r.length,s=t.get(i);for(;i>0&&l>=0;)t.get(--i)!==s&&(l--,s=!s);if(l>=0)throw new q;Bt.recordPattern(t,i+1,r)}static patternMatchVariance(t,i,r){const l=t.length;let s=0,u=0;for(let m=0;m<l;m++)s+=t[m],u+=i[m];if(s<u)return Number.POSITIVE_INFINITY;const c=s/u;r*=c;let h=0;for(let m=0;m<l;m++){const w=t[m],v=i[m]*c,T=w>v?w-v:v-w;if(T>r)return Number.POSITIVE_INFINITY;h+=T}return h/s}}class Ee extends Bt{static findStartPattern(t){const i=t.getSize(),r=t.getNextSet(0);let l=0,s=Int32Array.from([0,0,0,0,0,0]),u=r,c=!1;const h=6;for(let m=r;m<i;m++)if(t.get(m)!==c)s[l]++;else{if(l===h-1){let w=Ee.MAX_AVG_VARIANCE,v=-1;for(let T=Ee.CODE_START_A;T<=Ee.CODE_START_C;T++){const I=Bt.patternMatchVariance(s,Ee.CODE_PATTERNS[T],Ee.MAX_INDIVIDUAL_VARIANCE);I<w&&(w=I,v=T)}if(v>=0&&t.isRange(Math.max(0,u-(m-u)/2),u,!1))return Int32Array.from([u,m,v]);u+=s[0]+s[1],s=s.slice(2,s.length-1),s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,c=!c}throw new q}static decodeCode(t,i,r){Bt.recordPattern(t,r,i);let l=Ee.MAX_AVG_VARIANCE,s=-1;for(let u=0;u<Ee.CODE_PATTERNS.length;u++){const c=Ee.CODE_PATTERNS[u],h=this.patternMatchVariance(i,c,Ee.MAX_INDIVIDUAL_VARIANCE);h<l&&(l=h,s=u)}if(s>=0)return s;throw new q}decodeRow(t,i,r){const l=r&&r.get(ke.ASSUME_GS1)===!0,s=Ee.findStartPattern(i),u=s[2];let c=0;const h=new Uint8Array(20);h[c++]=u;let m;switch(u){case Ee.CODE_START_A:m=Ee.CODE_CODE_A;break;case Ee.CODE_START_B:m=Ee.CODE_CODE_B;break;case Ee.CODE_START_C:m=Ee.CODE_CODE_C;break;default:throw new le}let w=!1,v=!1,T="",I=s[0],B=s[1];const F=Int32Array.from([0,0,0,0,0,0]);let G=0,Z=0,fe=u,me=0,ue=!0,Ve=!1,He=!1;for(;!w;){const Li=v;switch(v=!1,G=Z,Z=Ee.decodeCode(i,F,B),h[c++]=Z,Z!==Ee.CODE_STOP&&(ue=!0),Z!==Ee.CODE_STOP&&(me++,fe+=me*Z),I=B,B+=F.reduce((Kn,Ms)=>Kn+Ms,0),Z){case Ee.CODE_START_A:case Ee.CODE_START_B:case Ee.CODE_START_C:throw new le}switch(m){case Ee.CODE_CODE_A:if(Z<64)He===Ve?T+=String.fromCharCode(32+Z):T+=String.fromCharCode(32+Z+128),He=!1;else if(Z<96)He===Ve?T+=String.fromCharCode(Z-64):T+=String.fromCharCode(Z+64),He=!1;else switch(Z!==Ee.CODE_STOP&&(ue=!1),Z){case Ee.CODE_FNC_1:l&&(T.length===0?T+="]C1":T+="");break;case Ee.CODE_FNC_2:case Ee.CODE_FNC_3:break;case Ee.CODE_FNC_4_A:!Ve&&He?(Ve=!0,He=!1):Ve&&He?(Ve=!1,He=!1):He=!0;break;case Ee.CODE_SHIFT:v=!0,m=Ee.CODE_CODE_B;break;case Ee.CODE_CODE_B:m=Ee.CODE_CODE_B;break;case Ee.CODE_CODE_C:m=Ee.CODE_CODE_C;break;case Ee.CODE_STOP:w=!0;break}break;case Ee.CODE_CODE_B:if(Z<96)He===Ve?T+=String.fromCharCode(32+Z):T+=String.fromCharCode(32+Z+128),He=!1;else switch(Z!==Ee.CODE_STOP&&(ue=!1),Z){case Ee.CODE_FNC_1:l&&(T.length===0?T+="]C1":T+="");break;case Ee.CODE_FNC_2:case Ee.CODE_FNC_3:break;case Ee.CODE_FNC_4_B:!Ve&&He?(Ve=!0,He=!1):Ve&&He?(Ve=!1,He=!1):He=!0;break;case Ee.CODE_SHIFT:v=!0,m=Ee.CODE_CODE_A;break;case Ee.CODE_CODE_A:m=Ee.CODE_CODE_A;break;case Ee.CODE_CODE_C:m=Ee.CODE_CODE_C;break;case Ee.CODE_STOP:w=!0;break}break;case Ee.CODE_CODE_C:if(Z<100)Z<10&&(T+="0"),T+=Z;else switch(Z!==Ee.CODE_STOP&&(ue=!1),Z){case Ee.CODE_FNC_1:l&&(T.length===0?T+="]C1":T+="");break;case Ee.CODE_CODE_A:m=Ee.CODE_CODE_A;break;case Ee.CODE_CODE_B:m=Ee.CODE_CODE_B;break;case Ee.CODE_STOP:w=!0;break}break}Li&&(m=m===Ee.CODE_CODE_A?Ee.CODE_CODE_B:Ee.CODE_CODE_A)}const Sn=B-I;if(B=i.getNextUnset(B),!i.isRange(B,Math.min(i.getSize(),B+(B-I)/2),!1))throw new q;if(fe-=me*G,fe%103!==G)throw new ye;const Vn=T.length;if(Vn===0)throw new q;Vn>0&&ue&&(m===Ee.CODE_CODE_C?T=T.substring(0,Vn-2):T=T.substring(0,Vn-1));const Dn=(s[1]+s[0])/2,At=I+Sn/2,hn=h.length,Mn=new Uint8Array(hn);for(let Li=0;Li<hn;Li++)Mn[Li]=h[Li];const Ki=[new Ne(Dn,t),new Ne(At,t)];return new ve(T,Mn,0,Ki,ge.CODE_128,new Date().getTime())}}Ee.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ee.MAX_AVG_VARIANCE=.25,Ee.MAX_INDIVIDUAL_VARIANCE=.7,Ee.CODE_SHIFT=98,Ee.CODE_CODE_C=99,Ee.CODE_CODE_B=100,Ee.CODE_CODE_A=101,Ee.CODE_FNC_1=102,Ee.CODE_FNC_2=97,Ee.CODE_FNC_3=96,Ee.CODE_FNC_4_A=101,Ee.CODE_FNC_4_B=100,Ee.CODE_START_A=103,Ee.CODE_START_B=104,Ee.CODE_START_C=105,Ee.CODE_STOP=106;class Ot extends Bt{constructor(t=!1,i=!1){super(),this.usingCheckDigit=t,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,i,r){let l=this.counters;l.fill(0),this.decodeRowResult="";let s=Ot.findAsteriskPattern(i,l),u=i.getNextSet(s[1]),c=i.getSize(),h,m;do{Ot.recordPattern(i,u,l);let F=Ot.toNarrowWidePattern(l);if(F<0)throw new q;h=Ot.patternToChar(F),this.decodeRowResult+=h,m=u;for(let G of l)u+=G;u=i.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let F of l)w+=F;let v=u-m-w;if(u!==c&&v*2<w)throw new q;if(this.usingCheckDigit){let F=this.decodeRowResult.length-1,G=0;for(let Z=0;Z<F;Z++)G+=Ot.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Z));if(this.decodeRowResult.charAt(F)!==Ot.ALPHABET_STRING.charAt(G%43))throw new ye;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(this.decodeRowResult.length===0)throw new q;let T;this.extendedMode?T=Ot.decodeExtended(this.decodeRowResult):T=this.decodeRowResult;let I=(s[1]+s[0])/2,B=m+w/2;return new ve(T,null,0,[new Ne(I,t),new Ne(B,t)],ge.CODE_39,new Date().getTime())}static findAsteriskPattern(t,i){let r=t.getSize(),l=t.getNextSet(0),s=0,u=l,c=!1,h=i.length;for(let m=l;m<r;m++)if(t.get(m)!==c)i[s]++;else{if(s===h-1){if(this.toNarrowWidePattern(i)===Ot.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((m-u)/2)),u,!1))return[u,m];u+=i[0]+i[1],i.copyWithin(0,2,2+s-1),i[s-1]=0,i[s]=0,s--}else s++;i[s]=1,c=!c}throw new q}static toNarrowWidePattern(t){let i=t.length,r=0,l;do{let s=2147483647;for(let h of t)h<s&&h>r&&(s=h);r=s,l=0;let u=0,c=0;for(let h=0;h<i;h++){let m=t[h];m>r&&(c|=1<<i-1-h,l++,u+=m)}if(l===3){for(let h=0;h<i&&l>0;h++){let m=t[h];if(m>r&&(l--,m*2>=u))return-1}return c}}while(l>3);return-1}static patternToChar(t){for(let i=0;i<Ot.CHARACTER_ENCODINGS.length;i++)if(Ot.CHARACTER_ENCODINGS[i]===t)return Ot.ALPHABET_STRING.charAt(i);if(t===Ot.ASTERISK_ENCODING)return"*";throw new q}static decodeExtended(t){let i=t.length,r="";for(let l=0;l<i;l++){let s=t.charAt(l);if(s==="+"||s==="$"||s==="%"||s==="/"){let u=t.charAt(l+1),c="\0";switch(s){case"+":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)+32);else throw new le;break;case"$":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)-64);else throw new le;break;case"%":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else if(u==="X"||u==="Y"||u==="Z")c="";else throw new le;break;case"/":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")c=":";else throw new le;break}r+=c,l++}else r+=s}return r}}Ot.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ot.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ot.ASTERISK_ENCODING=148;class ft extends Bt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,i,r){let l=this.decodeStart(i),s=this.decodeEnd(i),u=new Ze;ft.decodeMiddle(i,l[1],s[0],u);let c=u.toString(),h=null;r!=null&&(h=r.get(ke.ALLOWED_LENGTHS)),h==null&&(h=ft.DEFAULT_ALLOWED_LENGTHS);let m=c.length,w=!1,v=0;for(let B of h){if(m===B){w=!0;break}B>v&&(v=B)}if(!w&&m>v&&(w=!0),!w)throw new le;const T=[new Ne(l[1],t),new Ne(s[0],t)];return new ve(c,null,0,T,ge.ITF,new Date().getTime())}static decodeMiddle(t,i,r,l){let s=new Int32Array(10),u=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),u.fill(0),c.fill(0);i<r;){Bt.recordPattern(t,i,s);for(let m=0;m<5;m++){let w=2*m;u[m]=s[w],c[m]=s[w+1]}let h=ft.decodeDigit(u);l.append(h.toString()),h=this.decodeDigit(c),l.append(h.toString()),s.forEach(function(m){i+=m})}}decodeStart(t){let i=ft.skipWhiteSpace(t),r=ft.findGuardPattern(t,i,ft.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(t,r[0]),r}validateQuietZone(t,i){let r=this.narrowLineWidth*10;r=r<i?r:i;for(let l=i-1;r>0&&l>=0&&!t.get(l);l--)r--;if(r!==0)throw new q}static skipWhiteSpace(t){const i=t.getSize(),r=t.getNextSet(0);if(r===i)throw new q;return r}decodeEnd(t){t.reverse();try{let i=ft.skipWhiteSpace(t),r;try{r=ft.findGuardPattern(t,i,ft.END_PATTERN_REVERSED[0])}catch(s){s instanceof q&&(r=ft.findGuardPattern(t,i,ft.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,r[0]);let l=r[0];return r[0]=t.getSize()-r[1],r[1]=t.getSize()-l,r}finally{t.reverse()}}static findGuardPattern(t,i,r){let l=r.length,s=new Int32Array(l),u=t.getSize(),c=!1,h=0,m=i;s.fill(0);for(let w=i;w<u;w++)if(t.get(w)!==c)s[h]++;else{if(h===l-1){if(Bt.patternMatchVariance(s,r,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE)return[m,w];m+=s[0]+s[1],de.arraycopy(s,2,s,0,h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,c=!c}throw new q}static decodeDigit(t){let i=ft.MAX_AVG_VARIANCE,r=-1,l=ft.PATTERNS.length;for(let s=0;s<l;s++){let u=ft.PATTERNS[s],c=Bt.patternMatchVariance(t,u,ft.MAX_INDIVIDUAL_VARIANCE);c<i?(i=c,r=s):c===i&&(r=-1)}if(r>=0)return r%10;throw new q}}ft.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ft.MAX_AVG_VARIANCE=.38,ft.MAX_INDIVIDUAL_VARIANCE=.5,ft.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ft.START_PATTERN=Int32Array.from([1,1,1,1]),ft.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class vt extends Bt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let i=!1,r,l=0,s=Int32Array.from([0,0,0]);for(;!i;){s=Int32Array.from([0,0,0]),r=vt.findGuardPattern(t,l,!1,this.START_END_PATTERN,s);let u=r[0];l=r[1];let c=u-(l-u);c>=0&&(i=t.isRange(c,u,!1))}return r}static checkChecksum(t){return vt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let r=parseInt(t.charAt(i-1),10);return vt.getStandardUPCEANChecksum(t.substring(0,i-1))===r}static getStandardUPCEANChecksum(t){let i=t.length,r=0;for(let l=i-1;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new le;r+=s}r*=3;for(let l=i-2;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new le;r+=s}return(1e3-r)%10}static decodeEnd(t,i){return vt.findGuardPattern(t,i,!1,vt.START_END_PATTERN,new Int32Array(vt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,i,r,l){return this.findGuardPattern(t,i,r,l,new Int32Array(l.length))}static findGuardPattern(t,i,r,l,s){let u=t.getSize();i=r?t.getNextUnset(i):t.getNextSet(i);let c=0,h=i,m=l.length,w=r;for(let v=i;v<u;v++)if(t.get(v)!==w)s[c]++;else{if(c===m-1){if(Bt.patternMatchVariance(s,l,vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE)return Int32Array.from([h,v]);h+=s[0]+s[1];let T=s.slice(2,s.length-1);for(let I=0;I<c-1;I++)s[I]=T[I];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,w=!w}throw new q}static decodeDigit(t,i,r,l){this.recordPattern(t,r,i);let s=this.MAX_AVG_VARIANCE,u=-1,c=l.length;for(let h=0;h<c;h++){let m=l[h],w=Bt.patternMatchVariance(i,m,vt.MAX_INDIVIDUAL_VARIANCE);w<s&&(s=w,u=h)}if(u>=0)return u;throw new q}}vt.MAX_AVG_VARIANCE=.48,vt.MAX_INDIVIDUAL_VARIANCE=.7,vt.START_END_PATTERN=Int32Array.from([1,1,1]),vt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),vt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),vt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Kr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,r){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(i,r,l),u=l.toString(),c=Kr.parseExtensionString(u),h=[new Ne((r[0]+r[1])/2,t),new Ne(s,t)],m=new ve(u,null,0,h,ge.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&m.putAllMetadata(c),m}decodeMiddle(t,i,r){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u=i[1],c=0;for(let m=0;m<5&&u<s;m++){let w=vt.decodeDigit(t,l,u,vt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+w%10);for(let v of l)u+=v;w>=10&&(c|=1<<4-m),m!==4&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(r.length!==5)throw new q;let h=this.determineCheckDigit(c);if(Kr.extensionChecksum(r.toString())!==h)throw new q;return u}static extensionChecksum(t){let i=t.length,r=0;for(let l=i-2;l>=0;l-=2)r+=t.charAt(l).charCodeAt(0)-48;r*=3;for(let l=i-1;l>=0;l-=2)r+=t.charAt(l).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(t){for(let i=0;i<10;i++)if(t===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new q}static parseExtensionString(t){if(t.length!==5)return null;let i=Kr.parseExtension5String(t);return i==null?null:new Map([[Ye.SUGGESTED_PRICE,i]])}static parseExtension5String(t){let i;switch(t.charAt(0)){case"0":i="£";break;case"5":i="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let r=parseInt(t.substring(1)),l=(r/100).toString(),s=r%100,u=s<10?"0"+s:s.toString();return i+l+"."+u}}class Sa{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,r){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(i,r,l),u=l.toString(),c=Sa.parseExtensionString(u),h=[new Ne((r[0]+r[1])/2,t),new Ne(s,t)],m=new ve(u,null,0,h,ge.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&m.putAllMetadata(c),m}decodeMiddle(t,i,r){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u=i[1],c=0;for(let h=0;h<2&&u<s;h++){let m=vt.decodeDigit(t,l,u,vt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+m%10);for(let w of l)u+=w;m>=10&&(c|=1<<1-h),h!==1&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(r.length!==2)throw new q;if(parseInt(r.toString())%4!==c)throw new q;return u}static parseExtensionString(t){return t.length!==2?null:new Map([[Ye.ISSUE_NUMBER,parseInt(t)]])}}class yl{static decodeRow(t,i,r){let l=vt.findGuardPattern(i,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Kr().decodeRow(t,i,l)}catch{return new Sa().decodeRow(t,i,l)}}}yl.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class st extends vt{constructor(){super(),this.decodeRowStringBuffer="",st.L_AND_G_PATTERNS=st.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let i=st.L_PATTERNS[t-10],r=new Int32Array(i.length);for(let l=0;l<i.length;l++)r[l]=i[i.length-l-1];st.L_AND_G_PATTERNS[t]=r}}decodeRow(t,i,r){let l=st.findStartGuardPattern(i),s=r==null?null:r.get(ke.NEED_RESULT_POINT_CALLBACK);if(s!=null){const ue=new Ne((l[0]+l[1])/2,t);s.foundPossibleResultPoint(ue)}let u=this.decodeMiddle(i,l,this.decodeRowStringBuffer),c=u.rowOffset,h=u.resultString;if(s!=null){const ue=new Ne(c,t);s.foundPossibleResultPoint(ue)}let m=this.decodeEnd(i,c);if(s!=null){const ue=new Ne((m[0]+m[1])/2,t);s.foundPossibleResultPoint(ue)}let w=m[1],v=w+(w-m[0]);if(v>=i.getSize()||!i.isRange(w,v,!1))throw new q;let T=h.toString();if(T.length<8)throw new le;if(!st.checkChecksum(T))throw new ye;let I=(l[1]+l[0])/2,B=(m[1]+m[0])/2,F=this.getBarcodeFormat(),G=[new Ne(I,t),new Ne(B,t)],Z=new ve(T,null,0,G,F,new Date().getTime()),fe=0;try{let ue=yl.decodeRow(t,i,m[1]);Z.putMetadata(Ye.UPC_EAN_EXTENSION,ue.getText()),Z.putAllMetadata(ue.getResultMetadata()),Z.addResultPoints(ue.getResultPoints()),fe=ue.getText().length}catch{}let me=r==null?null:r.get(ke.ALLOWED_EAN_EXTENSIONS);if(me!=null){let ue=!1;for(let Ve in me)if(fe.toString()===Ve){ue=!0;break}if(!ue)throw new q}return Z}decodeEnd(t,i){return st.findGuardPattern(t,i,!1,st.START_END_PATTERN,new Int32Array(st.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return st.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let r=parseInt(t.charAt(i-1),10);return st.getStandardUPCEANChecksum(t.substring(0,i-1))===r}static getStandardUPCEANChecksum(t){let i=t.length,r=0;for(let l=i-1;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new le;r+=s}r*=3;for(let l=i-2;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new le;r+=s}return(1e3-r)%10}}class Zn extends st{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,r){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u=i[1],c=0;for(let m=0;m<6&&u<s;m++){let w=st.decodeDigit(t,l,u,st.L_AND_G_PATTERNS);r+=String.fromCharCode(48+w%10);for(let v of l)u+=v;w>=10&&(c|=1<<5-m)}r=Zn.determineFirstDigit(r,c),u=st.findGuardPattern(t,u,!0,st.MIDDLE_PATTERN,new Int32Array(st.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<6&&u<s;m++){let w=st.decodeDigit(t,l,u,st.L_PATTERNS);r+=String.fromCharCode(48+w);for(let v of l)u+=v}return{rowOffset:u,resultString:r}}getBarcodeFormat(){return ge.EAN_13}static determineFirstDigit(t,i){for(let r=0;r<10;r++)if(i===this.FIRST_DIGIT_ENCODINGS[r])return t=String.fromCharCode(48+r)+t,t;throw new q}}Zn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Cs extends st{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,r){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u=i[1];for(let h=0;h<4&&u<s;h++){let m=st.decodeDigit(t,l,u,st.L_PATTERNS);r+=String.fromCharCode(48+m);for(let w of l)u+=w}u=st.findGuardPattern(t,u,!0,st.MIDDLE_PATTERN,new Int32Array(st.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&u<s;h++){let m=st.decodeDigit(t,l,u,st.L_PATTERNS);r+=String.fromCharCode(48+m);for(let w of l)u+=w}return{rowOffset:u,resultString:r}}getBarcodeFormat(){return ge.EAN_8}}class El extends st{constructor(){super(...arguments),this.ean13Reader=new Zn}getBarcodeFormat(){return ge.UPC_A}decode(t,i){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,i,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,i,r))}decodeMiddle(t,i,r){return this.ean13Reader.decodeMiddle(t,i,r)}maybeReturnResult(t){let i=t.getText();if(i.charAt(0)==="0"){let r=new ve(i.substring(1),null,null,t.getResultPoints(),ge.UPC_A);return t.getResultMetadata()!=null&&r.putAllMetadata(t.getResultMetadata()),r}else throw new q}reset(){this.ean13Reader.reset()}}class zn extends st{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,i,r){const l=this.decodeMiddleCounters.map(m=>m);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const s=t.getSize();let u=i[1],c=0;for(let m=0;m<6&&u<s;m++){const w=zn.decodeDigit(t,l,u,zn.L_AND_G_PATTERNS);r+=String.fromCharCode(48+w%10);for(let v of l)u+=v;w>=10&&(c|=1<<5-m)}let h=zn.determineNumSysAndCheckDigit(r,c);return{rowOffset:u,resultString:h}}decodeEnd(t,i){return zn.findGuardPatternWithoutCounters(t,i,!0,zn.MIDDLE_END_PATTERN)}checkChecksum(t){return st.checkChecksum(zn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,i){for(let r=0;r<=1;r++)for(let l=0;l<10;l++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][l]){let s=String.fromCharCode(48+r),u=String.fromCharCode(48+l);return s+t+u}throw q.getNotFoundInstance()}getBarcodeFormat(){return ge.UPC_E}static convertUPCEtoUPCA(t){const i=t.slice(1,7).split("").map(s=>s.charCodeAt(0)),r=new Ze;r.append(t.charAt(0));let l=i[5];switch(l){case 0:case 1:case 2:r.appendChars(i,0,2),r.append(l),r.append("0000"),r.appendChars(i,2,3);break;case 3:r.appendChars(i,0,3),r.append("00000"),r.appendChars(i,3,2);break;case 4:r.appendChars(i,0,4),r.append("00000"),r.append(i[4]);break;default:r.appendChars(i,0,5),r.append("0000"),r.append(l);break}return t.length>=8&&r.append(t.charAt(7)),r.toString()}}zn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),zn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Qr extends Bt{constructor(t){super();let i=t==null?null:t.get(ke.POSSIBLE_FORMATS),r=[];E(i)?(r.push(new Zn),r.push(new El),r.push(new Cs),r.push(new zn)):(i.indexOf(ge.EAN_13)>-1&&r.push(new Zn),i.indexOf(ge.UPC_A)>-1&&r.push(new El),i.indexOf(ge.EAN_8)>-1&&r.push(new Cs),i.indexOf(ge.UPC_E)>-1&&r.push(new zn)),this.readers=r}decodeRow(t,i,r){for(let l of this.readers)try{const s=l.decodeRow(t,i,r),u=s.getBarcodeFormat()===ge.EAN_13&&s.getText().charAt(0)==="0",c=r==null?null:r.get(ke.POSSIBLE_FORMATS),h=c==null||c.includes(ge.UPC_A);if(u&&h){const m=s.getRawBytes(),w=new ve(s.getText().substring(1),m,m?m.length:null,s.getResultPoints(),ge.UPC_A);return w.putAllMetadata(s.getResultMetadata()),w}return s}catch{}throw new q}reset(){for(let t of this.readers)t.reset()}}class tn extends Bt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,i){for(let r=0;r<i.length;r++)if(Bt.patternMatchVariance(t,i[r],tn.MAX_INDIVIDUAL_VARIANCE)<tn.MAX_AVG_VARIANCE)return r;throw new q}static count(t){return rt.sum(new Int32Array(t))}static increment(t,i){let r=0,l=i[0];for(let s=1;s<t.length;s++)i[s]>l&&(l=i[s],r=s);t[r]++}static decrement(t,i){let r=0,l=i[0];for(let s=1;s<t.length;s++)i[s]<l&&(l=i[s],r=s);t[r]--}static isFinderPattern(t){let i=t[0]+t[1],r=i+t[2]+t[3],l=i/r;if(l>=tn.MIN_FINDER_PATTERN_RATIO&&l<=tn.MAX_FINDER_PATTERN_RATIO){let s=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let c of t)c>u&&(u=c),c<s&&(s=c);return u<10*s}return!1}}tn.MAX_AVG_VARIANCE=.2,tn.MAX_INDIVIDUAL_VARIANCE=.45,tn.MIN_FINDER_PATTERN_RATIO=9.5/12,tn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Xi{constructor(t,i){this.value=t,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof Xi))return!1;const i=t;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class va{constructor(t,i,r,l,s){this.value=t,this.startEnd=i,this.value=t,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new Ne(r,s)),this.resultPoints.push(new Ne(l,s))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof va))return!1;const i=t;return this.value===i.value}hashCode(){return this.value}}class sn{constructor(){}static getRSSvalue(t,i,r){let l=0;for(let h of t)l+=h;let s=0,u=0,c=t.length;for(let h=0;h<c-1;h++){let m;for(m=1,u|=1<<h;m<t[h];m++,u&=~(1<<h)){let w=sn.combins(l-m-1,c-h-2);if(r&&u===0&&l-m-(c-h-1)>=c-h-1&&(w-=sn.combins(l-m-(c-h),c-h-2)),c-h-1>1){let v=0;for(let T=l-m-(c-h-2);T>i;T--)v+=sn.combins(l-m-T-1,c-h-3);w-=v*(c-1-h)}else l-m>i&&w--;s+=w}l-=m}return s}static combins(t,i){let r,l;t-i>i?(l=i,r=t-i):(l=t-i,r=i);let s=1,u=1;for(let c=t;c>r;c--)s*=c,u<=l&&(s/=u,u++);for(;u<=l;)s/=u,u++;return s}}class xn{static buildBitArray(t){let i=t.length*2-1;t[t.length-1].getRightChar()==null&&(i-=1);let r=12*i,l=new Oe(r),s=0,c=t[0].getRightChar().getValue();for(let h=11;h>=0;--h)(c&1<<h)!=0&&l.set(s),s++;for(let h=1;h<t.length;++h){let m=t[h],w=m.getLeftChar().getValue();for(let v=11;v>=0;--v)(w&1<<v)!=0&&l.set(s),s++;if(m.getRightChar()!=null){let v=m.getRightChar().getValue();for(let T=11;T>=0;--T)(v&1<<T)!=0&&l.set(s),s++}}return l}}class Vt{constructor(t,i){i?this.decodedInformation=null:(this.finished=t,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ci{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class mn extends Ci{constructor(t,i){super(t),this.value=i}getValue(){return this.value}isFNC1(){return this.value===mn.FNC1}}mn.FNC1="$";class ji extends Ci{constructor(t,i,r){super(t),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Hn extends Ci{constructor(t,i,r){if(super(t),i<0||i>10||r<0||r>10)throw new le;this.firstDigit=i,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Hn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Hn.FNC1}isAnyFNC1(){return this.firstDigit===Hn.FNC1||this.secondDigit===Hn.FNC1}}Hn.FNC1=10;class Se{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new q;let i=t.substring(0,2);for(let s of Se.TWO_DIGIT_DATA_LENGTH)if(s[0]===i)return s[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(2,s[2],t):Se.processFixedAI(2,s[1],t);if(t.length<3)throw new q;let r=t.substring(0,3);for(let s of Se.THREE_DIGIT_DATA_LENGTH)if(s[0]===r)return s[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(3,s[2],t):Se.processFixedAI(3,s[1],t);for(let s of Se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(s[0]===r)return s[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(4,s[2],t):Se.processFixedAI(4,s[1],t);if(t.length<4)throw new q;let l=t.substring(0,4);for(let s of Se.FOUR_DIGIT_DATA_LENGTH)if(s[0]===l)return s[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(4,s[2],t):Se.processFixedAI(4,s[1],t);throw new q}static processFixedAI(t,i,r){if(r.length<t)throw new q;let l=r.substring(0,t);if(r.length<t+i)throw new q;let s=r.substring(t,t+i),u=r.substring(t+i),c="("+l+")"+s,h=Se.parseFieldsInGeneralPurpose(u);return h==null?c:c+h}static processVariableAI(t,i,r){let l=r.substring(0,t),s;r.length<t+i?s=r.length:s=t+i;let u=r.substring(t,s),c=r.substring(s),h="("+l+")"+u,m=Se.parseFieldsInGeneralPurpose(c);return m==null?h:h+m}}Se.VARIABLE_LENGTH=[],Se.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Se.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Se.VARIABLE_LENGTH,20],["22",Se.VARIABLE_LENGTH,29],["30",Se.VARIABLE_LENGTH,8],["37",Se.VARIABLE_LENGTH,8],["90",Se.VARIABLE_LENGTH,30],["91",Se.VARIABLE_LENGTH,30],["92",Se.VARIABLE_LENGTH,30],["93",Se.VARIABLE_LENGTH,30],["94",Se.VARIABLE_LENGTH,30],["95",Se.VARIABLE_LENGTH,30],["96",Se.VARIABLE_LENGTH,30],["97",Se.VARIABLE_LENGTH,3],["98",Se.VARIABLE_LENGTH,30],["99",Se.VARIABLE_LENGTH,30]],Se.THREE_DIGIT_DATA_LENGTH=[["240",Se.VARIABLE_LENGTH,30],["241",Se.VARIABLE_LENGTH,30],["242",Se.VARIABLE_LENGTH,6],["250",Se.VARIABLE_LENGTH,30],["251",Se.VARIABLE_LENGTH,30],["253",Se.VARIABLE_LENGTH,17],["254",Se.VARIABLE_LENGTH,20],["400",Se.VARIABLE_LENGTH,30],["401",Se.VARIABLE_LENGTH,30],["402",17],["403",Se.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Se.VARIABLE_LENGTH,20],["421",Se.VARIABLE_LENGTH,15],["422",3],["423",Se.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Se.VARIABLE_LENGTH,15],["391",Se.VARIABLE_LENGTH,18],["392",Se.VARIABLE_LENGTH,15],["393",Se.VARIABLE_LENGTH,18],["703",Se.VARIABLE_LENGTH,30]],Se.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Se.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Se.VARIABLE_LENGTH,20],["8003",Se.VARIABLE_LENGTH,30],["8004",Se.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Se.VARIABLE_LENGTH,30],["8008",Se.VARIABLE_LENGTH,12],["8018",18],["8020",Se.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Se.VARIABLE_LENGTH,70],["8200",Se.VARIABLE_LENGTH,70]];class ai{constructor(t){this.buffer=new Ze,this.information=t}decodeAllCodes(t,i){let r=i,l=null;do{let s=this.decodeGeneralPurposeField(r,l),u=Se.parseFieldsInGeneralPurpose(s.getNewString());if(u!=null&&t.append(u),s.isRemaining()?l=""+s.getRemainingValue():l=null,r===s.getNewPosition())break;r=s.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let i=t;i<t+3;++i)if(this.information.get(i))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let s=this.extractNumericValueFromBitArray(t,4);return s===0?new Hn(this.information.getSize(),Hn.FNC1,Hn.FNC1):new Hn(this.information.getSize(),s-1,Hn.FNC1)}let i=this.extractNumericValueFromBitArray(t,7),r=(i-8)/11,l=(i-8)%11;return new Hn(t+7,r,l)}extractNumericValueFromBitArray(t,i){return ai.extractNumericValueFromBitArray(this.information,t,i)}static extractNumericValueFromBitArray(t,i,r){let l=0;for(let s=0;s<r;++s)t.get(i+s)&&(l|=1<<r-s-1);return l}decodeGeneralPurposeField(t,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(t);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new ji(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new ji(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,i;do{let r=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),t=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),t=i.isFinished()):(i=this.parseNumericBlock(),t=i.isFinished()),!(r!==this.current.getPosition())&&!t)break}while(!t);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let i;return t.isSecondDigitFNC1()?i=new ji(this.current.getPosition(),this.buffer.toString()):i=new ji(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Vt(!0,i)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let i=new ji(this.current.getPosition(),this.buffer.toString());return new Vt(!0,i)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Vt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new ji(this.current.getPosition(),this.buffer.toString());return new Vt(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Vt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new ji(this.current.getPosition(),this.buffer.toString());return new Vt(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Vt(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<116)return!0;if(t+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(t,8);return l>=232&&l<253}decodeIsoIec646(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new mn(t+5,mn.FNC1);if(i>=5&&i<15)return new mn(t+5,"0"+(i-5));let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<90)return new mn(t+7,""+(r+1));if(r>=90&&r<116)return new mn(t+7,""+(r+7));let l=this.extractNumericValueFromBitArray(t,8),s;switch(l){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new le}return new mn(t+8,s)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,6);return r>=16&&r<63}decodeAlphanumeric(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new mn(t+5,mn.FNC1);if(i>=5&&i<15)return new mn(t+5,"0"+(i-5));let r=this.extractNumericValueFromBitArray(t,6);if(r>=32&&r<58)return new mn(t+6,""+(r+33));let l;switch(r){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new ri("Decoding invalid alphanumeric value: "+r)}return new mn(t+6,l)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<5&&i+t<this.information.getSize();++i)if(i===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+i))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let i=t;i<t+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<4&&i+t<this.information.getSize();++i)if(this.information.get(t+i))return!1;return!0}}class Jr{constructor(t){this.information=t,this.generalDecoder=new ai(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Wt extends Jr{constructor(t){super(t)}encodeCompressedGtin(t,i){t.append("(01)");let r=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,i,r)}encodeCompressedGtinWithoutAI(t,i,r){for(let l=0;l<4;++l){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*l,10);s/100===0&&t.append("0"),s/10===0&&t.append("0"),t.append(s)}Wt.appendCheckDigit(t,r)}static appendCheckDigit(t,i){let r=0;for(let l=0;l<13;l++){let s=t.charAt(l+i).charCodeAt(0)-48;r+=(l&1)===0?3*s:s}r=10-r%10,r===10&&(r=0),t.append(r)}}Wt.GTIN_SIZE=40;class qn extends Wt{constructor(t){super(t)}parseInformation(){let t=new Ze;t.append("(01)");let i=t.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(qn.HEADER_SIZE,4);return t.append(r),this.encodeCompressedGtinWithoutAI(t,qn.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(t,qn.HEADER_SIZE+44)}}qn.HEADER_SIZE=4;class Si extends Jr{constructor(t){super(t)}parseInformation(){let t=new Ze;return this.getGeneralDecoder().decodeAllCodes(t,Si.HEADER_SIZE)}}Si.HEADER_SIZE=5;class xi extends Wt{constructor(t){super(t)}encodeCompressedWeight(t,i,r){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i,r);this.addWeightCode(t,l);let s=this.checkWeight(l),u=1e5;for(let c=0;c<5;++c)s/u===0&&t.append("0"),u/=10;t.append(s)}}class Et extends xi{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Et.HEADER_SIZE+xi.GTIN_SIZE+Et.WEIGHT_SIZE)throw new q;let t=new Ze;return this.encodeCompressedGtin(t,Et.HEADER_SIZE),this.encodeCompressedWeight(t,Et.HEADER_SIZE+xi.GTIN_SIZE,Et.WEIGHT_SIZE),t.toString()}}Et.HEADER_SIZE=5,Et.WEIGHT_SIZE=15;class Ss extends Et{constructor(t){super(t)}addWeightCode(t,i){t.append("(3103)")}checkWeight(t){return t}}class vs extends Et{constructor(t){super(t)}addWeightCode(t,i){i<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class yn extends Wt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<yn.HEADER_SIZE+Wt.GTIN_SIZE)throw new q;let t=new Ze;this.encodeCompressedGtin(t,yn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(yn.HEADER_SIZE+Wt.GTIN_SIZE,yn.LAST_DIGIT_SIZE);t.append("(392"),t.append(i),t.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(yn.HEADER_SIZE+Wt.GTIN_SIZE+yn.LAST_DIGIT_SIZE,null);return t.append(r.getNewString()),t.toString()}}yn.HEADER_SIZE=8,yn.LAST_DIGIT_SIZE=2;class Xt extends Wt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Xt.HEADER_SIZE+Wt.GTIN_SIZE)throw new q;let t=new Ze;this.encodeCompressedGtin(t,Xt.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Xt.HEADER_SIZE+Wt.GTIN_SIZE,Xt.LAST_DIGIT_SIZE);t.append("(393"),t.append(i),t.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Xt.HEADER_SIZE+Wt.GTIN_SIZE+Xt.LAST_DIGIT_SIZE,Xt.FIRST_THREE_DIGITS_SIZE);r/100==0&&t.append("0"),r/10==0&&t.append("0"),t.append(r);let l=this.getGeneralDecoder().decodeGeneralPurposeField(Xt.HEADER_SIZE+Wt.GTIN_SIZE+Xt.LAST_DIGIT_SIZE+Xt.FIRST_THREE_DIGITS_SIZE,null);return t.append(l.getNewString()),t.toString()}}Xt.HEADER_SIZE=8,Xt.LAST_DIGIT_SIZE=2,Xt.FIRST_THREE_DIGITS_SIZE=10;class Dt extends xi{constructor(t,i,r){super(t),this.dateCode=r,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=Dt.HEADER_SIZE+Dt.GTIN_SIZE+Dt.WEIGHT_SIZE+Dt.DATE_SIZE)throw new q;let t=new Ze;return this.encodeCompressedGtin(t,Dt.HEADER_SIZE),this.encodeCompressedWeight(t,Dt.HEADER_SIZE+Dt.GTIN_SIZE,Dt.WEIGHT_SIZE),this.encodeCompressedDate(t,Dt.HEADER_SIZE+Dt.GTIN_SIZE+Dt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,i){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(i,Dt.DATE_SIZE);if(r==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let l=r%32;r/=32;let s=r%12+1;r/=12;let u=r;u/10==0&&t.append("0"),t.append(u),s/10==0&&t.append("0"),t.append(s),l/10==0&&t.append("0"),t.append(l)}addWeightCode(t,i){t.append("("),t.append(this.firstAIdigits),t.append(i/1e5),t.append(")")}checkWeight(t){return t%1e5}}Dt.HEADER_SIZE=8,Dt.WEIGHT_SIZE=20,Dt.DATE_SIZE=16;function wl(S){try{if(S.get(1))return new qn(S);if(!S.get(2))return new Si(S);switch(ai.extractNumericValueFromBitArray(S,1,4)){case 4:return new Ss(S);case 5:return new vs(S)}switch(ai.extractNumericValueFromBitArray(S,1,5)){case 12:return new yn(S);case 13:return new Xt(S)}switch(ai.extractNumericValueFromBitArray(S,1,7)){case 56:return new Dt(S,"310","11");case 57:return new Dt(S,"320","11");case 58:return new Dt(S,"310","13");case 59:return new Dt(S,"320","13");case 60:return new Dt(S,"310","15");case 61:return new Dt(S,"320","15");case 62:return new Dt(S,"310","17");case 63:return new Dt(S,"320","17")}}catch(t){throw console.log(t),new ri("unknown decoder: "+S)}}class mi{constructor(t,i,r,l){this.leftchar=t,this.rightchar=i,this.finderpattern=r,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,i){return t instanceof mi?mi.equalsOrNull(t.leftchar,i.leftchar)&&mi.equalsOrNull(t.rightchar,i.rightchar)&&mi.equalsOrNull(t.finderpattern,i.finderpattern):!1}static equalsOrNull(t,i){return t===null?i===null:mi.equals(t,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Al{constructor(t,i,r){this.pairs=t,this.rowNumber=i,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,i){return t instanceof Al?this.checkEqualitity(t,i)&&t.wasReversed===i.wasReversed:!1}checkEqualitity(t,i){if(!t||!i)return;let r;return t.forEach((l,s)=>{i.forEach(u=>{l.getLeftChar().getValue()===u.getLeftChar().getValue()&&l.getRightChar().getValue()===u.getRightChar().getValue()&&l.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(r=!0)})}),r}}class ae extends tn{constructor(t){super(...arguments),this.pairs=new Array(ae.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,i,r){this.pairs.length=0,this.startFromEven=!1;try{return ae.constructResult(this.decodeRow2pairs(t,i))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,ae.constructResult(this.decodeRow2pairs(t,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,i){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,t))}catch(s){if(s instanceof q){if(!this.pairs.length)throw new q;r=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(t,!1),l){let s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new q}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return t&&(this.rows=this.rows.reverse()),i}checkRows(t,i){for(let r=i;r<this.rows.length;r++){let l=this.rows[r];this.pairs.length=0;for(let u of t)this.pairs.push(u.getPairs());if(this.pairs.push(l.getPairs()),!ae.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let s=new Array(t);s.push(l);try{return this.checkRows(s,r+1)}catch(u){this.verbose&&console.log(u)}}throw new q}static isValidSequence(t){for(let i of ae.FINDER_PATTERN_SEQUENCES){if(t.length>i.length)continue;let r=!0;for(let l=0;l<t.length;l++)if(t[l].getFinderPattern().getValue()!=i[l]){r=!1;break}if(r)return!0}return!1}storeRow(t,i){let r=0,l=!1,s=!1;for(;r<this.rows.length;){let u=this.rows[r];if(u.getRowNumber()>t){s=u.isEquivalent(this.pairs);break}l=u.isEquivalent(this.pairs),r++}s||l||ae.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new Al(this.pairs,t,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,i){for(let r of i)if(r.getPairs().length!==t.length){for(let l of r.getPairs())for(let s of t)if(mi.equals(l,s))break}}static isPartialRow(t,i){for(let r of i){let l=!0;for(let s of t){let u=!1;for(let c of r.getPairs())if(s.equals(c)){u=!0;break}if(!u){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(t){let i=xn.buildBitArray(t),l=wl(i).parseInformation(),s=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],u[0],u[1]];return new ve(l,null,null,c,ge.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),i=t.getLeftChar(),r=t.getRightChar();if(r==null)return!1;let l=r.getChecksumPortion(),s=2;for(let c=1;c<this.pairs.size();++c){let h=this.pairs.get(c);l+=h.getLeftChar().getChecksumPortion(),s++;let m=h.getRightChar();m!=null&&(l+=m.getChecksumPortion(),s++)}return l%=211,211*(s-4)+l==i.getValue()}static getNextSecondBar(t,i){let r;return t.get(i)?(r=t.getNextUnset(i),r=t.getNextSet(r)):(r=t.getNextSet(i),r=t.getNextUnset(r)),r}retrieveNextPair(t,i,r){let l=i.length%2==0;this.startFromEven&&(l=!l);let s,u=!0,c=-1;do this.findNextPair(t,i,c),s=this.parseFoundFinderPattern(t,r,l),s==null?c=ae.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);let h=this.decodeDataCharacter(t,s,l,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new q;let m;try{m=this.decodeDataCharacter(t,s,l,!1)}catch(w){m=null,this.verbose&&console.log(w)}return new mi(h,m,s,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,i,r){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u;r>=0?u=r:this.isEmptyPair(i)?u=0:u=i[i.length-1].getFinderPattern().getStartEnd()[1];let c=i.length%2!=0;this.startFromEven&&(c=!c);let h=!1;for(;u<s&&(h=!t.get(u),!!h);)u++;let m=0,w=u;for(let v=u;v<s;v++)if(t.get(v)!=h)l[m]++;else{if(m==3){if(c&&ae.reverseCounters(l),ae.isFinderPattern(l)){this.startEnd[0]=w,this.startEnd[1]=v;return}c&&ae.reverseCounters(l),w+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,m--}else m++;l[m]=1,h=!h}throw new q}static reverseCounters(t){let i=t.length;for(let r=0;r<i/2;++r){let l=t[r];t[r]=t[i-r-1],t[i-r-1]=l}}parseFoundFinderPattern(t,i,r){let l,s,u;if(r){let m=this.startEnd[0]-1;for(;m>=0&&!t.get(m);)m--;m++,l=this.startEnd[0]-m,s=m,u=this.startEnd[1]}else s=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),l=u-this.startEnd[1];let c=this.getDecodeFinderCounters();de.arraycopy(c,0,c,1,c.length-1),c[0]=l;let h;try{h=this.parseFinderValue(c,ae.FINDER_PATTERNS)}catch{return null}return new va(h,[s,u],s,u,i)}decodeDataCharacter(t,i,r,l){let s=this.getDataCharacterCounters();for(let At=0;At<s.length;At++)s[At]=0;if(l)ae.recordPatternInReverse(t,i.getStartEnd()[0],s);else{ae.recordPattern(t,i.getStartEnd()[1],s);for(let At=0,hn=s.length-1;At<hn;At++,hn--){let Mn=s[At];s[At]=s[hn],s[hn]=Mn}}let u=17,c=rt.sum(new Int32Array(s))/u,h=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(c-h)/h>.3)throw new q;let m=this.getOddCounts(),w=this.getEvenCounts(),v=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let At=0;At<s.length;At++){let hn=1*s[At]/c,Mn=hn+.5;if(Mn<1){if(hn<.3)throw new q;Mn=1}else if(Mn>8){if(hn>8.7)throw new q;Mn=8}let Ki=At/2;(At&1)==0?(m[Ki]=Mn,v[Ki]=hn-Mn):(w[Ki]=Mn,T[Ki]=hn-Mn)}this.adjustOddEvenCounts(u);let I=4*i.getValue()+(r?0:2)+(l?0:1)-1,B=0,F=0;for(let At=m.length-1;At>=0;At--){if(ae.isNotA1left(i,r,l)){let hn=ae.WEIGHTS[I][2*At];F+=m[At]*hn}B+=m[At]}let G=0;for(let At=w.length-1;At>=0;At--)if(ae.isNotA1left(i,r,l)){let hn=ae.WEIGHTS[I][2*At+1];G+=w[At]*hn}let Z=F+G;if((B&1)!=0||B>13||B<4)throw new q;let fe=(13-B)/2,me=ae.SYMBOL_WIDEST[fe],ue=9-me,Ve=sn.getRSSvalue(m,me,!0),He=sn.getRSSvalue(w,ue,!1),Sn=ae.EVEN_TOTAL_SUBSET[fe],Vn=ae.GSUM[fe],Dn=Ve*Sn+He+Vn;return new Xi(Dn,Z)}static isNotA1left(t,i,r){return!(t.getValue()==0&&i&&r)}adjustOddEvenCounts(t){let i=rt.sum(new Int32Array(this.getOddCounts())),r=rt.sum(new Int32Array(this.getEvenCounts())),l=!1,s=!1;i>13?s=!0:i<4&&(l=!0);let u=!1,c=!1;r>13?c=!0:r<4&&(u=!0);let h=i+r-t,m=(i&1)==1,w=(r&1)==0;if(h==1)if(m){if(w)throw new q;s=!0}else{if(!w)throw new q;c=!0}else if(h==-1)if(m){if(w)throw new q;l=!0}else{if(!w)throw new q;u=!0}else if(h==0){if(m){if(!w)throw new q;i<r?(l=!0,c=!0):(s=!0,u=!0)}else if(w)throw new q}else throw new q;if(l){if(s)throw new q;ae.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&ae.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(c)throw new q;ae.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&ae.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ae.SYMBOL_WIDEST=[7,5,4,3,1],ae.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ae.GSUM=[0,348,1388,2948,3988],ae.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ae.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ae.FINDER_PAT_A=0,ae.FINDER_PAT_B=1,ae.FINDER_PAT_C=2,ae.FINDER_PAT_D=3,ae.FINDER_PAT_E=4,ae.FINDER_PAT_F=5,ae.FINDER_PATTERN_SEQUENCES=[[ae.FINDER_PAT_A,ae.FINDER_PAT_A],[ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B],[ae.FINDER_PAT_A,ae.FINDER_PAT_C,ae.FINDER_PAT_B,ae.FINDER_PAT_D],[ae.FINDER_PAT_A,ae.FINDER_PAT_E,ae.FINDER_PAT_B,ae.FINDER_PAT_D,ae.FINDER_PAT_C],[ae.FINDER_PAT_A,ae.FINDER_PAT_E,ae.FINDER_PAT_B,ae.FINDER_PAT_D,ae.FINDER_PAT_D,ae.FINDER_PAT_F],[ae.FINDER_PAT_A,ae.FINDER_PAT_E,ae.FINDER_PAT_B,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_F,ae.FINDER_PAT_F],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_D],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_E],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_F,ae.FINDER_PAT_F],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_E,ae.FINDER_PAT_F,ae.FINDER_PAT_F]],ae.MAX_PAIRS=11;class Ta extends Xi{constructor(t,i,r){super(t,i),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ht extends tn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,i,r){const l=this.decodePair(i,!1,t,r);ht.addOrTally(this.possibleLeftPairs,l),i.reverse();let s=this.decodePair(i,!0,t,r);ht.addOrTally(this.possibleRightPairs,s),i.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let c of this.possibleRightPairs)if(c.getCount()>1&&ht.checkChecksum(u,c))return ht.constructResult(u,c)}throw new q}static addOrTally(t,i){if(i==null)return;let r=!1;for(let l of t)if(l.getValue()===i.getValue()){l.incrementCount(),r=!0;break}r||t.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,i){let r=4537077*t.getValue()+i.getValue(),l=new String(r).toString(),s=new Ze;for(let m=13-l.length;m>0;m--)s.append("0");s.append(l);let u=0;for(let m=0;m<13;m++){let w=s.charAt(m).charCodeAt(0)-48;u+=(m&1)===0?3*w:w}u=10-u%10,u===10&&(u=0),s.append(u.toString());let c=t.getFinderPattern().getResultPoints(),h=i.getFinderPattern().getResultPoints();return new ve(s.toString(),null,0,[c[0],c[1],h[0],h[1]],ge.RSS_14,new Date().getTime())}static checkChecksum(t,i){let r=(t.getChecksumPortion()+16*i.getChecksumPortion())%79,l=9*t.getFinderPattern().getValue()+i.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,r===l}decodePair(t,i,r,l){try{let s=this.findFinderPattern(t,i),u=this.parseFoundFinderPattern(t,r,i,s),c=l==null?null:l.get(ke.NEED_RESULT_POINT_CALLBACK);if(c!=null){let w=(s[0]+s[1])/2;i&&(w=t.getSize()-1-w),c.foundPossibleResultPoint(new Ne(w,r))}let h=this.decodeDataCharacter(t,u,!0),m=this.decodeDataCharacter(t,u,!1);return new Ta(1597*h.getValue()+m.getValue(),h.getChecksumPortion()+4*m.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(t,i,r){let l=this.getDataCharacterCounters();for(let G=0;G<l.length;G++)l[G]=0;if(r)Bt.recordPatternInReverse(t,i.getStartEnd()[0],l);else{Bt.recordPattern(t,i.getStartEnd()[1]+1,l);for(let G=0,Z=l.length-1;G<Z;G++,Z--){let fe=l[G];l[G]=l[Z],l[Z]=fe}}let s=r?16:15,u=rt.sum(new Int32Array(l))/s,c=this.getOddCounts(),h=this.getEvenCounts(),m=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let G=0;G<l.length;G++){let Z=l[G]/u,fe=Math.floor(Z+.5);fe<1?fe=1:fe>8&&(fe=8);let me=Math.floor(G/2);(G&1)===0?(c[me]=fe,m[me]=Z-fe):(h[me]=fe,w[me]=Z-fe)}this.adjustOddEvenCounts(r,s);let v=0,T=0;for(let G=c.length-1;G>=0;G--)T*=9,T+=c[G],v+=c[G];let I=0,B=0;for(let G=h.length-1;G>=0;G--)I*=9,I+=h[G],B+=h[G];let F=T+3*I;if(r){if((v&1)!==0||v>12||v<4)throw new q;let G=(12-v)/2,Z=ht.OUTSIDE_ODD_WIDEST[G],fe=9-Z,me=sn.getRSSvalue(c,Z,!1),ue=sn.getRSSvalue(h,fe,!0),Ve=ht.OUTSIDE_EVEN_TOTAL_SUBSET[G],He=ht.OUTSIDE_GSUM[G];return new Xi(me*Ve+ue+He,F)}else{if((B&1)!==0||B>10||B<4)throw new q;let G=(10-B)/2,Z=ht.INSIDE_ODD_WIDEST[G],fe=9-Z,me=sn.getRSSvalue(c,Z,!0),ue=sn.getRSSvalue(h,fe,!1),Ve=ht.INSIDE_ODD_TOTAL_SUBSET[G],He=ht.INSIDE_GSUM[G];return new Xi(ue*Ve+me+He,F)}}findFinderPattern(t,i){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let l=t.getSize(),s=!1,u=0;for(;u<l&&(s=!t.get(u),i!==s);)u++;let c=0,h=u;for(let m=u;m<l;m++)if(t.get(m)!==s)r[c]++;else{if(c===3){if(tn.isFinderPattern(r))return[h,m];h+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,c--}else c++;r[c]=1,s=!s}throw new q}parseFoundFinderPattern(t,i,r,l){let s=t.get(l[0]),u=l[0]-1;for(;u>=0&&s!==t.get(u);)u--;u++;const c=l[0]-u,h=this.getDecodeFinderCounters(),m=new Int32Array(h.length);de.arraycopy(h,0,m,1,h.length-1),m[0]=c;const w=this.parseFinderValue(m,ht.FINDER_PATTERNS);let v=u,T=l[1];return r&&(v=t.getSize()-1-v,T=t.getSize()-1-T),new va(w,[u,l[1]],v,T,i)}adjustOddEvenCounts(t,i){let r=rt.sum(new Int32Array(this.getOddCounts())),l=rt.sum(new Int32Array(this.getEvenCounts())),s=!1,u=!1,c=!1,h=!1;t?(r>12?u=!0:r<4&&(s=!0),l>12?h=!0:l<4&&(c=!0)):(r>11?u=!0:r<5&&(s=!0),l>10?h=!0:l<4&&(c=!0));let m=r+l-i,w=(r&1)===(t?1:0),v=(l&1)===1;if(m===1)if(w){if(v)throw new q;u=!0}else{if(!v)throw new q;h=!0}else if(m===-1)if(w){if(v)throw new q;s=!0}else{if(!v)throw new q;c=!0}else if(m===0){if(w){if(!v)throw new q;r<l?(s=!0,h=!0):(u=!0,c=!0)}else if(v)throw new q}else throw new q;if(s){if(u)throw new q;tn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&tn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(h)throw new q;tn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&tn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ht.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ht.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ht.OUTSIDE_GSUM=[0,161,961,2015,2715],ht.INSIDE_GSUM=[0,336,1036,1516],ht.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ht.INSIDE_ODD_WIDEST=[2,4,6,8],ht.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class vi extends Bt{constructor(t,i){super(),this.readers=[],this.verbose=i===!0;const r=t?t.get(ke.POSSIBLE_FORMATS):null,l=t&&t.get(ke.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(ge.EAN_13)||r.includes(ge.UPC_A)||r.includes(ge.EAN_8)||r.includes(ge.UPC_E))&&this.readers.push(new Qr(t)),r.includes(ge.CODE_39)&&this.readers.push(new Ot(l)),r.includes(ge.CODE_128)&&this.readers.push(new Ee),r.includes(ge.ITF)&&this.readers.push(new ft),r.includes(ge.RSS_14)&&this.readers.push(new ht),r.includes(ge.RSS_EXPANDED)&&this.readers.push(new ae(this.verbose))):(this.readers.push(new Qr(t)),this.readers.push(new Ot),this.readers.push(new Qr(t)),this.readers.push(new Ee),this.readers.push(new ft),this.readers.push(new ht),this.readers.push(new ae(this.verbose)))}decodeRow(t,i,r){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(t,i,r)}catch{}throw new q}reset(){this.readers.forEach(t=>t.reset())}}class Ts extends Ae{constructor(t=500,i){super(new vi(i),t,i)}}class $e{constructor(t,i,r){this.ecCodewords=t,this.ecBlocks=[i],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ot{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ke{constructor(t,i,r,l,s,u){this.versionNumber=t,this.symbolSizeRows=i,this.symbolSizeColumns=r,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=s,this.ecBlocks=u;let c=0;const h=u.getECCodewords(),m=u.getECBlocks();for(let w of m)c+=w.getCount()*(w.getDataCodewords()+h);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,i){if((t&1)!==0||(i&1)!==0)throw new le;for(let r of Ke.VERSIONS)if(r.symbolSizeRows===t&&r.symbolSizeColumns===i)return r;throw new le}toString(){return""+this.versionNumber}static buildVersions(){return[new Ke(1,10,10,8,8,new $e(5,new ot(1,3))),new Ke(2,12,12,10,10,new $e(7,new ot(1,5))),new Ke(3,14,14,12,12,new $e(10,new ot(1,8))),new Ke(4,16,16,14,14,new $e(12,new ot(1,12))),new Ke(5,18,18,16,16,new $e(14,new ot(1,18))),new Ke(6,20,20,18,18,new $e(18,new ot(1,22))),new Ke(7,22,22,20,20,new $e(20,new ot(1,30))),new Ke(8,24,24,22,22,new $e(24,new ot(1,36))),new Ke(9,26,26,24,24,new $e(28,new ot(1,44))),new Ke(10,32,32,14,14,new $e(36,new ot(1,62))),new Ke(11,36,36,16,16,new $e(42,new ot(1,86))),new Ke(12,40,40,18,18,new $e(48,new ot(1,114))),new Ke(13,44,44,20,20,new $e(56,new ot(1,144))),new Ke(14,48,48,22,22,new $e(68,new ot(1,174))),new Ke(15,52,52,24,24,new $e(42,new ot(2,102))),new Ke(16,64,64,14,14,new $e(56,new ot(2,140))),new Ke(17,72,72,16,16,new $e(36,new ot(4,92))),new Ke(18,80,80,18,18,new $e(48,new ot(4,114))),new Ke(19,88,88,20,20,new $e(56,new ot(4,144))),new Ke(20,96,96,22,22,new $e(68,new ot(4,174))),new Ke(21,104,104,24,24,new $e(56,new ot(6,136))),new Ke(22,120,120,18,18,new $e(68,new ot(6,175))),new Ke(23,132,132,20,20,new $e(62,new ot(8,163))),new Ke(24,144,144,22,22,new $e(62,new ot(8,156),new ot(2,155))),new Ke(25,8,18,6,16,new $e(7,new ot(1,5))),new Ke(26,8,32,6,14,new $e(11,new ot(1,10))),new Ke(27,12,26,10,24,new $e(14,new ot(1,16))),new Ke(28,12,36,10,16,new $e(18,new ot(1,22))),new Ke(29,16,36,14,16,new $e(24,new ot(1,32))),new Ke(30,16,48,14,22,new $e(28,new ot(1,49)))]}}Ke.VERSIONS=Ke.buildVersions();class pl{constructor(t){const i=t.getHeight();if(i<8||i>144||(i&1)!==0)throw new le;this.version=pl.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new ut(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const i=t.getHeight(),r=t.getWidth();return Ke.getVersionForDimensions(i,r)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let i=0,r=4,l=0;const s=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let c=!1,h=!1,m=!1,w=!1;do if(r===s&&l===0&&!c)t[i++]=this.readCorner1(s,u)&255,r-=2,l+=2,c=!0;else if(r===s-2&&l===0&&(u&3)!==0&&!h)t[i++]=this.readCorner2(s,u)&255,r-=2,l+=2,h=!0;else if(r===s+4&&l===2&&(u&7)===0&&!m)t[i++]=this.readCorner3(s,u)&255,r-=2,l+=2,m=!0;else if(r===s-2&&l===0&&(u&7)===4&&!w)t[i++]=this.readCorner4(s,u)&255,r-=2,l+=2,w=!0;else{do r<s&&l>=0&&!this.readMappingMatrix.get(l,r)&&(t[i++]=this.readUtah(r,l,s,u)&255),r-=2,l+=2;while(r>=0&&l<u);r+=1,l+=3;do r>=0&&l<u&&!this.readMappingMatrix.get(l,r)&&(t[i++]=this.readUtah(r,l,s,u)&255),r+=2,l-=2;while(r<s&&l>=0);r+=3,l+=1}while(r<s||l<u);if(i!==this.version.getTotalCodewords())throw new le;return t}readModule(t,i,r,l){return t<0&&(t+=r,i+=4-(r+4&7)),i<0&&(i+=l,t+=4-(l+4&7)),this.readMappingMatrix.set(i,t),this.mappingBitMatrix.get(i,t)}readUtah(t,i,r,l){let s=0;return this.readModule(t-2,i-2,r,l)&&(s|=1),s<<=1,this.readModule(t-2,i-1,r,l)&&(s|=1),s<<=1,this.readModule(t-1,i-2,r,l)&&(s|=1),s<<=1,this.readModule(t-1,i-1,r,l)&&(s|=1),s<<=1,this.readModule(t-1,i,r,l)&&(s|=1),s<<=1,this.readModule(t,i-2,r,l)&&(s|=1),s<<=1,this.readModule(t,i-1,r,l)&&(s|=1),s<<=1,this.readModule(t,i,r,l)&&(s|=1),s}readCorner1(t,i){let r=0;return this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,1,t,i)&&(r|=1),r<<=1,this.readModule(t-1,2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(2,i-1,t,i)&&(r|=1),r<<=1,this.readModule(3,i-1,t,i)&&(r|=1),r}readCorner2(t,i){let r=0;return this.readModule(t-3,0,t,i)&&(r|=1),r<<=1,this.readModule(t-2,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(0,i-4,t,i)&&(r|=1),r<<=1,this.readModule(0,i-3,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r}readCorner3(t,i){let r=0;return this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(0,i-3,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-3,t,i)&&(r|=1),r<<=1,this.readModule(1,i-2,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r}readCorner4(t,i){let r=0;return this.readModule(t-3,0,t,i)&&(r|=1),r<<=1,this.readModule(t-2,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(2,i-1,t,i)&&(r|=1),r<<=1,this.readModule(3,i-1,t,i)&&(r|=1),r}extractDataRegion(t){const i=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(t.getHeight()!==i)throw new P("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),u=i/l|0,c=r/s|0,h=u*l,m=c*s,w=new ut(m,h);for(let v=0;v<u;++v){const T=v*l;for(let I=0;I<c;++I){const B=I*s;for(let F=0;F<l;++F){const G=v*(l+2)+1+F,Z=T+F;for(let fe=0;fe<s;++fe){const me=I*(s+2)+1+fe;if(t.get(me,G)){const ue=B+fe;w.set(ue,Z)}}}}}return w}}class Na{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i){const r=i.getECBlocks();let l=0;const s=r.getECBlocks();for(let F of s)l+=F.getCount();const u=new Array(l);let c=0;for(let F of s)for(let G=0;G<F.getCount();G++){const Z=F.getDataCodewords(),fe=r.getECCodewords()+Z;u[c++]=new Na(Z,new Uint8Array(fe))}const m=u[0].codewords.length-r.getECCodewords(),w=m-1;let v=0;for(let F=0;F<w;F++)for(let G=0;G<c;G++)u[G].codewords[F]=t[v++];const T=i.getVersionNumber()===24,I=T?8:c;for(let F=0;F<I;F++)u[F].codewords[m-1]=t[v++];const B=u[0].codewords.length;for(let F=m;F<B;F++)for(let G=0;G<c;G++){const Z=T?(G+8)%c:G,fe=T&&Z>7?F-1:F;u[Z].codewords[fe]=t[v++]}if(v!==t.length)throw new P;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class On{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new P(""+t);let i=0,r=this.bitOffset,l=this.byteOffset;const s=this.bytes;if(r>0){const u=8-r,c=t<u?t:u,h=u-c,m=255>>8-c<<h;i=(s[l]&m)>>h,t-=c,r+=c,r===8&&(r=0,l++)}if(t>0){for(;t>=8;)i=i<<8|s[l]&255,l++,t-=8;if(t>0){const u=8-t,c=255>>u<<u;i=i<<t|(s[l]&c)>>u,r+=t}}return this.bitOffset=r,this.byteOffset=l,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var jt;(function(S){S[S.PAD_ENCODE=0]="PAD_ENCODE",S[S.ASCII_ENCODE=1]="ASCII_ENCODE",S[S.C40_ENCODE=2]="C40_ENCODE",S[S.TEXT_ENCODE=3]="TEXT_ENCODE",S[S.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",S[S.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",S[S.BASE256_ENCODE=6]="BASE256_ENCODE"})(jt||(jt={}));class Ti{static decode(t){const i=new On(t),r=new Ze,l=new Ze,s=new Array;let u=jt.ASCII_ENCODE;do if(u===jt.ASCII_ENCODE)u=this.decodeAsciiSegment(i,r,l);else{switch(u){case jt.C40_ENCODE:this.decodeC40Segment(i,r);break;case jt.TEXT_ENCODE:this.decodeTextSegment(i,r);break;case jt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,r);break;case jt.EDIFACT_ENCODE:this.decodeEdifactSegment(i,r);break;case jt.BASE256_ENCODE:this.decodeBase256Segment(i,r,s);break;default:throw new le}u=jt.ASCII_ENCODE}while(u!==jt.PAD_ENCODE&&i.available()>0);return l.length()>0&&r.append(l.toString()),new Pn(t,r.toString(),s.length===0?null:s,null)}static decodeAsciiSegment(t,i,r){let l=!1;do{let s=t.readBits(8);if(s===0)throw new le;if(s<=128)return l&&(s+=128),i.append(String.fromCharCode(s-1)),jt.ASCII_ENCODE;if(s===129)return jt.PAD_ENCODE;if(s<=229){const u=s-130;u<10&&i.append("0"),i.append(""+u)}else switch(s){case 230:return jt.C40_ENCODE;case 231:return jt.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:i.append("[)>05"),r.insert(0,"");break;case 237:i.append("[)>06"),r.insert(0,"");break;case 238:return jt.ANSIX12_ENCODE;case 239:return jt.TEXT_ENCODE;case 240:return jt.EDIFACT_ENCODE;case 241:break;default:if(s!==254||t.available()!==0)throw new le;break}}while(t.available()>0);return jt.ASCII_ENCODE}static decodeC40Segment(t,i){let r=!1;const l=[];let s=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),l);for(let c=0;c<3;c++){const h=l[c];switch(s){case 0:if(h<3)s=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const m=this.C40_BASIC_SET_CHARS[h];r?(i.append(String.fromCharCode(m.charCodeAt(0)+128)),r=!1):i.append(m)}else throw new le;break;case 1:r?(i.append(String.fromCharCode(h+128)),r=!1):i.append(String.fromCharCode(h)),s=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const m=this.C40_SHIFT2_SET_CHARS[h];r?(i.append(String.fromCharCode(m.charCodeAt(0)+128)),r=!1):i.append(m)}else switch(h){case 27:i.append("");break;case 30:r=!0;break;default:throw new le}s=0;break;case 3:r?(i.append(String.fromCharCode(h+224)),r=!1):i.append(String.fromCharCode(h+96)),s=0;break;default:throw new le}}}while(t.available()>0)}static decodeTextSegment(t,i){let r=!1,l=[],s=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),l);for(let c=0;c<3;c++){const h=l[c];switch(s){case 0:if(h<3)s=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const m=this.TEXT_BASIC_SET_CHARS[h];r?(i.append(String.fromCharCode(m.charCodeAt(0)+128)),r=!1):i.append(m)}else throw new le;break;case 1:r?(i.append(String.fromCharCode(h+128)),r=!1):i.append(String.fromCharCode(h)),s=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const m=this.TEXT_SHIFT2_SET_CHARS[h];r?(i.append(String.fromCharCode(m.charCodeAt(0)+128)),r=!1):i.append(m)}else switch(h){case 27:i.append("");break;case 30:r=!0;break;default:throw new le}s=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const m=this.TEXT_SHIFT3_SET_CHARS[h];r?(i.append(String.fromCharCode(m.charCodeAt(0)+128)),r=!1):i.append(m),s=0}else throw new le;break;default:throw new le}}}while(t.available()>0)}static decodeAnsiX12Segment(t,i){const r=[];do{if(t.available()===8)return;const l=t.readBits(8);if(l===254)return;this.parseTwoBytes(l,t.readBits(8),r);for(let s=0;s<3;s++){const u=r[s];switch(u){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(u<14)i.append(String.fromCharCode(u+44));else if(u<40)i.append(String.fromCharCode(u+51));else throw new le;break}}}while(t.available()>0)}static parseTwoBytes(t,i,r){let l=(t<<8)+i-1,s=Math.floor(l/1600);r[0]=s,l-=s*1600,s=Math.floor(l/40),r[1]=s,r[2]=l-s*40}static decodeEdifactSegment(t,i){do{if(t.available()<=16)return;for(let r=0;r<4;r++){let l=t.readBits(6);if(l===31){const s=8-t.getBitOffset();s!==8&&t.readBits(s);return}(l&32)===0&&(l|=64),i.append(String.fromCharCode(l))}}while(t.available()>0)}static decodeBase256Segment(t,i,r){let l=1+t.getByteOffset();const s=this.unrandomize255State(t.readBits(8),l++);let u;if(s===0?u=t.available()/8|0:s<250?u=s:u=250*(s-249)+this.unrandomize255State(t.readBits(8),l++),u<0)throw new le;const c=new Uint8Array(u);for(let h=0;h<u;h++){if(t.available()<8)throw new le;c[h]=this.unrandomize255State(t.readBits(8),l++)}r.push(c);try{i.append(je.decode(c,Ce.ISO88591))}catch(h){throw new ri("Platform does not support required encoding: "+h.message)}}static unrandomize255State(t,i){const r=149*i%255+1,l=t-r;return l>=0?l:l+256}}Ti.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ti.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ti.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ti.TEXT_SHIFT2_SET_CHARS=Ti.C40_SHIFT2_SET_CHARS,Ti.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ra{constructor(){this.rsDecoder=new qr(lt.DATA_MATRIX_FIELD_256)}decode(t){const i=new pl(t),r=i.getVersion(),l=i.readCodewords(),s=Na.getDataBlocks(l,r);let u=0;for(let m of s)u+=m.getNumDataCodewords();const c=new Uint8Array(u),h=s.length;for(let m=0;m<h;m++){const w=s[m],v=w.getCodewords(),T=w.getNumDataCodewords();this.correctErrors(v,T);for(let I=0;I<T;I++)c[I*h+m]=v[I]}return Ti.decode(c)}correctErrors(t,i){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-i)}catch{throw new ye}for(let l=0;l<i;l++)t[l]=r[l]}}class Ut{constructor(t){this.image=t,this.rectangleDetector=new gi(this.image)}detect(){const t=this.rectangleDetector.detect();let i=this.detectSolid1(t);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new q;i=this.shiftToModuleCenter(i);const r=i[0],l=i[1],s=i[2],u=i[3];let c=this.transitionsBetween(r,u)+1,h=this.transitionsBetween(s,u)+1;(c&1)===1&&(c+=1),(h&1)===1&&(h+=1),4*c<7*h&&4*h<7*c&&(c=h=Math.max(c,h));let m=Ut.sampleGrid(this.image,r,l,s,u,c,h);return new ba(m,[r,l,s,u])}static shiftPoint(t,i,r){let l=(i.getX()-t.getX())/(r+1),s=(i.getY()-t.getY())/(r+1);return new Ne(t.getX()+l,t.getY()+s)}static moveAway(t,i,r){let l=t.getX(),s=t.getY();return l<i?l-=1:l+=1,s<r?s-=1:s+=1,new Ne(l,s)}detectSolid1(t){let i=t[0],r=t[1],l=t[3],s=t[2],u=this.transitionsBetween(i,r),c=this.transitionsBetween(r,l),h=this.transitionsBetween(l,s),m=this.transitionsBetween(s,i),w=u,v=[s,i,r,l];return w>c&&(w=c,v[0]=i,v[1]=r,v[2]=l,v[3]=s),w>h&&(w=h,v[0]=r,v[1]=l,v[2]=s,v[3]=i),w>m&&(v[0]=l,v[1]=s,v[2]=i,v[3]=r),v}detectSolid2(t){let i=t[0],r=t[1],l=t[2],s=t[3],u=this.transitionsBetween(i,s),c=Ut.shiftPoint(r,l,(u+1)*4),h=Ut.shiftPoint(l,r,(u+1)*4),m=this.transitionsBetween(c,i),w=this.transitionsBetween(h,s);return m<w?(t[0]=i,t[1]=r,t[2]=l,t[3]=s):(t[0]=r,t[1]=l,t[2]=s,t[3]=i),t}correctTopRight(t){let i=t[0],r=t[1],l=t[2],s=t[3],u=this.transitionsBetween(i,s),c=this.transitionsBetween(r,s),h=Ut.shiftPoint(i,r,(c+1)*4),m=Ut.shiftPoint(l,r,(u+1)*4);u=this.transitionsBetween(h,s),c=this.transitionsBetween(m,s);let w=new Ne(s.getX()+(l.getX()-r.getX())/(u+1),s.getY()+(l.getY()-r.getY())/(u+1)),v=new Ne(s.getX()+(i.getX()-r.getX())/(c+1),s.getY()+(i.getY()-r.getY())/(c+1));if(!this.isValid(w))return this.isValid(v)?v:null;if(!this.isValid(v))return w;let T=this.transitionsBetween(h,w)+this.transitionsBetween(m,w),I=this.transitionsBetween(h,v)+this.transitionsBetween(m,v);return T>I?w:v}shiftToModuleCenter(t){let i=t[0],r=t[1],l=t[2],s=t[3],u=this.transitionsBetween(i,s)+1,c=this.transitionsBetween(l,s)+1,h=Ut.shiftPoint(i,r,c*4),m=Ut.shiftPoint(l,r,u*4);u=this.transitionsBetween(h,s)+1,c=this.transitionsBetween(m,s)+1,(u&1)===1&&(u+=1),(c&1)===1&&(c+=1);let w=(i.getX()+r.getX()+l.getX()+s.getX())/4,v=(i.getY()+r.getY()+l.getY()+s.getY())/4;i=Ut.moveAway(i,w,v),r=Ut.moveAway(r,w,v),l=Ut.moveAway(l,w,v),s=Ut.moveAway(s,w,v);let T,I;return h=Ut.shiftPoint(i,r,c*4),h=Ut.shiftPoint(h,s,u*4),T=Ut.shiftPoint(r,i,c*4),T=Ut.shiftPoint(T,l,u*4),m=Ut.shiftPoint(l,s,c*4),m=Ut.shiftPoint(m,r,u*4),I=Ut.shiftPoint(s,l,c*4),I=Ut.shiftPoint(I,i,u*4),[h,T,m,I]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,i,r,l,s,u,c){return Cn.getInstance().sampleGrid(t,u,c,.5,.5,u-.5,.5,u-.5,c-.5,.5,c-.5,i.getX(),i.getY(),s.getX(),s.getY(),l.getX(),l.getY(),r.getX(),r.getY())}transitionsBetween(t,i){let r=Math.trunc(t.getX()),l=Math.trunc(t.getY()),s=Math.trunc(i.getX()),u=Math.trunc(i.getY()),c=Math.abs(u-l)>Math.abs(s-r);if(c){let F=r;r=l,l=F,F=s,s=u,u=F}let h=Math.abs(s-r),m=Math.abs(u-l),w=-h/2,v=l<u?1:-1,T=r<s?1:-1,I=0,B=this.image.get(c?l:r,c?r:l);for(let F=r,G=l;F!==s;F+=T){let Z=this.image.get(c?G:F,c?F:G);if(Z!==B&&(I++,B=Z),w+=m,w>0){if(G===u)break;G+=v,w-=h}}return I}}class Wn{constructor(){this.decoder=new Ra}decode(t,i=null){let r,l;if(i!=null&&i.has(ke.PURE_BARCODE)){const m=Wn.extractPureBits(t.getBlackMatrix());r=this.decoder.decode(m),l=Wn.NO_POINTS}else{const m=new Ut(t.getBlackMatrix()).detect();r=this.decoder.decode(m.getBits()),l=m.getPoints()}const s=r.getRawBytes(),u=new ve(r.getText(),s,8*s.length,l,ge.DATA_MATRIX,de.currentTimeMillis()),c=r.getByteSegments();c!=null&&u.putMetadata(Ye.BYTE_SEGMENTS,c);const h=r.getECLevel();return h!=null&&u.putMetadata(Ye.ERROR_CORRECTION_LEVEL,h),u}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(i==null||r==null)throw new q;const l=this.moduleSize(i,t);let s=i[1];const u=r[1];let c=i[0];const m=(r[0]-c+1)/l,w=(u-s+1)/l;if(m<=0||w<=0)throw new q;const v=l/2;s+=v,c+=v;const T=new ut(m,w);for(let I=0;I<w;I++){const B=s+I*l;for(let F=0;F<m;F++)t.get(c+F*l,B)&&T.set(F,I)}return T}static moduleSize(t,i){const r=i.getWidth();let l=t[0];const s=t[1];for(;l<r&&i.get(l,s);)l++;if(l===r)throw new q;const u=l-t[0];if(u===0)throw new q;return u}}Wn.NO_POINTS=[];class qo extends Ae{constructor(t=500){super(new Wn,t)}}var on;(function(S){S[S.L=0]="L",S[S.M=1]="M",S[S.Q=2]="Q",S[S.H=3]="H"})(on||(on={}));class xt{constructor(t,i,r){this.value=t,this.stringValue=i,this.bits=r,xt.FOR_BITS.set(r,this),xt.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return xt.L;case"M":return xt.M;case"Q":return xt.Q;case"H":return xt.H;default:throw new D(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof xt))return!1;const i=t;return this.value===i.value}static forBits(t){if(t<0||t>=xt.FOR_BITS.size)throw new P;return xt.FOR_BITS.get(t)}}xt.FOR_BITS=new Map,xt.FOR_VALUE=new Map,xt.L=new xt(on.L,"L",1),xt.M=new xt(on.M,"M",0),xt.Q=new xt(on.Q,"Q",3),xt.H=new xt(on.H,"H",2);class un{constructor(t){this.errorCorrectionLevel=xt.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,i){return oe.bitCount(t^i)}static decodeFormatInformation(t,i){const r=un.doDecodeFormatInformation(t,i);return r!==null?r:un.doDecodeFormatInformation(t^un.FORMAT_INFO_MASK_QR,i^un.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,i){let r=Number.MAX_SAFE_INTEGER,l=0;for(const s of un.FORMAT_INFO_DECODE_LOOKUP){const u=s[0];if(u===t||u===i)return new un(s[1]);let c=un.numBitsDiffering(t,u);c<r&&(l=s[1],r=c),t!==i&&(c=un.numBitsDiffering(i,u),c<r&&(l=s[1],r=c))}return r<=3?new un(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof un))return!1;const i=t;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}un.FORMAT_INFO_MASK_QR=21522,un.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class V{constructor(t,...i){this.ecCodewordsPerBlock=t,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const i=this.ecBlocks;for(const r of i)t+=r.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class O{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _e{constructor(t,i,...r){this.versionNumber=t,this.alignmentPatternCenters=i,this.ecBlocks=r;let l=0;const s=r[0].getECCodewordsPerBlock(),u=r[0].getECBlocks();for(const c of u)l+=c.getCount()*(c.getDataCodewords()+s);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new le;try{return this.getVersionForNumber((t-17)/4)}catch{throw new le}}static getVersionForNumber(t){if(t<1||t>40)throw new P;return _e.VERSIONS[t-1]}static decodeVersionInformation(t){let i=Number.MAX_SAFE_INTEGER,r=0;for(let l=0;l<_e.VERSION_DECODE_INFO.length;l++){const s=_e.VERSION_DECODE_INFO[l];if(s===t)return _e.getVersionForNumber(l+7);const u=un.numBitsDiffering(t,s);u<i&&(r=l+7,i=u)}return i<=3?_e.getVersionForNumber(r):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),i=new ut(t);i.setRegion(0,0,9,9),i.setRegion(t-8,0,8,9),i.setRegion(0,t-8,9,8);const r=this.alignmentPatternCenters.length;for(let l=0;l<r;l++){const s=this.alignmentPatternCenters[l]-2;for(let u=0;u<r;u++)l===0&&(u===0||u===r-1)||l===r-1&&u===0||i.setRegion(this.alignmentPatternCenters[u]-2,s,5,5)}return i.setRegion(6,9,1,t-17),i.setRegion(9,6,t-17,1),this.versionNumber>6&&(i.setRegion(t-11,0,3,6),i.setRegion(0,t-11,6,3)),i}toString(){return""+this.versionNumber}}_e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),_e.VERSIONS=[new _e(1,new Int32Array(0),new V(7,new O(1,19)),new V(10,new O(1,16)),new V(13,new O(1,13)),new V(17,new O(1,9))),new _e(2,Int32Array.from([6,18]),new V(10,new O(1,34)),new V(16,new O(1,28)),new V(22,new O(1,22)),new V(28,new O(1,16))),new _e(3,Int32Array.from([6,22]),new V(15,new O(1,55)),new V(26,new O(1,44)),new V(18,new O(2,17)),new V(22,new O(2,13))),new _e(4,Int32Array.from([6,26]),new V(20,new O(1,80)),new V(18,new O(2,32)),new V(26,new O(2,24)),new V(16,new O(4,9))),new _e(5,Int32Array.from([6,30]),new V(26,new O(1,108)),new V(24,new O(2,43)),new V(18,new O(2,15),new O(2,16)),new V(22,new O(2,11),new O(2,12))),new _e(6,Int32Array.from([6,34]),new V(18,new O(2,68)),new V(16,new O(4,27)),new V(24,new O(4,19)),new V(28,new O(4,15))),new _e(7,Int32Array.from([6,22,38]),new V(20,new O(2,78)),new V(18,new O(4,31)),new V(18,new O(2,14),new O(4,15)),new V(26,new O(4,13),new O(1,14))),new _e(8,Int32Array.from([6,24,42]),new V(24,new O(2,97)),new V(22,new O(2,38),new O(2,39)),new V(22,new O(4,18),new O(2,19)),new V(26,new O(4,14),new O(2,15))),new _e(9,Int32Array.from([6,26,46]),new V(30,new O(2,116)),new V(22,new O(3,36),new O(2,37)),new V(20,new O(4,16),new O(4,17)),new V(24,new O(4,12),new O(4,13))),new _e(10,Int32Array.from([6,28,50]),new V(18,new O(2,68),new O(2,69)),new V(26,new O(4,43),new O(1,44)),new V(24,new O(6,19),new O(2,20)),new V(28,new O(6,15),new O(2,16))),new _e(11,Int32Array.from([6,30,54]),new V(20,new O(4,81)),new V(30,new O(1,50),new O(4,51)),new V(28,new O(4,22),new O(4,23)),new V(24,new O(3,12),new O(8,13))),new _e(12,Int32Array.from([6,32,58]),new V(24,new O(2,92),new O(2,93)),new V(22,new O(6,36),new O(2,37)),new V(26,new O(4,20),new O(6,21)),new V(28,new O(7,14),new O(4,15))),new _e(13,Int32Array.from([6,34,62]),new V(26,new O(4,107)),new V(22,new O(8,37),new O(1,38)),new V(24,new O(8,20),new O(4,21)),new V(22,new O(12,11),new O(4,12))),new _e(14,Int32Array.from([6,26,46,66]),new V(30,new O(3,115),new O(1,116)),new V(24,new O(4,40),new O(5,41)),new V(20,new O(11,16),new O(5,17)),new V(24,new O(11,12),new O(5,13))),new _e(15,Int32Array.from([6,26,48,70]),new V(22,new O(5,87),new O(1,88)),new V(24,new O(5,41),new O(5,42)),new V(30,new O(5,24),new O(7,25)),new V(24,new O(11,12),new O(7,13))),new _e(16,Int32Array.from([6,26,50,74]),new V(24,new O(5,98),new O(1,99)),new V(28,new O(7,45),new O(3,46)),new V(24,new O(15,19),new O(2,20)),new V(30,new O(3,15),new O(13,16))),new _e(17,Int32Array.from([6,30,54,78]),new V(28,new O(1,107),new O(5,108)),new V(28,new O(10,46),new O(1,47)),new V(28,new O(1,22),new O(15,23)),new V(28,new O(2,14),new O(17,15))),new _e(18,Int32Array.from([6,30,56,82]),new V(30,new O(5,120),new O(1,121)),new V(26,new O(9,43),new O(4,44)),new V(28,new O(17,22),new O(1,23)),new V(28,new O(2,14),new O(19,15))),new _e(19,Int32Array.from([6,30,58,86]),new V(28,new O(3,113),new O(4,114)),new V(26,new O(3,44),new O(11,45)),new V(26,new O(17,21),new O(4,22)),new V(26,new O(9,13),new O(16,14))),new _e(20,Int32Array.from([6,34,62,90]),new V(28,new O(3,107),new O(5,108)),new V(26,new O(3,41),new O(13,42)),new V(30,new O(15,24),new O(5,25)),new V(28,new O(15,15),new O(10,16))),new _e(21,Int32Array.from([6,28,50,72,94]),new V(28,new O(4,116),new O(4,117)),new V(26,new O(17,42)),new V(28,new O(17,22),new O(6,23)),new V(30,new O(19,16),new O(6,17))),new _e(22,Int32Array.from([6,26,50,74,98]),new V(28,new O(2,111),new O(7,112)),new V(28,new O(17,46)),new V(30,new O(7,24),new O(16,25)),new V(24,new O(34,13))),new _e(23,Int32Array.from([6,30,54,78,102]),new V(30,new O(4,121),new O(5,122)),new V(28,new O(4,47),new O(14,48)),new V(30,new O(11,24),new O(14,25)),new V(30,new O(16,15),new O(14,16))),new _e(24,Int32Array.from([6,28,54,80,106]),new V(30,new O(6,117),new O(4,118)),new V(28,new O(6,45),new O(14,46)),new V(30,new O(11,24),new O(16,25)),new V(30,new O(30,16),new O(2,17))),new _e(25,Int32Array.from([6,32,58,84,110]),new V(26,new O(8,106),new O(4,107)),new V(28,new O(8,47),new O(13,48)),new V(30,new O(7,24),new O(22,25)),new V(30,new O(22,15),new O(13,16))),new _e(26,Int32Array.from([6,30,58,86,114]),new V(28,new O(10,114),new O(2,115)),new V(28,new O(19,46),new O(4,47)),new V(28,new O(28,22),new O(6,23)),new V(30,new O(33,16),new O(4,17))),new _e(27,Int32Array.from([6,34,62,90,118]),new V(30,new O(8,122),new O(4,123)),new V(28,new O(22,45),new O(3,46)),new V(30,new O(8,23),new O(26,24)),new V(30,new O(12,15),new O(28,16))),new _e(28,Int32Array.from([6,26,50,74,98,122]),new V(30,new O(3,117),new O(10,118)),new V(28,new O(3,45),new O(23,46)),new V(30,new O(4,24),new O(31,25)),new V(30,new O(11,15),new O(31,16))),new _e(29,Int32Array.from([6,30,54,78,102,126]),new V(30,new O(7,116),new O(7,117)),new V(28,new O(21,45),new O(7,46)),new V(30,new O(1,23),new O(37,24)),new V(30,new O(19,15),new O(26,16))),new _e(30,Int32Array.from([6,26,52,78,104,130]),new V(30,new O(5,115),new O(10,116)),new V(28,new O(19,47),new O(10,48)),new V(30,new O(15,24),new O(25,25)),new V(30,new O(23,15),new O(25,16))),new _e(31,Int32Array.from([6,30,56,82,108,134]),new V(30,new O(13,115),new O(3,116)),new V(28,new O(2,46),new O(29,47)),new V(30,new O(42,24),new O(1,25)),new V(30,new O(23,15),new O(28,16))),new _e(32,Int32Array.from([6,34,60,86,112,138]),new V(30,new O(17,115)),new V(28,new O(10,46),new O(23,47)),new V(30,new O(10,24),new O(35,25)),new V(30,new O(19,15),new O(35,16))),new _e(33,Int32Array.from([6,30,58,86,114,142]),new V(30,new O(17,115),new O(1,116)),new V(28,new O(14,46),new O(21,47)),new V(30,new O(29,24),new O(19,25)),new V(30,new O(11,15),new O(46,16))),new _e(34,Int32Array.from([6,34,62,90,118,146]),new V(30,new O(13,115),new O(6,116)),new V(28,new O(14,46),new O(23,47)),new V(30,new O(44,24),new O(7,25)),new V(30,new O(59,16),new O(1,17))),new _e(35,Int32Array.from([6,30,54,78,102,126,150]),new V(30,new O(12,121),new O(7,122)),new V(28,new O(12,47),new O(26,48)),new V(30,new O(39,24),new O(14,25)),new V(30,new O(22,15),new O(41,16))),new _e(36,Int32Array.from([6,24,50,76,102,128,154]),new V(30,new O(6,121),new O(14,122)),new V(28,new O(6,47),new O(34,48)),new V(30,new O(46,24),new O(10,25)),new V(30,new O(2,15),new O(64,16))),new _e(37,Int32Array.from([6,28,54,80,106,132,158]),new V(30,new O(17,122),new O(4,123)),new V(28,new O(29,46),new O(14,47)),new V(30,new O(49,24),new O(10,25)),new V(30,new O(24,15),new O(46,16))),new _e(38,Int32Array.from([6,32,58,84,110,136,162]),new V(30,new O(4,122),new O(18,123)),new V(28,new O(13,46),new O(32,47)),new V(30,new O(48,24),new O(14,25)),new V(30,new O(42,15),new O(32,16))),new _e(39,Int32Array.from([6,26,54,82,110,138,166]),new V(30,new O(20,117),new O(4,118)),new V(28,new O(40,47),new O(7,48)),new V(30,new O(43,24),new O(22,25)),new V(30,new O(10,15),new O(67,16))),new _e(40,Int32Array.from([6,30,58,86,114,142,170]),new V(30,new O(19,118),new O(6,119)),new V(28,new O(18,47),new O(31,48)),new V(30,new O(34,24),new O(34,25)),new V(30,new O(20,15),new O(61,16)))];var Kt;(function(S){S[S.DATA_MASK_000=0]="DATA_MASK_000",S[S.DATA_MASK_001=1]="DATA_MASK_001",S[S.DATA_MASK_010=2]="DATA_MASK_010",S[S.DATA_MASK_011=3]="DATA_MASK_011",S[S.DATA_MASK_100=4]="DATA_MASK_100",S[S.DATA_MASK_101=5]="DATA_MASK_101",S[S.DATA_MASK_110=6]="DATA_MASK_110",S[S.DATA_MASK_111=7]="DATA_MASK_111"})(Kt||(Kt={}));class cn{constructor(t,i){this.value=t,this.isMasked=i}unmaskBitMatrix(t,i){for(let r=0;r<i;r++)for(let l=0;l<i;l++)this.isMasked(r,l)&&t.flip(l,r)}}cn.values=new Map([[Kt.DATA_MASK_000,new cn(Kt.DATA_MASK_000,(S,t)=>(S+t&1)===0)],[Kt.DATA_MASK_001,new cn(Kt.DATA_MASK_001,(S,t)=>(S&1)===0)],[Kt.DATA_MASK_010,new cn(Kt.DATA_MASK_010,(S,t)=>t%3===0)],[Kt.DATA_MASK_011,new cn(Kt.DATA_MASK_011,(S,t)=>(S+t)%3===0)],[Kt.DATA_MASK_100,new cn(Kt.DATA_MASK_100,(S,t)=>(Math.floor(S/2)+Math.floor(t/3)&1)===0)],[Kt.DATA_MASK_101,new cn(Kt.DATA_MASK_101,(S,t)=>S*t%6===0)],[Kt.DATA_MASK_110,new cn(Kt.DATA_MASK_110,(S,t)=>S*t%6<3)],[Kt.DATA_MASK_111,new cn(Kt.DATA_MASK_111,(S,t)=>(S+t+S*t%3&1)===0)]]);class Wo{constructor(t){const i=t.getHeight();if(i<21||(i&3)!==1)throw new le;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let s=0;s<6;s++)t=this.copyBit(s,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let s=5;s>=0;s--)t=this.copyBit(8,s,t);const i=this.bitMatrix.getHeight();let r=0;const l=i-7;for(let s=i-1;s>=l;s--)r=this.copyBit(8,s,r);for(let s=i-8;s<i;s++)r=this.copyBit(s,8,r);if(this.parsedFormatInfo=un.decodeFormatInformation(t,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new le}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),i=Math.floor((t-17)/4);if(i<=6)return _e.getVersionForNumber(i);let r=0;const l=t-11;for(let u=5;u>=0;u--)for(let c=t-9;c>=l;c--)r=this.copyBit(c,u,r);let s=_e.decodeVersionInformation(r);if(s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;r=0;for(let u=5;u>=0;u--)for(let c=t-9;c>=l;c--)r=this.copyBit(u,c,r);if(s=_e.decodeVersionInformation(r),s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;throw new le}copyBit(t,i,r){return(this.isMirror?this.bitMatrix.get(i,t):this.bitMatrix.get(t,i))?r<<1|1:r<<1}readCodewords(){const t=this.readFormatInformation(),i=this.readVersion(),r=cn.values.get(t.getDataMask()),l=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,l);const s=i.buildFunctionPattern();let u=!0;const c=new Uint8Array(i.getTotalCodewords());let h=0,m=0,w=0;for(let v=l-1;v>0;v-=2){v===6&&v--;for(let T=0;T<l;T++){const I=u?l-1-T:T;for(let B=0;B<2;B++)s.get(v-B,I)||(w++,m<<=1,this.bitMatrix.get(v-B,I)&&(m|=1),w===8&&(c[h++]=m,w=0,m=0))}u=!u}if(h!==i.getTotalCodewords())throw new le;return c}remask(){if(this.parsedFormatInfo===null)return;const t=cn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,i)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let i=0,r=t.getWidth();i<r;i++)for(let l=i+1,s=t.getHeight();l<s;l++)t.get(i,l)!==t.get(l,i)&&(t.flip(l,i),t.flip(i,l))}}class Oa{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i,r){if(t.length!==i.getTotalCodewords())throw new P;const l=i.getECBlocksForLevel(r);let s=0;const u=l.getECBlocks();for(const B of u)s+=B.getCount();const c=new Array(s);let h=0;for(const B of u)for(let F=0;F<B.getCount();F++){const G=B.getDataCodewords(),Z=l.getECCodewordsPerBlock()+G;c[h++]=new Oa(G,new Uint8Array(Z))}const m=c[0].codewords.length;let w=c.length-1;for(;w>=0&&c[w].codewords.length!==m;)w--;w++;const v=m-l.getECCodewordsPerBlock();let T=0;for(let B=0;B<v;B++)for(let F=0;F<h;F++)c[F].codewords[B]=t[T++];for(let B=w;B<h;B++)c[B].codewords[v]=t[T++];const I=c[0].codewords.length;for(let B=v;B<I;B++)for(let F=0;F<h;F++){const G=F<w?B:B+1;c[F].codewords[G]=t[T++]}return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var kn;(function(S){S[S.TERMINATOR=0]="TERMINATOR",S[S.NUMERIC=1]="NUMERIC",S[S.ALPHANUMERIC=2]="ALPHANUMERIC",S[S.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",S[S.BYTE=4]="BYTE",S[S.ECI=5]="ECI",S[S.KANJI=6]="KANJI",S[S.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",S[S.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",S[S.HANZI=9]="HANZI"})(kn||(kn={}));class De{constructor(t,i,r,l){this.value=t,this.stringValue=i,this.characterCountBitsForVersions=r,this.bits=l,De.FOR_BITS.set(l,this),De.FOR_VALUE.set(t,this)}static forBits(t){const i=De.FOR_BITS.get(t);if(i===void 0)throw new P;return i}getCharacterCountBits(t){const i=t.getVersionNumber();let r;return i<=9?r=0:i<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof De))return!1;const i=t;return this.value===i.value}toString(){return this.stringValue}}De.FOR_BITS=new Map,De.FOR_VALUE=new Map,De.TERMINATOR=new De(kn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),De.NUMERIC=new De(kn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),De.ALPHANUMERIC=new De(kn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),De.STRUCTURED_APPEND=new De(kn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),De.BYTE=new De(kn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),De.ECI=new De(kn.ECI,"ECI",Int32Array.from([0,0,0]),7),De.KANJI=new De(kn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),De.FNC1_FIRST_POSITION=new De(kn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),De.FNC1_SECOND_POSITION=new De(kn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),De.HANZI=new De(kn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Lt{static decode(t,i,r,l){const s=new On(t);let u=new Ze;const c=new Array;let h=-1,m=-1;try{let w=null,v=!1,T;do{if(s.available()<4)T=De.TERMINATOR;else{const I=s.readBits(4);T=De.forBits(I)}switch(T){case De.TERMINATOR:break;case De.FNC1_FIRST_POSITION:case De.FNC1_SECOND_POSITION:v=!0;break;case De.STRUCTURED_APPEND:if(s.available()<16)throw new le;h=s.readBits(8),m=s.readBits(8);break;case De.ECI:const I=Lt.parseECIValue(s);if(w=$.getCharacterSetECIByValue(I),w===null)throw new le;break;case De.HANZI:const B=s.readBits(4),F=s.readBits(T.getCharacterCountBits(i));B===Lt.GB2312_SUBSET&&Lt.decodeHanziSegment(s,u,F);break;default:const G=s.readBits(T.getCharacterCountBits(i));switch(T){case De.NUMERIC:Lt.decodeNumericSegment(s,u,G);break;case De.ALPHANUMERIC:Lt.decodeAlphanumericSegment(s,u,G,v);break;case De.BYTE:Lt.decodeByteSegment(s,u,G,w,c,l);break;case De.KANJI:Lt.decodeKanjiSegment(s,u,G);break;default:throw new le}break}}while(T!==De.TERMINATOR)}catch{throw new le}return new Pn(t,u.toString(),c.length===0?null:c,r===null?null:r.toString(),h,m)}static decodeHanziSegment(t,i,r){if(r*13>t.available())throw new le;const l=new Uint8Array(2*r);let s=0;for(;r>0;){const u=t.readBits(13);let c=u/96<<8&4294967295|u%96;c<959?c+=41377:c+=42657,l[s]=c>>8&255,l[s+1]=c&255,s+=2,r--}try{i.append(je.decode(l,Ce.GB2312))}catch(u){throw new le(u)}}static decodeKanjiSegment(t,i,r){if(r*13>t.available())throw new le;const l=new Uint8Array(2*r);let s=0;for(;r>0;){const u=t.readBits(13);let c=u/192<<8&4294967295|u%192;c<7936?c+=33088:c+=49472,l[s]=c>>8,l[s+1]=c,s+=2,r--}try{i.append(je.decode(l,Ce.SHIFT_JIS))}catch(u){throw new le(u)}}static decodeByteSegment(t,i,r,l,s,u){if(8*r>t.available())throw new le;const c=new Uint8Array(r);for(let m=0;m<r;m++)c[m]=t.readBits(8);let h;l===null?h=Ce.guessEncoding(c,u):h=l.getName();try{i.append(je.decode(c,h))}catch(m){throw new le(m)}s.push(c)}static toAlphaNumericChar(t){if(t>=Lt.ALPHANUMERIC_CHARS.length)throw new le;return Lt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,i,r,l){const s=i.length();for(;r>1;){if(t.available()<11)throw new le;const u=t.readBits(11);i.append(Lt.toAlphaNumericChar(Math.floor(u/45))),i.append(Lt.toAlphaNumericChar(u%45)),r-=2}if(r===1){if(t.available()<6)throw new le;i.append(Lt.toAlphaNumericChar(t.readBits(6)))}if(l)for(let u=s;u<i.length();u++)i.charAt(u)==="%"&&(u<i.length()-1&&i.charAt(u+1)==="%"?i.deleteCharAt(u+1):i.setCharAt(u,""))}static decodeNumericSegment(t,i,r){for(;r>=3;){if(t.available()<10)throw new le;const l=t.readBits(10);if(l>=1e3)throw new le;i.append(Lt.toAlphaNumericChar(Math.floor(l/100))),i.append(Lt.toAlphaNumericChar(Math.floor(l/10)%10)),i.append(Lt.toAlphaNumericChar(l%10)),r-=3}if(r===2){if(t.available()<7)throw new le;const l=t.readBits(7);if(l>=100)throw new le;i.append(Lt.toAlphaNumericChar(Math.floor(l/10))),i.append(Lt.toAlphaNumericChar(l%10))}else if(r===1){if(t.available()<4)throw new le;const l=t.readBits(4);if(l>=10)throw new le;i.append(Lt.toAlphaNumericChar(l))}}static parseECIValue(t){const i=t.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const r=t.readBits(8);return(i&63)<<8&4294967295|r}if((i&224)===192){const r=t.readBits(16);return(i&31)<<16&4294967295|r}throw new le}}Lt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Lt.GB2312_SUBSET=1;class Ns{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const i=t[0];t[0]=t[2],t[2]=i}}class _a{constructor(){this.rsDecoder=new qr(lt.QR_CODE_FIELD_256)}decodeBooleanArray(t,i){return this.decodeBitMatrix(ut.parseFromBooleanArray(t),i)}decodeBitMatrix(t,i){const r=new Wo(t);let l=null;try{return this.decodeBitMatrixParser(r,i)}catch(s){l=s}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const s=this.decodeBitMatrixParser(r,i);return s.setOther(new Ns(!0)),s}catch(s){throw l!==null?l:s}}decodeBitMatrixParser(t,i){const r=t.readVersion(),l=t.readFormatInformation().getErrorCorrectionLevel(),s=t.readCodewords(),u=Oa.getDataBlocks(s,r,l);let c=0;for(const w of u)c+=w.getNumDataCodewords();const h=new Uint8Array(c);let m=0;for(const w of u){const v=w.getCodewords(),T=w.getNumDataCodewords();this.correctErrors(v,T);for(let I=0;I<T;I++)h[m++]=v[I]}return Lt.decode(h,r,l,i)}correctErrors(t,i){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-i)}catch{throw new ye}for(let l=0;l<i;l++)t[l]=r[l]}}class $r extends Ne{constructor(t,i,r){super(t,i),this.estimatedModuleSize=r}aboutEquals(t,i,r){if(Math.abs(i-this.getY())<=t&&Math.abs(r-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,i,r){const l=(this.getX()+i)/2,s=(this.getY()+t)/2,u=(this.estimatedModuleSize+r)/2;return new $r(l,s,u)}}class xr{constructor(t,i,r,l,s,u,c){this.image=t,this.startX=i,this.startY=r,this.width=l,this.height=s,this.moduleSize=u,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,i=this.height,r=this.width,l=t+r,s=this.startY+i/2,u=new Int32Array(3),c=this.image;for(let h=0;h<i;h++){const m=s+((h&1)===0?Math.floor((h+1)/2):-Math.floor((h+1)/2));u[0]=0,u[1]=0,u[2]=0;let w=t;for(;w<l&&!c.get(w,m);)w++;let v=0;for(;w<l;){if(c.get(w,m))if(v===1)u[1]++;else if(v===2){if(this.foundPatternCross(u)){const T=this.handlePossibleCenter(u,m,w);if(T!==null)return T}u[0]=u[2],u[1]=1,u[2]=0,v=1}else u[++v]++;else v===1&&v++,u[v]++;w++}if(this.foundPatternCross(u)){const T=this.handlePossibleCenter(u,m,l);if(T!==null)return T}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new q}static centerFromEnd(t,i){return i-t[2]-t[1]/2}foundPatternCross(t){const i=this.moduleSize,r=i/2;for(let l=0;l<3;l++)if(Math.abs(i-t[l])>=r)return!1;return!0}crossCheckVertical(t,i,r,l){const s=this.image,u=s.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;let h=t;for(;h>=0&&s.get(i,h)&&c[1]<=r;)c[1]++,h--;if(h<0||c[1]>r)return NaN;for(;h>=0&&!s.get(i,h)&&c[0]<=r;)c[0]++,h--;if(c[0]>r)return NaN;for(h=t+1;h<u&&s.get(i,h)&&c[1]<=r;)c[1]++,h++;if(h===u||c[1]>r)return NaN;for(;h<u&&!s.get(i,h)&&c[2]<=r;)c[2]++,h++;if(c[2]>r)return NaN;const m=c[0]+c[1]+c[2];return 5*Math.abs(m-l)>=2*l?NaN:this.foundPatternCross(c)?xr.centerFromEnd(c,h):NaN}handlePossibleCenter(t,i,r){const l=t[0]+t[1]+t[2],s=xr.centerFromEnd(t,r),u=this.crossCheckVertical(i,s,2*t[1],l);if(!isNaN(u)){const c=(t[0]+t[1]+t[2])/3;for(const m of this.possibleCenters)if(m.aboutEquals(c,u,s))return m.combineEstimate(u,s,c);const h=new $r(s,u,c);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class Ni extends Ne{constructor(t,i,r,l){super(t,i),this.estimatedModuleSize=r,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,i,r){if(Math.abs(i-this.getY())<=t&&Math.abs(r-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,i,r){const l=this.count+1,s=(this.count*this.getX()+i)/l,u=(this.count*this.getY()+t)/l,c=(this.count*this.estimatedModuleSize+r)/l;return new Ni(s,u,c,l)}}class mr{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Qt{constructor(t,i){this.image=t,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const i=t!=null&&t.get(ke.TRY_HARDER)!==void 0,r=t!=null&&t.get(ke.PURE_BARCODE)!==void 0,l=this.image,s=l.getHeight(),u=l.getWidth();let c=Math.floor(3*s/(4*Qt.MAX_MODULES));(c<Qt.MIN_SKIP||i)&&(c=Qt.MIN_SKIP);let h=!1;const m=new Int32Array(5);for(let v=c-1;v<s&&!h;v+=c){m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0;let T=0;for(let I=0;I<u;I++)if(l.get(I,v))(T&1)===1&&T++,m[T]++;else if((T&1)===0)if(T===4)if(Qt.foundPatternCross(m)){if(this.handlePossibleCenter(m,v,I,r)===!0)if(c=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const F=this.findRowSkip();F>m[2]&&(v+=F-m[2]-c,I=u-1)}else{m[0]=m[2],m[1]=m[3],m[2]=m[4],m[3]=1,m[4]=0,T=3;continue}T=0,m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0}else m[0]=m[2],m[1]=m[3],m[2]=m[4],m[3]=1,m[4]=0,T=3;else m[++T]++;else m[T]++;Qt.foundPatternCross(m)&&this.handlePossibleCenter(m,v,u,r)===!0&&(c=m[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return Ne.orderBestPatterns(w),new mr(w)}static centerFromEnd(t,i){return i-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let i=0;for(let s=0;s<5;s++){const u=t[s];if(u===0)return!1;i+=u}if(i<7)return!1;const r=i/7,l=r/2;return Math.abs(r-t[0])<l&&Math.abs(r-t[1])<l&&Math.abs(3*r-t[2])<3*l&&Math.abs(r-t[3])<l&&Math.abs(r-t[4])<l}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,i,r,l){const s=this.getCrossCheckStateCount();let u=0;const c=this.image;for(;t>=u&&i>=u&&c.get(i-u,t-u);)s[2]++,u++;if(t<u||i<u)return!1;for(;t>=u&&i>=u&&!c.get(i-u,t-u)&&s[1]<=r;)s[1]++,u++;if(t<u||i<u||s[1]>r)return!1;for(;t>=u&&i>=u&&c.get(i-u,t-u)&&s[0]<=r;)s[0]++,u++;if(s[0]>r)return!1;const h=c.getHeight(),m=c.getWidth();for(u=1;t+u<h&&i+u<m&&c.get(i+u,t+u);)s[2]++,u++;if(t+u>=h||i+u>=m)return!1;for(;t+u<h&&i+u<m&&!c.get(i+u,t+u)&&s[3]<r;)s[3]++,u++;if(t+u>=h||i+u>=m||s[3]>=r)return!1;for(;t+u<h&&i+u<m&&c.get(i+u,t+u)&&s[4]<r;)s[4]++,u++;if(s[4]>=r)return!1;const w=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(w-l)<2*l&&Qt.foundPatternCross(s)}crossCheckVertical(t,i,r,l){const s=this.image,u=s.getHeight(),c=this.getCrossCheckStateCount();let h=t;for(;h>=0&&s.get(i,h);)c[2]++,h--;if(h<0)return NaN;for(;h>=0&&!s.get(i,h)&&c[1]<=r;)c[1]++,h--;if(h<0||c[1]>r)return NaN;for(;h>=0&&s.get(i,h)&&c[0]<=r;)c[0]++,h--;if(c[0]>r)return NaN;for(h=t+1;h<u&&s.get(i,h);)c[2]++,h++;if(h===u)return NaN;for(;h<u&&!s.get(i,h)&&c[3]<r;)c[3]++,h++;if(h===u||c[3]>=r)return NaN;for(;h<u&&s.get(i,h)&&c[4]<r;)c[4]++,h++;if(c[4]>=r)return NaN;const m=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(m-l)>=2*l?NaN:Qt.foundPatternCross(c)?Qt.centerFromEnd(c,h):NaN}crossCheckHorizontal(t,i,r,l){const s=this.image,u=s.getWidth(),c=this.getCrossCheckStateCount();let h=t;for(;h>=0&&s.get(h,i);)c[2]++,h--;if(h<0)return NaN;for(;h>=0&&!s.get(h,i)&&c[1]<=r;)c[1]++,h--;if(h<0||c[1]>r)return NaN;for(;h>=0&&s.get(h,i)&&c[0]<=r;)c[0]++,h--;if(c[0]>r)return NaN;for(h=t+1;h<u&&s.get(h,i);)c[2]++,h++;if(h===u)return NaN;for(;h<u&&!s.get(h,i)&&c[3]<r;)c[3]++,h++;if(h===u||c[3]>=r)return NaN;for(;h<u&&s.get(h,i)&&c[4]<r;)c[4]++,h++;if(c[4]>=r)return NaN;const m=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(m-l)>=l?NaN:Qt.foundPatternCross(c)?Qt.centerFromEnd(c,h):NaN}handlePossibleCenter(t,i,r,l){const s=t[0]+t[1]+t[2]+t[3]+t[4];let u=Qt.centerFromEnd(t,r),c=this.crossCheckVertical(i,Math.floor(u),t[2],s);if(!isNaN(c)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(c),t[2],s),!isNaN(u)&&(!l||this.crossCheckDiagonal(Math.floor(c),Math.floor(u),t[2],s)))){const h=s/7;let m=!1;const w=this.possibleCenters;for(let v=0,T=w.length;v<T;v++){const I=w[v];if(I.aboutEquals(h,c,u)){w[v]=I.combineEstimate(c,u,h),m=!0;break}}if(!m){const v=new Ni(u,c,h);w.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const r of this.possibleCenters)if(r.getCount()>=Qt.CENTER_QUORUM)if(i==null)i=r;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-r.getX())-Math.abs(i.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,i=0;const r=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=Qt.CENTER_QUORUM&&(t++,i+=u.getEstimatedModuleSize());if(t<3)return!1;const l=i/r;let s=0;for(const u of this.possibleCenters)s+=Math.abs(u.getEstimatedModuleSize()-l);return s<=.05*i}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new q;const i=this.possibleCenters;let r;if(t>3){let l=0,s=0;for(const h of this.possibleCenters){const m=h.getEstimatedModuleSize();l+=m,s+=m*m}r=l/t;let u=Math.sqrt(s/t-r*r);i.sort((h,m)=>{const w=Math.abs(m.getEstimatedModuleSize()-r),v=Math.abs(h.getEstimatedModuleSize()-r);return w<v?-1:w>v?1:0});const c=Math.max(.2*r,u);for(let h=0;h<i.length&&i.length>3;h++){const m=i[h];Math.abs(m.getEstimatedModuleSize()-r)>c&&(i.splice(h,1),h--)}}if(i.length>3){let l=0;for(const s of i)l+=s.getEstimatedModuleSize();r=l/i.length,i.sort((s,u)=>{if(u.getCount()===s.getCount()){const c=Math.abs(u.getEstimatedModuleSize()-r),h=Math.abs(s.getEstimatedModuleSize()-r);return c<h?1:c>h?-1:0}else return u.getCount()-s.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Qt.CENTER_QUORUM=2,Qt.MIN_SKIP=3,Qt.MAX_MODULES=57;class Yi{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(ke.NEED_RESULT_POINT_CALLBACK);const r=new Qt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(r)}processFinderPatternInfo(t){const i=t.getTopLeft(),r=t.getTopRight(),l=t.getBottomLeft(),s=this.calculateModuleSize(i,r,l);if(s<1)throw new q("No pattern found in proccess finder.");const u=Yi.computeDimension(i,r,l,s),c=_e.getProvisionalVersionForDimension(u),h=c.getDimensionForVersion()-7;let m=null;if(c.getAlignmentPatternCenters().length>0){const I=r.getX()-i.getX()+l.getX(),B=r.getY()-i.getY()+l.getY(),F=1-3/h,G=Math.floor(i.getX()+F*(I-i.getX())),Z=Math.floor(i.getY()+F*(B-i.getY()));for(let fe=4;fe<=16;fe<<=1)try{m=this.findAlignmentInRegion(s,G,Z,fe);break}catch(me){if(!(me instanceof q))throw me}}const w=Yi.createTransform(i,r,l,m,u),v=Yi.sampleGrid(this.image,w,u);let T;return m===null?T=[l,i,r]:T=[l,i,r,m],new ba(v,T)}static createTransform(t,i,r,l,s){const u=s-3.5;let c,h,m,w;return l!==null?(c=l.getX(),h=l.getY(),m=u-3,w=m):(c=i.getX()-t.getX()+r.getX(),h=i.getY()-t.getY()+r.getY(),m=u,w=u),bn.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,m,w,3.5,u,t.getX(),t.getY(),i.getX(),i.getY(),c,h,r.getX(),r.getY())}static sampleGrid(t,i,r){return Cn.getInstance().sampleGridWithTransform(t,r,r,i)}static computeDimension(t,i,r,l){const s=rt.round(Ne.distance(t,i)/l),u=rt.round(Ne.distance(t,r)/l);let c=Math.floor((s+u)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new q("Dimensions could be not found.")}return c}calculateModuleSize(t,i,r){return(this.calculateModuleSizeOneWay(t,i)+this.calculateModuleSizeOneWay(t,r))/2}calculateModuleSizeOneWay(t,i){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(i.getX()),Math.floor(i.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(r)?l/7:isNaN(l)?r/7:(r+l)/14}sizeOfBlackWhiteBlackRunBothWays(t,i,r,l){let s=this.sizeOfBlackWhiteBlackRun(t,i,r,l),u=1,c=t-(r-t);c<0?(u=t/(t-c),c=0):c>=this.image.getWidth()&&(u=(this.image.getWidth()-1-t)/(c-t),c=this.image.getWidth()-1);let h=Math.floor(i-(l-i)*u);return u=1,h<0?(u=i/(i-h),h=0):h>=this.image.getHeight()&&(u=(this.image.getHeight()-1-i)/(h-i),h=this.image.getHeight()-1),c=Math.floor(t+(c-t)*u),s+=this.sizeOfBlackWhiteBlackRun(t,i,c,h),s-1}sizeOfBlackWhiteBlackRun(t,i,r,l){const s=Math.abs(l-i)>Math.abs(r-t);if(s){let I=t;t=i,i=I,I=r,r=l,l=I}const u=Math.abs(r-t),c=Math.abs(l-i);let h=-u/2;const m=t<r?1:-1,w=i<l?1:-1;let v=0;const T=r+m;for(let I=t,B=i;I!==T;I+=m){const F=s?B:I,G=s?I:B;if(v===1===this.image.get(F,G)){if(v===2)return rt.distance(I,B,t,i);v++}if(h+=c,h>0){if(B===l)break;B+=w,h-=u}}return v===2?rt.distance(r+m,l,t,i):NaN}findAlignmentInRegion(t,i,r,l){const s=Math.floor(l*t),u=Math.max(0,i-s),c=Math.min(this.image.getWidth()-1,i+s);if(c-u<t*3)throw new q("Alignment top exceeds estimated module size.");const h=Math.max(0,r-s),m=Math.min(this.image.getHeight()-1,r+s);if(m-h<t*3)throw new q("Alignment bottom exceeds estimated module size.");return new xr(this.image,u,h,c-u,m-h,t,this.resultPointCallback).find()}}class yi{constructor(){this.decoder=new _a}getDecoder(){return this.decoder}decode(t,i){let r,l;if(i!=null&&i.get(ke.PURE_BARCODE)!==void 0){const h=yi.extractPureBits(t.getBlackMatrix());r=this.decoder.decodeBitMatrix(h,i),l=yi.NO_POINTS}else{const h=new Yi(t.getBlackMatrix()).detect(i);r=this.decoder.decodeBitMatrix(h.getBits(),i),l=h.getPoints()}r.getOther()instanceof Ns&&r.getOther().applyMirroredCorrection(l);const s=new ve(r.getText(),r.getRawBytes(),void 0,l,ge.QR_CODE,void 0),u=r.getByteSegments();u!==null&&s.putMetadata(Ye.BYTE_SEGMENTS,u);const c=r.getECLevel();return c!==null&&s.putMetadata(Ye.ERROR_CORRECTION_LEVEL,c),r.hasStructuredAppend()&&(s.putMetadata(Ye.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),s.putMetadata(Ye.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),s}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(i===null||r===null)throw new q;const l=this.moduleSize(i,t);let s=i[1],u=r[1],c=i[0],h=r[0];if(c>=h||s>=u)throw new q;if(u-s!==h-c&&(h=c+(u-s),h>=t.getWidth()))throw new q;const m=Math.round((h-c+1)/l),w=Math.round((u-s+1)/l);if(m<=0||w<=0)throw new q;if(w!==m)throw new q;const v=Math.floor(l/2);s+=v,c+=v;const T=c+Math.floor((m-1)*l)-h;if(T>0){if(T>v)throw new q;c-=T}const I=s+Math.floor((w-1)*l)-u;if(I>0){if(I>v)throw new q;s-=I}const B=new ut(m,w);for(let F=0;F<w;F++){const G=s+Math.floor(F*l);for(let Z=0;Z<m;Z++)t.get(c+Math.floor(Z*l),G)&&B.set(Z,F)}return B}static moduleSize(t,i){const r=i.getHeight(),l=i.getWidth();let s=t[0],u=t[1],c=!0,h=0;for(;s<l&&u<r;){if(c!==i.get(s,u)){if(++h===5)break;c=!c}s++,u++}if(s===l||u===r)throw new q;return(s-t[0])/7}}yi.NO_POINTS=new Array;class Le{PDF417Common(){}static getBitCountSum(t){return rt.sum(t)}static toIntArray(t){if(t==null||!t.length)return Le.EMPTY_INT_ARRAY;const i=new Int32Array(t.length);let r=0;for(const l of t)i[r++]=l;return i}static getCodeword(t){const i=be.binarySearch(Le.SYMBOL_TABLE,t&262143);return i<0?-1:(Le.CODEWORD_TABLE[i]-1)%Le.NUMBER_OF_CODEWORDS}}Le.NUMBER_OF_CODEWORDS=929,Le.MAX_CODEWORDS_IN_BARCODE=Le.NUMBER_OF_CODEWORDS-1,Le.MIN_ROWS_IN_BARCODE=3,Le.MAX_ROWS_IN_BARCODE=90,Le.MODULES_IN_CODEWORD=17,Le.MODULES_IN_STOP_PATTERN=18,Le.BARS_IN_MODULE=8,Le.EMPTY_INT_ARRAY=new Int32Array([]),Le.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Le.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ei{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Ge{static detectMultiple(t,i,r){let l=t.getBlackMatrix(),s=Ge.detect(r,l);return s.length||(l=l.clone(),l.rotate180(),s=Ge.detect(r,l)),new Ei(l,s)}static detect(t,i){const r=new Array;let l=0,s=0,u=!1;for(;l<i.getHeight();){const c=Ge.findVertices(i,l,s);if(c[0]==null&&c[3]==null){if(!u)break;u=!1,s=0;for(const h of r)h[1]!=null&&(l=Math.trunc(Math.max(l,h[1].getY()))),h[3]!=null&&(l=Math.max(l,Math.trunc(h[3].getY())));l+=Ge.ROW_STEP;continue}if(u=!0,r.push(c),!t)break;c[2]!=null?(s=Math.trunc(c[2].getX()),l=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),l=Math.trunc(c[4].getY()))}return r}static findVertices(t,i,r){const l=t.getHeight(),s=t.getWidth(),u=new Array(8);return Ge.copyToResult(u,Ge.findRowsWithPattern(t,l,s,i,r,Ge.START_PATTERN),Ge.INDEXES_START_PATTERN),u[4]!=null&&(r=Math.trunc(u[4].getX()),i=Math.trunc(u[4].getY())),Ge.copyToResult(u,Ge.findRowsWithPattern(t,l,s,i,r,Ge.STOP_PATTERN),Ge.INDEXES_STOP_PATTERN),u}static copyToResult(t,i,r){for(let l=0;l<r.length;l++)t[r[l]]=i[l]}static findRowsWithPattern(t,i,r,l,s,u){const c=new Array(4);let h=!1;const m=new Int32Array(u.length);for(;l<i;l+=Ge.ROW_STEP){let v=Ge.findGuardPattern(t,s,l,r,!1,u,m);if(v!=null){for(;l>0;){const T=Ge.findGuardPattern(t,s,--l,r,!1,u,m);if(T!=null)v=T;else{l++;break}}c[0]=new Ne(v[0],l),c[1]=new Ne(v[1],l),h=!0;break}}let w=l+1;if(h){let v=0,T=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);for(;w<i;w++){const I=Ge.findGuardPattern(t,T[0],w,r,!1,u,m);if(I!=null&&Math.abs(T[0]-I[0])<Ge.MAX_PATTERN_DRIFT&&Math.abs(T[1]-I[1])<Ge.MAX_PATTERN_DRIFT)T=I,v=0;else{if(v>Ge.SKIPPED_ROW_COUNT_MAX)break;v++}}w-=v+1,c[2]=new Ne(T[0],w),c[3]=new Ne(T[1],w)}return w-l<Ge.BARCODE_MIN_HEIGHT&&be.fill(c,null),c}static findGuardPattern(t,i,r,l,s,u,c){be.fillWithin(c,0,c.length,0);let h=i,m=0;for(;t.get(h,r)&&h>0&&m++<Ge.MAX_PIXEL_DRIFT;)h--;let w=h,v=0,T=u.length;for(let I=s;w<l;w++)if(t.get(w,r)!==I)c[v]++;else{if(v===T-1){if(Ge.patternMatchVariance(c,u,Ge.MAX_INDIVIDUAL_VARIANCE)<Ge.MAX_AVG_VARIANCE)return new Int32Array([h,w]);h+=c[0]+c[1],de.arraycopy(c,2,c,0,v-1),c[v-1]=0,c[v]=0,v--}else v++;c[v]=1,I=!I}return v===T-1&&Ge.patternMatchVariance(c,u,Ge.MAX_INDIVIDUAL_VARIANCE)<Ge.MAX_AVG_VARIANCE?new Int32Array([h,w-1]):null}static patternMatchVariance(t,i,r){let l=t.length,s=0,u=0;for(let m=0;m<l;m++)s+=t[m],u+=i[m];if(s<u)return 1/0;let c=s/u;r*=c;let h=0;for(let m=0;m<l;m++){let w=t[m],v=i[m]*c,T=w>v?w-v:v-w;if(T>r)return 1/0;h+=T}return h/s}}Ge.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ge.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ge.MAX_AVG_VARIANCE=.42,Ge.MAX_INDIVIDUAL_VARIANCE=.8,Ge.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ge.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ge.MAX_PIXEL_DRIFT=3,Ge.MAX_PATTERN_DRIFT=5,Ge.SKIPPED_ROW_COUNT_MAX=25,Ge.ROW_STEP=5,Ge.BARCODE_MIN_HEIGHT=10;class zt{constructor(t,i){if(i.length===0)throw new P;this.field=t;let r=i.length;if(r>1&&i[0]===0){let l=1;for(;l<r&&i[l]===0;)l++;l===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-l),de.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let l=0;for(let s of this.coefficients)l=this.field.add(l,s);return l}let i=this.coefficients[0],r=this.coefficients.length;for(let l=1;l<r;l++)i=this.field.add(this.field.multiply(t,i),this.coefficients[l]);return i}add(t){if(!this.field.equals(t.field))throw new P("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,r=t.coefficients;if(i.length>r.length){let u=i;i=r,r=u}let l=new Int32Array(r.length),s=r.length-i.length;de.arraycopy(r,0,l,0,s);for(let u=s;u<r.length;u++)l[u]=this.field.add(i[u-s],r[u]);return new zt(this.field,l)}subtract(t){if(!this.field.equals(t.field))throw new P("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof zt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new P("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new zt(this.field,new Int32Array([0]));let i=this.coefficients,r=i.length,l=t.coefficients,s=l.length,u=new Int32Array(r+s-1);for(let c=0;c<r;c++){let h=i[c];for(let m=0;m<s;m++)u[c+m]=this.field.add(u[c+m],this.field.multiply(h,l[m]))}return new zt(this.field,u)}negative(){let t=this.coefficients.length,i=new Int32Array(t);for(let r=0;r<t;r++)i[r]=this.field.subtract(0,this.coefficients[r]);return new zt(this.field,i)}multiplyScalar(t){if(t===0)return new zt(this.field,new Int32Array([0]));if(t===1)return this;let i=this.coefficients.length,r=new Int32Array(i);for(let l=0;l<i;l++)r[l]=this.field.multiply(this.coefficients[l],t);return new zt(this.field,r)}multiplyByMonomial(t,i){if(t<0)throw new P;if(i===0)return new zt(this.field,new Int32Array([0]));let r=this.coefficients.length,l=new Int32Array(r+t);for(let s=0;s<r;s++)l[s]=this.field.multiply(this.coefficients[s],i);return new zt(this.field,l)}toString(){let t=new Ze;for(let i=this.getDegree();i>=0;i--){let r=this.getCoefficient(i);r!==0&&(r<0?(t.append(" - "),r=-r):t.length()>0&&t.append(" + "),(i===0||r!==1)&&t.append(r),i!==0&&(i===1?t.append("x"):(t.append("x^"),t.append(i))))}return t.toString()}}class Ri{add(t,i){return(t+i)%this.modulus}subtract(t,i){return(this.modulus+t-i)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new P;return this.logTable[t]}inverse(t){if(t===0)throw new gr;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class ea extends Ri{constructor(t,i){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let r=1;for(let l=0;l<t;l++)this.expTable[l]=r,r=r*i%t;for(let l=0;l<t-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new zt(this,new Int32Array([0])),this.one=new zt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new P;if(i===0)return this.zero;let r=new Int32Array(t+1);return r[0]=i,new zt(this,r)}}ea.PDF417_GF=new ea(Le.NUMBER_OF_CODEWORDS,3);class ta{constructor(){this.field=ea.PDF417_GF}decode(t,i,r){let l=new zt(this.field,t),s=new Int32Array(i),u=!1;for(let B=i;B>0;B--){let F=l.evaluateAt(this.field.exp(B));s[i-B]=F,F!==0&&(u=!0)}if(!u)return 0;let c=this.field.getOne();if(r!=null)for(const B of r){let F=this.field.exp(t.length-1-B),G=new zt(this.field,new Int32Array([this.field.subtract(0,F),1]));c=c.multiply(G)}let h=new zt(this.field,s),m=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),h,i),w=m[0],v=m[1],T=this.findErrorLocations(w),I=this.findErrorMagnitudes(v,w,T);for(let B=0;B<T.length;B++){let F=t.length-1-this.field.log(T[B]);if(F<0)throw ye.getChecksumInstance();t[F]=this.field.subtract(t[F],I[B])}return T.length}runEuclideanAlgorithm(t,i,r){if(t.getDegree()<i.getDegree()){let T=t;t=i,i=T}let l=t,s=i,u=this.field.getZero(),c=this.field.getOne();for(;s.getDegree()>=Math.round(r/2);){let T=l,I=u;if(l=s,u=c,l.isZero())throw ye.getChecksumInstance();s=T;let B=this.field.getZero(),F=l.getCoefficient(l.getDegree()),G=this.field.inverse(F);for(;s.getDegree()>=l.getDegree()&&!s.isZero();){let Z=s.getDegree()-l.getDegree(),fe=this.field.multiply(s.getCoefficient(s.getDegree()),G);B=B.add(this.field.buildMonomial(Z,fe)),s=s.subtract(l.multiplyByMonomial(Z,fe))}c=B.multiply(u).subtract(I).negative()}let h=c.getCoefficient(0);if(h===0)throw ye.getChecksumInstance();let m=this.field.inverse(h),w=c.multiply(m),v=s.multiply(m);return[w,v]}findErrorLocations(t){let i=t.getDegree(),r=new Int32Array(i),l=0;for(let s=1;s<this.field.getSize()&&l<i;s++)t.evaluateAt(s)===0&&(r[l]=this.field.inverse(s),l++);if(l!==i)throw ye.getChecksumInstance();return r}findErrorMagnitudes(t,i,r){let l=i.getDegree(),s=new Int32Array(l);for(let m=1;m<=l;m++)s[l-m]=this.field.multiply(m,i.getCoefficient(m));let u=new zt(this.field,s),c=r.length,h=new Int32Array(c);for(let m=0;m<c;m++){let w=this.field.inverse(r[m]),v=this.field.subtract(0,t.evaluateAt(w)),T=this.field.inverse(u.evaluateAt(w));h[m]=this.field.multiply(v,T)}return h}}class Oi{constructor(t,i,r,l,s){t instanceof Oi?this.constructor_2(t):this.constructor_1(t,i,r,l,s)}constructor_1(t,i,r,l,s){const u=i==null||r==null,c=l==null||s==null;if(u&&c)throw new q;u?(i=new Ne(0,l.getY()),r=new Ne(0,s.getY())):c&&(l=new Ne(t.getWidth()-1,i.getY()),s=new Ne(t.getWidth()-1,r.getY())),this.image=t,this.topLeft=i,this.bottomLeft=r,this.topRight=l,this.bottomRight=s,this.minX=Math.trunc(Math.min(i.getX(),r.getX())),this.maxX=Math.trunc(Math.max(l.getX(),s.getX())),this.minY=Math.trunc(Math.min(i.getY(),l.getY())),this.maxY=Math.trunc(Math.max(r.getY(),s.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,i){return t==null?i:i==null?t:new Oi(t.image,t.topLeft,t.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(t,i,r){let l=this.topLeft,s=this.bottomLeft,u=this.topRight,c=this.bottomRight;if(t>0){let h=r?this.topLeft:this.topRight,m=Math.trunc(h.getY()-t);m<0&&(m=0);let w=new Ne(h.getX(),m);r?l=w:u=w}if(i>0){let h=r?this.bottomLeft:this.bottomRight,m=Math.trunc(h.getY()+i);m>=this.image.getHeight()&&(m=this.image.getHeight()-1);let w=new Ne(h.getX(),m);r?s=w:c=w}return new Oi(this.image,l,s,u,c)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ia{constructor(t,i,r,l){this.columnCount=t,this.errorCorrectionLevel=l,this.rowCountUpperPart=i,this.rowCountLowerPart=r,this.rowCount=i+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class _i{constructor(){this.buffer=""}static form(t,i){let r=-1;function l(u,c,h,m,w,v){if(u==="%%")return"%";if(i[++r]===void 0)return;u=m?parseInt(m.substr(1)):void 0;let T=w?parseInt(w.substr(1)):void 0,I;switch(v){case"s":I=i[r];break;case"c":I=i[r][0];break;case"f":I=parseFloat(i[r]).toFixed(u);break;case"p":I=parseFloat(i[r]).toPrecision(u);break;case"e":I=parseFloat(i[r]).toExponential(u);break;case"x":I=parseInt(i[r]).toString(T||16);break;case"d":I=parseFloat(parseInt(i[r],T||10).toPrecision(u)).toFixed(0);break}I=typeof I=="object"?JSON.stringify(I):(+I).toString(T);let B=parseInt(h),F=h&&h[0]+""=="0"?"0":" ";for(;I.length<B;)I=c!==void 0?I+F:F+I;return I}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,l)}format(t,...i){this.buffer+=_i.form(t,i)}toString(){return this.buffer}}class yr{constructor(t){this.boundingBox=new Oi(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let i=this.getCodeword(t);if(i!=null)return i;for(let r=1;r<yr.MAX_NEARBY_DISTANCE;r++){let l=this.imageRowToCodewordIndex(t)-r;if(l>=0&&(i=this.codewords[l],i!=null)||(l=this.imageRowToCodewordIndex(t)+r,l<this.codewords.length&&(i=this.codewords[l],i!=null)))return i}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,i){this.codewords[this.imageRowToCodewordIndex(t)]=i}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new _i;let i=0;for(const r of this.codewords){if(r==null){t.format("%3d:    |   %n",i++);continue}t.format("%3d: %3d|%3d%n",i++,r.getRowNumber(),r.getValue())}return t.toString()}}yr.MAX_NEARBY_DISTANCE=5;class nn{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let i=this.values.get(t);i==null&&(i=0),i++,this.values.set(t,i)}getValue(){let t=-1,i=new Array;for(const[r,l]of this.values.entries()){const s={getKey:()=>r,getValue:()=>l};s.getValue()>t?(t=s.getValue(),i=[],i.push(s.getKey())):s.getValue()===t&&i.push(s.getKey())}return Le.toIntArray(i)}getConfidence(t){return this.values.get(t)}}class Ii extends yr{constructor(t,i){super(t),this._isLeft=i}setRowNumbers(){for(let t of this.getCodewords())t?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,t);let r=this.getBoundingBox(),l=this._isLeft?r.getTopLeft():r.getTopRight(),s=this._isLeft?r.getBottomLeft():r.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),h=-1,m=1,w=0;for(let v=u;v<c;v++){if(i[v]==null)continue;let T=i[v],I=T.getRowNumber()-h;if(I===0)w++;else if(I===1)m=Math.max(m,w),w=1,h=T.getRowNumber();else if(I<0||T.getRowNumber()>=t.getRowCount()||I>v)i[v]=null;else{let B;m>2?B=(m-2)*I:B=I;let F=B>=v;for(let G=1;G<=B&&!F;G++)F=i[v-G]!=null;F?i[v]=null:(h=T.getRowNumber(),w=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let i=new Int32Array(t.getRowCount());for(let r of this.getCodewords())if(r!=null){let l=r.getRowNumber();if(l>=i.length)continue;i[l]++}return i}adjustIncompleteIndicatorColumnRowNumbers(t){let i=this.getBoundingBox(),r=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(r.getY())),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),c=this.getCodewords(),h=-1;for(let m=s;m<u;m++){if(c[m]==null)continue;let w=c[m];w.setRowNumberAsRowIndicatorColumn();let v=w.getRowNumber()-h;v===0||(v===1?h=w.getRowNumber():w.getRowNumber()>=t.getRowCount()?c[m]=null:h=w.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),i=new nn,r=new nn,l=new nn,s=new nn;for(let c of t){if(c==null)continue;c.setRowNumberAsRowIndicatorColumn();let h=c.getValue()%30,m=c.getRowNumber();switch(this._isLeft||(m+=2),m%3){case 0:r.setValue(h*3+1);break;case 1:s.setValue(h/3),l.setValue(h%3);break;case 2:i.setValue(h+1);break}}if(i.getValue().length===0||r.getValue().length===0||l.getValue().length===0||s.getValue().length===0||i.getValue()[0]<1||r.getValue()[0]+l.getValue()[0]<Le.MIN_ROWS_IN_BARCODE||r.getValue()[0]+l.getValue()[0]>Le.MAX_ROWS_IN_BARCODE)return null;let u=new Ia(i.getValue()[0],r.getValue()[0],l.getValue()[0],s.getValue()[0]);return this.removeIncorrectCodewords(t,u),u}removeIncorrectCodewords(t,i){for(let r=0;r<t.length;r++){let l=t[r];if(t[r]==null)continue;let s=l.getValue()%30,u=l.getRowNumber();if(u>i.getRowCount()){t[r]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:s*3+1!==i.getRowCountUpperPart()&&(t[r]=null);break;case 1:(Math.trunc(s/3)!==i.getErrorCorrectionLevel()||s%3!==i.getRowCountLowerPart())&&(t[r]=null);break;case 2:s+1!==i.getColumnCount()&&(t[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Di{constructor(t,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Le.MAX_CODEWORDS_IN_BARCODE,i;do i=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let r=this.detectionResultColumns[i].getCodewords();for(let l=0;l<r.length;l++)r[l]!=null&&(r[l].hasValidRowNumber()||this.adjustRowNumbers(i,l,r))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++)if(t[r]!=null&&i[r]!=null&&t[r].getRowNumber()===i[r].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let s=this.detectionResultColumns[l].getCodewords()[r];s!=null&&(s.setRowNumber(t[r].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<i.length;r++){if(i[r]==null)continue;let l=i[r].getRowNumber(),s=0;for(let u=this.barcodeColumnCount+1;u>0&&s<this.ADJUST_ROW_NUMBER_SKIP;u--){let c=this.detectionResultColumns[u].getCodewords()[r];c!=null&&(s=Di.adjustRowNumberIfValid(l,s,c),c.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,i=this.detectionResultColumns[0].getCodewords();for(let r=0;r<i.length;r++){if(i[r]==null)continue;let l=i[r].getRowNumber(),s=0;for(let u=1;u<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;u++){let c=this.detectionResultColumns[u].getCodewords()[r];c!=null&&(s=Di.adjustRowNumberIfValid(l,s,c),c.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,i,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(t)?(r.setRowNumber(t),i=0):++i),i}adjustRowNumbers(t,i,r){if(!this.detectionResultColumns[t-1])return;let l=r[i],s=this.detectionResultColumns[t-1].getCodewords(),u=s;this.detectionResultColumns[t+1]!=null&&(u=this.detectionResultColumns[t+1].getCodewords());let c=new Array(14);c[2]=s[i],c[3]=u[i],i>0&&(c[0]=r[i-1],c[4]=s[i-1],c[5]=u[i-1]),i>1&&(c[8]=r[i-2],c[10]=s[i-2],c[11]=u[i-2]),i<r.length-1&&(c[1]=r[i+1],c[6]=s[i+1],c[7]=u[i+1]),i<r.length-2&&(c[9]=r[i+2],c[12]=s[i+2],c[13]=u[i+2]);for(let h of c)if(Di.adjustRowNumber(l,h))return}static adjustRowNumber(t,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===t.getBucket()?(t.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,i){this.detectionResultColumns[t]=i}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new _i;for(let r=0;r<t.getCodewords().length;r++){i.format("CW %3d:",r);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){i.format("    |   ");continue}let s=this.detectionResultColumns[l].getCodewords()[r];if(s==null){i.format("    |   ");continue}i.format(" %3d|%3d",s.getRowNumber(),s.getValue())}i.format("%n")}return i.toString()}}class wi{constructor(t,i,r,l){this.rowNumber=wi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(i),this.bucket=Math.trunc(r),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==wi.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}wi.BARCODE_ROW_UNKNOWN=-1;class _n{static initialize(){for(let t=0;t<Le.SYMBOL_TABLE.length;t++){let i=Le.SYMBOL_TABLE[t],r=i&1;for(let l=0;l<Le.BARS_IN_MODULE;l++){let s=0;for(;(i&1)===r;)s+=1,i>>=1;r=i&1,_n.RATIOS_TABLE[t]||(_n.RATIOS_TABLE[t]=new Array(Le.BARS_IN_MODULE)),_n.RATIOS_TABLE[t][Le.BARS_IN_MODULE-l-1]=Math.fround(s/Le.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let i=_n.getDecodedCodewordValue(_n.sampleBitCounts(t));return i!==-1?i:_n.getClosestDecodedValue(t)}static sampleBitCounts(t){let i=rt.sum(t),r=new Int32Array(Le.BARS_IN_MODULE),l=0,s=0;for(let u=0;u<Le.MODULES_IN_CODEWORD;u++){let c=i/(2*Le.MODULES_IN_CODEWORD)+u*i/Le.MODULES_IN_CODEWORD;s+t[l]<=c&&(s+=t[l],l++),r[l]++}return r}static getDecodedCodewordValue(t){let i=_n.getBitValue(t);return Le.getCodeword(i)===-1?-1:i}static getBitValue(t){let i=0;for(let r=0;r<t.length;r++)for(let l=0;l<t[r];l++)i=i<<1|(r%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(t){let i=rt.sum(t),r=new Array(Le.BARS_IN_MODULE);if(i>1)for(let u=0;u<r.length;u++)r[u]=Math.fround(t[u]/i);let l=Wr.MAX_VALUE,s=-1;this.bSymbolTableReady||_n.initialize();for(let u=0;u<_n.RATIOS_TABLE.length;u++){let c=0,h=_n.RATIOS_TABLE[u];for(let m=0;m<Le.BARS_IN_MODULE;m++){let w=Math.fround(h[m]-r[m]);if(c+=Math.fround(w*w),c>=l)break}c<l&&(l=c,s=Le.SYMBOL_TABLE[u])}return s}}_n.bSymbolTableReady=!1,_n.RATIOS_TABLE=new Array(Le.SYMBOL_TABLE.length).map(S=>new Array(Le.BARS_IN_MODULE));class Da{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Ma{static parseLong(t,i=void 0){return parseInt(t,i)}}class Er extends p{}Er.kind="NullPointerException";class Ba{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,i,r){if(t==null)throw new Er;if(i<0||i>t.length||r<0||i+r>t.length||i+r<0)throw new he;if(r===0)return;for(let l=0;l<r;l++)this.write(t[i+l])}flush(){}close(){}}class Rs extends p{}class Ko extends Ba{constructor(t=32){if(super(),this.count=0,t<0)throw new P("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let r=this.buf.length<<1;if(r-t<0&&(r=t),r<0){if(t<0)throw new Rs;r=oe.MAX_VALUE}this.buf=be.copyOfUint8Array(this.buf,r)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,i,r){if(i<0||i>t.length||r<0||i+r-t.length>0)throw new he;this.ensureCapacity(this.count+r),de.arraycopy(t,i,this.buf,this.count,r),this.count+=r}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return be.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var mt;(function(S){S[S.ALPHA=0]="ALPHA",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.PUNCT=3]="PUNCT",S[S.ALPHA_SHIFT=4]="ALPHA_SHIFT",S[S.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(mt||(mt={}));function Os(){if(typeof window<"u")return window.BigInt||null;if(typeof Bo<"u")return Bo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let wr;function Mi(S){if(typeof wr>"u"&&(wr=Os()),wr===null)throw new Error("BigInt is not supported!");return wr(S)}function Qo(){let S=[];S[0]=Mi(1);let t=Mi(900);S[1]=t;for(let i=2;i<16;i++)S[i]=S[i-1]*t;return S}class K{static decode(t,i){let r=new Ze(""),l=$.ISO8859_1;r.enableDecoding(l);let s=1,u=t[s++],c=new Da;for(;s<t[0];){switch(u){case K.TEXT_COMPACTION_MODE_LATCH:s=K.textCompaction(t,s,r);break;case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:s=K.byteCompaction(u,t,l,s,r);break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[s++]);break;case K.NUMERIC_COMPACTION_MODE_LATCH:s=K.numericCompaction(t,s,r);break;case K.ECI_CHARSET:$.getCharacterSetECIByValue(t[s++]);break;case K.ECI_GENERAL_PURPOSE:s+=2;break;case K.ECI_USER_DEFINED:s++;break;case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=K.decodeMacroBlock(t,s,c);break;case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:throw new le;default:s--,s=K.textCompaction(t,s,r);break}if(s<t.length)u=t[s++];else throw le.getFormatInstance()}if(r.length()===0)throw le.getFormatInstance();let h=new Pn(null,r.toString(),null,i);return h.setOther(c),h}static decodeMacroBlock(t,i,r){if(i+K.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw le.getFormatInstance();let l=new Int32Array(K.NUMBER_OF_SEQUENCE_CODEWORDS);for(let c=0;c<K.NUMBER_OF_SEQUENCE_CODEWORDS;c++,i++)l[c]=t[i];r.setSegmentIndex(oe.parseInt(K.decodeBase900toBase10(l,K.NUMBER_OF_SEQUENCE_CODEWORDS)));let s=new Ze;i=K.textCompaction(t,i,s),r.setFileId(s.toString());let u=-1;for(t[i]===K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=i+1);i<t[0];)switch(t[i]){case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,t[i]){case K.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let c=new Ze;i=K.textCompaction(t,i+1,c),r.setFileName(c.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new Ze;i=K.textCompaction(t,i+1,h),r.setSender(h.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let m=new Ze;i=K.textCompaction(t,i+1,m),r.setAddressee(m.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new Ze;i=K.numericCompaction(t,i+1,w),r.setSegmentCount(oe.parseInt(w.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let v=new Ze;i=K.numericCompaction(t,i+1,v),r.setTimestamp(Ma.parseLong(v.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let T=new Ze;i=K.numericCompaction(t,i+1,T),r.setChecksum(oe.parseInt(T.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let I=new Ze;i=K.numericCompaction(t,i+1,I),r.setFileSize(Ma.parseLong(I.toString()));break;default:throw le.getFormatInstance()}break;case K.MACRO_PDF417_TERMINATOR:i++,r.setLastSegment(!0);break;default:throw le.getFormatInstance()}if(u!==-1){let c=i-u;r.isLastSegment()&&c--,r.setOptionalData(be.copyOfRange(t,u,u+c))}return i}static textCompaction(t,i,r){let l=new Int32Array((t[0]-i)*2),s=new Int32Array((t[0]-i)*2),u=0,c=!1;for(;i<t[0]&&!c;){let h=t[i++];if(h<K.TEXT_COMPACTION_MODE_LATCH)l[u]=h/30,l[u+1]=h%30,u+=2;else switch(h){case K.TEXT_COMPACTION_MODE_LATCH:l[u++]=K.TEXT_COMPACTION_MODE_LATCH;break;case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:i--,c=!0;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[u]=K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=t[i++],s[u]=h,u++;break}}return K.decodeTextCompaction(l,s,u,r),i}static decodeTextCompaction(t,i,r,l){let s=mt.ALPHA,u=mt.ALPHA,c=0;for(;c<r;){let h=t[c],m="";switch(s){case mt.ALPHA:if(h<26)m=String.fromCharCode(65+h);else switch(h){case 26:m=" ";break;case K.LL:s=mt.LOWER;break;case K.ML:s=mt.MIXED;break;case K.PS:u=s,s=mt.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case K.TEXT_COMPACTION_MODE_LATCH:s=mt.ALPHA;break}break;case mt.LOWER:if(h<26)m=String.fromCharCode(97+h);else switch(h){case 26:m=" ";break;case K.AS:u=s,s=mt.ALPHA_SHIFT;break;case K.ML:s=mt.MIXED;break;case K.PS:u=s,s=mt.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case K.TEXT_COMPACTION_MODE_LATCH:s=mt.ALPHA;break}break;case mt.MIXED:if(h<K.PL)m=K.MIXED_CHARS[h];else switch(h){case K.PL:s=mt.PUNCT;break;case 26:m=" ";break;case K.LL:s=mt.LOWER;break;case K.AL:s=mt.ALPHA;break;case K.PS:u=s,s=mt.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case K.TEXT_COMPACTION_MODE_LATCH:s=mt.ALPHA;break}break;case mt.PUNCT:if(h<K.PAL)m=K.PUNCT_CHARS[h];else switch(h){case K.PAL:s=mt.ALPHA;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case K.TEXT_COMPACTION_MODE_LATCH:s=mt.ALPHA;break}break;case mt.ALPHA_SHIFT:if(s=u,h<26)m=String.fromCharCode(65+h);else switch(h){case 26:m=" ";break;case K.TEXT_COMPACTION_MODE_LATCH:s=mt.ALPHA;break}break;case mt.PUNCT_SHIFT:if(s=u,h<K.PAL)m=K.PUNCT_CHARS[h];else switch(h){case K.PAL:s=mt.ALPHA;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case K.TEXT_COMPACTION_MODE_LATCH:s=mt.ALPHA;break}break}m!==""&&l.append(m),c++}}static byteCompaction(t,i,r,l,s){let u=new Ko,c=0,h=0,m=!1;switch(t){case K.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),v=i[l++];for(;l<i[0]&&!m;)switch(w[c++]=v,h=900*h+v,v=i[l++],v){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:l--,m=!0;break;default:if(c%5===0&&c>0){for(let T=0;T<6;++T)u.write(Number(Mi(h)>>Mi(8*(5-T))));h=0,c=0}break}l===i[0]&&v<K.TEXT_COMPACTION_MODE_LATCH&&(w[c++]=v);for(let T=0;T<c;T++)u.write(w[T]);break;case K.BYTE_COMPACTION_MODE_LATCH_6:for(;l<i[0]&&!m;){let T=i[l++];if(T<K.TEXT_COMPACTION_MODE_LATCH)c++,h=900*h+T;else switch(T){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:l--,m=!0;break}if(c%5===0&&c>0){for(let I=0;I<6;++I)u.write(Number(Mi(h)>>Mi(8*(5-I))));h=0,c=0}}break}return s.append(je.decode(u.toByteArray(),r)),l}static numericCompaction(t,i,r){let l=0,s=!1,u=new Int32Array(K.MAX_NUMERIC_CODEWORDS);for(;i<t[0]&&!s;){let c=t[i++];if(i===t[0]&&(s=!0),c<K.TEXT_COMPACTION_MODE_LATCH)u[l]=c,l++;else switch(c){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:i--,s=!0;break}(l%K.MAX_NUMERIC_CODEWORDS===0||c===K.NUMERIC_COMPACTION_MODE_LATCH||s)&&l>0&&(r.append(K.decodeBase900toBase10(u,l)),l=0)}return i}static decodeBase900toBase10(t,i){let r=Mi(0);for(let s=0;s<i;s++)r+=K.EXP900[i-s-1]*Mi(t[s]);let l=r.toString();if(l.charAt(0)!=="1")throw new le;return l.substring(1)}}K.TEXT_COMPACTION_MODE_LATCH=900,K.BYTE_COMPACTION_MODE_LATCH=901,K.NUMERIC_COMPACTION_MODE_LATCH=902,K.BYTE_COMPACTION_MODE_LATCH_6=924,K.ECI_USER_DEFINED=925,K.ECI_GENERAL_PURPOSE=926,K.ECI_CHARSET=927,K.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,K.MACRO_PDF417_TERMINATOR=922,K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,K.MAX_NUMERIC_CODEWORDS=15,K.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,K.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,K.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,K.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,K.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,K.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,K.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,K.PL=25,K.LL=27,K.AS=27,K.ML=28,K.AL=28,K.PS=29,K.PAL=29,K.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,K.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",K.EXP900=Os()?Qo():[],K.NUMBER_OF_SEQUENCE_CODEWORDS=2;class qe{constructor(){}static decode(t,i,r,l,s,u,c){let h=new Oi(t,i,r,l,s),m=null,w=null,v;for(let B=!0;;B=!1){if(i!=null&&(m=qe.getRowIndicatorColumn(t,h,i,!0,u,c)),l!=null&&(w=qe.getRowIndicatorColumn(t,h,l,!1,u,c)),v=qe.merge(m,w),v==null)throw q.getNotFoundInstance();let F=v.getBoundingBox();if(B&&F!=null&&(F.getMinY()<h.getMinY()||F.getMaxY()>h.getMaxY()))h=F;else break}v.setBoundingBox(h);let T=v.getBarcodeColumnCount()+1;v.setDetectionResultColumn(0,m),v.setDetectionResultColumn(T,w);let I=m!=null;for(let B=1;B<=T;B++){let F=I?B:T-B;if(v.getDetectionResultColumn(F)!==void 0)continue;let G;F===0||F===T?G=new Ii(h,F===0):G=new yr(h),v.setDetectionResultColumn(F,G);let Z=-1,fe=Z;for(let me=h.getMinY();me<=h.getMaxY();me++){if(Z=qe.getStartColumn(v,F,me,I),Z<0||Z>h.getMaxX()){if(fe===-1)continue;Z=fe}let ue=qe.detectCodeword(t,h.getMinX(),h.getMaxX(),I,Z,me,u,c);ue!=null&&(G.setCodeword(me,ue),fe=Z,u=Math.min(u,ue.getWidth()),c=Math.max(c,ue.getWidth()))}}return qe.createDecoderResult(v)}static merge(t,i){if(t==null&&i==null)return null;let r=qe.getBarcodeMetadata(t,i);if(r==null)return null;let l=Oi.merge(qe.adjustBoundingBox(t),qe.adjustBoundingBox(i));return new Di(r,l)}static adjustBoundingBox(t){if(t==null)return null;let i=t.getRowHeights();if(i==null)return null;let r=qe.getMax(i),l=0;for(let c of i)if(l+=r-c,c>0)break;let s=t.getCodewords();for(let c=0;l>0&&s[c]==null;c++)l--;let u=0;for(let c=i.length-1;c>=0&&(u+=r-i[c],!(i[c]>0));c--);for(let c=s.length-1;u>0&&s[c]==null;c--)u--;return t.getBoundingBox().addMissingRows(l,u,t.isLeft())}static getMax(t){let i=-1;for(let r of t)i=Math.max(i,r);return i}static getBarcodeMetadata(t,i){let r;if(t==null||(r=t.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let l;return i==null||(l=i.getBarcodeMetadata())==null?r:r.getColumnCount()!==l.getColumnCount()&&r.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&r.getRowCount()!==l.getRowCount()?null:r}static getRowIndicatorColumn(t,i,r,l,s,u){let c=new Ii(i,l);for(let h=0;h<2;h++){let m=h===0?1:-1,w=Math.trunc(Math.trunc(r.getX()));for(let v=Math.trunc(Math.trunc(r.getY()));v<=i.getMaxY()&&v>=i.getMinY();v+=m){let T=qe.detectCodeword(t,0,t.getWidth(),l,w,v,s,u);T!=null&&(c.setCodeword(v,T),l?w=T.getStartX():w=T.getEndX())}}return c}static adjustCodewordCount(t,i){let r=i[0][1],l=r.getValue(),s=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-qe.getNumberOfECCodeWords(t.getBarcodeECLevel());if(l.length===0){if(s<1||s>Le.MAX_CODEWORDS_IN_BARCODE)throw q.getNotFoundInstance();r.setValue(s)}else l[0]!==s&&r.setValue(s)}static createDecoderResult(t){let i=qe.createBarcodeMatrix(t);qe.adjustCodewordCount(t,i);let r=new Array,l=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),s=[],u=new Array;for(let h=0;h<t.getBarcodeRowCount();h++)for(let m=0;m<t.getBarcodeColumnCount();m++){let w=i[h][m+1].getValue(),v=h*t.getBarcodeColumnCount()+m;w.length===0?r.push(v):w.length===1?l[v]=w[0]:(u.push(v),s.push(w))}let c=new Array(s.length);for(let h=0;h<c.length;h++)c[h]=s[h];return qe.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),l,Le.toIntArray(r),Le.toIntArray(u),c)}static createDecoderResultFromAmbiguousValues(t,i,r,l,s){let u=new Int32Array(l.length),c=100;for(;c-- >0;){for(let h=0;h<u.length;h++)i[l[h]]=s[h][u[h]];try{return qe.decodeCodewords(i,t,r)}catch(h){if(!(h instanceof ye))throw h}if(u.length===0)throw ye.getChecksumInstance();for(let h=0;h<u.length;h++)if(u[h]<s[h].length-1){u[h]++;break}else if(u[h]=0,h===u.length-1)throw ye.getChecksumInstance()}throw ye.getChecksumInstance()}static createBarcodeMatrix(t){let i=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let l=0;l<i.length;l++)for(let s=0;s<i[l].length;s++)i[l][s]=new nn;let r=0;for(let l of t.getDetectionResultColumns()){if(l!=null){for(let s of l.getCodewords())if(s!=null){let u=s.getRowNumber();if(u>=0){if(u>=i.length)continue;i[u][r].setValue(s.getValue())}}}r++}return i}static isValidBarcodeColumn(t,i){return i>=0&&i<=t.getBarcodeColumnCount()+1}static getStartColumn(t,i,r,l){let s=l?1:-1,u=null;if(qe.isValidBarcodeColumn(t,i-s)&&(u=t.getDetectionResultColumn(i-s).getCodeword(r)),u!=null)return l?u.getEndX():u.getStartX();if(u=t.getDetectionResultColumn(i).getCodewordNearby(r),u!=null)return l?u.getStartX():u.getEndX();if(qe.isValidBarcodeColumn(t,i-s)&&(u=t.getDetectionResultColumn(i-s).getCodewordNearby(r)),u!=null)return l?u.getEndX():u.getStartX();let c=0;for(;qe.isValidBarcodeColumn(t,i-s);){i-=s;for(let h of t.getDetectionResultColumn(i).getCodewords())if(h!=null)return(l?h.getEndX():h.getStartX())+s*c*(h.getEndX()-h.getStartX());c++}return l?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,i,r,l,s,u,c,h){s=qe.adjustCodewordStartColumn(t,i,r,l,s,u);let m=qe.getModuleBitCount(t,i,r,l,s,u);if(m==null)return null;let w,v=rt.sum(m);if(l)w=s+v;else{for(let B=0;B<m.length/2;B++){let F=m[B];m[B]=m[m.length-1-B],m[m.length-1-B]=F}w=s,s=w-v}if(!qe.checkCodewordSkew(v,c,h))return null;let T=_n.getDecodedValue(m),I=Le.getCodeword(T);return I===-1?null:new wi(s,w,qe.getCodewordBucketNumber(T),I)}static getModuleBitCount(t,i,r,l,s,u){let c=s,h=new Int32Array(8),m=0,w=l?1:-1,v=l;for(;(l?c<r:c>=i)&&m<h.length;)t.get(c,u)===v?(h[m]++,c+=w):(m++,v=!v);return m===h.length||c===(l?r:i)&&m===h.length-1?h:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,i,r,l,s,u){let c=s,h=l?-1:1;for(let m=0;m<2;m++){for(;(l?c>=i:c<r)&&l===t.get(c,u);){if(Math.abs(s-c)>qe.CODEWORD_SKEW_SIZE)return s;c+=h}h=-h,l=!l}return c}static checkCodewordSkew(t,i,r){return i-qe.CODEWORD_SKEW_SIZE<=t&&t<=r+qe.CODEWORD_SKEW_SIZE}static decodeCodewords(t,i,r){if(t.length===0)throw le.getFormatInstance();let l=1<<i+1,s=qe.correctErrors(t,r,l);qe.verifyCodewordCount(t,l);let u=K.decode(t,""+i);return u.setErrorsCorrected(s),u.setErasures(r.length),u}static correctErrors(t,i,r){if(i!=null&&i.length>r/2+qe.MAX_ERRORS||r<0||r>qe.MAX_EC_CODEWORDS)throw ye.getChecksumInstance();return qe.errorCorrection.decode(t,r,i)}static verifyCodewordCount(t,i){if(t.length<4)throw le.getFormatInstance();let r=t[0];if(r>t.length)throw le.getFormatInstance();if(r===0)if(i<t.length)t[0]=t.length-i;else throw le.getFormatInstance()}static getBitCountForCodeword(t){let i=new Int32Array(8),r=0,l=i.length-1;for(;!((t&1)!==r&&(r=t&1,l--,l<0));)i[l]++,t>>=1;return i}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return qe.getCodewordBucketNumber(qe.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let i=new _i;for(let r=0;r<t.length;r++){i.format("Row %2d: ",r);for(let l=0;l<t[r].length;l++){let s=t[r][l];s.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}i.format("%n")}return i.toString()}}qe.CODEWORD_SKEW_SIZE=2,qe.MAX_ERRORS=3,qe.MAX_EC_CODEWORDS=512,qe.errorCorrection=new ta;class fn{decode(t,i=null){let r=fn.decode(t,i,!1);if(r==null||r.length===0||r[0]==null)throw q.getNotFoundInstance();return r[0]}decodeMultiple(t,i=null){try{return fn.decode(t,i,!0)}catch(r){throw r instanceof le||r instanceof ye?q.getNotFoundInstance():r}}static decode(t,i,r){const l=new Array,s=Ge.detectMultiple(t,i,r);for(const u of s.getPoints()){const c=qe.decode(s.getBits(),u[4],u[5],u[6],u[7],fn.getMinCodewordWidth(u),fn.getMaxCodewordWidth(u)),h=new ve(c.getText(),c.getRawBytes(),void 0,u,ge.PDF_417);h.putMetadata(Ye.ERROR_CORRECTION_LEVEL,c.getECLevel());const m=c.getOther();m!=null&&h.putMetadata(Ye.PDF417_EXTRA_METADATA,m),l.push(h)}return l.map(u=>u)}static getMaxWidth(t,i){return t==null||i==null?0:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMinWidth(t,i){return t==null||i==null?oe.MAX_VALUE:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(fn.getMaxWidth(t[0],t[4]),fn.getMaxWidth(t[6],t[2])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN),Math.max(fn.getMaxWidth(t[1],t[5]),fn.getMaxWidth(t[7],t[3])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(fn.getMinWidth(t[0],t[4]),fn.getMinWidth(t[6],t[2])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN),Math.min(fn.getMinWidth(t[1],t[5]),fn.getMinWidth(t[7],t[3])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN)))}reset(){}}class na extends p{}na.kind="ReaderException";class _s{constructor(t,i){this.verbose=t===!0,i&&this.setHints(i)}decode(t,i){return i&&this.setHints(i),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const i=!E(t)&&t.get(ke.TRY_HARDER)===!0,r=E(t)?null:t.get(ke.POSSIBLE_FORMATS),l=new Array;if(!E(r)){const s=r.some(u=>u===ge.UPC_A||u===ge.UPC_E||u===ge.EAN_13||u===ge.EAN_8||u===ge.CODABAR||u===ge.CODE_39||u===ge.CODE_93||u===ge.CODE_128||u===ge.ITF||u===ge.RSS_14||u===ge.RSS_EXPANDED);s&&!i&&l.push(new vi(t,this.verbose)),r.includes(ge.QR_CODE)&&l.push(new yi),r.includes(ge.DATA_MATRIX)&&l.push(new Wn),r.includes(ge.AZTEC)&&l.push(new Ca),r.includes(ge.PDF_417)&&l.push(new fn),s&&i&&l.push(new vi(t,this.verbose))}l.length===0&&(i||l.push(new vi(t,this.verbose)),l.push(new yi),l.push(new Wn),l.push(new Ca),l.push(new fn),i&&l.push(new vi(t,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new na("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(t,this.hints)}catch(r){if(r instanceof na)continue}throw new q("No MultiFormat Readers were able to detect the code.")}}class Jo extends Ae{constructor(t=null,i=500){const r=new _s;r.setHints(t),super(r,i)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class $o extends Ae{constructor(t=500){super(new fn,t)}}class eu extends Ae{constructor(t=500){super(new yi,t)}}var ia;(function(S){S[S.ERROR_CORRECTION=0]="ERROR_CORRECTION",S[S.CHARACTER_SET=1]="CHARACTER_SET",S[S.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",S[S.MIN_SIZE=3]="MIN_SIZE",S[S.MAX_SIZE=4]="MAX_SIZE",S[S.MARGIN=5]="MARGIN",S[S.PDF417_COMPACT=6]="PDF417_COMPACT",S[S.PDF417_COMPACTION=7]="PDF417_COMPACTION",S[S.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",S[S.AZTEC_LAYERS=9]="AZTEC_LAYERS",S[S.QR_VERSION=10]="QR_VERSION"})(ia||(ia={}));var Jt=ia;class bl{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new ln(t,Int32Array.from([1])))}buildGenerator(t){const i=this.cachedGenerators;if(t>=i.length){let r=i[i.length-1];const l=this.field;for(let s=i.length;s<=t;s++){const u=r.multiply(new ln(l,Int32Array.from([1,l.exp(s-1+l.getGeneratorBase())])));i.push(u),r=u}}return i[t]}encode(t,i){if(i===0)throw new P("No error correction bytes");const r=t.length-i;if(r<=0)throw new P("No data bytes provided");const l=this.buildGenerator(i),s=new Int32Array(r);de.arraycopy(t,0,s,0,r);let u=new ln(this.field,s);u=u.multiplyByMonomial(i,1);const h=u.divide(l)[1].getCoefficients(),m=i-h.length;for(let w=0;w<m;w++)t[r+w]=0;de.arraycopy(h,0,t,r+m,h.length)}}class Ft{constructor(){}static applyMaskPenaltyRule1(t){return Ft.applyMaskPenaltyRule1Internal(t,!0)+Ft.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let i=0;const r=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let u=0;u<s-1;u++){const c=r[u];for(let h=0;h<l-1;h++){const m=c[h];m===c[h+1]&&m===r[u+1][h]&&m===r[u+1][h+1]&&i++}}return Ft.N2*i}static applyMaskPenaltyRule3(t){let i=0;const r=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let u=0;u<s;u++)for(let c=0;c<l;c++){const h=r[u];c+6<l&&h[c]===1&&h[c+1]===0&&h[c+2]===1&&h[c+3]===1&&h[c+4]===1&&h[c+5]===0&&h[c+6]===1&&(Ft.isWhiteHorizontal(h,c-4,c)||Ft.isWhiteHorizontal(h,c+7,c+11))&&i++,u+6<s&&r[u][c]===1&&r[u+1][c]===0&&r[u+2][c]===1&&r[u+3][c]===1&&r[u+4][c]===1&&r[u+5][c]===0&&r[u+6][c]===1&&(Ft.isWhiteVertical(r,c,u-4,u)||Ft.isWhiteVertical(r,c,u+7,u+11))&&i++}return i*Ft.N3}static isWhiteHorizontal(t,i,r){i=Math.max(i,0),r=Math.min(r,t.length);for(let l=i;l<r;l++)if(t[l]===1)return!1;return!0}static isWhiteVertical(t,i,r,l){r=Math.max(r,0),l=Math.min(l,t.length);for(let s=r;s<l;s++)if(t[s][i]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let i=0;const r=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let h=0;h<s;h++){const m=r[h];for(let w=0;w<l;w++)m[w]===1&&i++}const u=t.getHeight()*t.getWidth();return Math.floor(Math.abs(i*2-u)*10/u)*Ft.N4}static getDataMaskBit(t,i,r){let l,s;switch(t){case 0:l=r+i&1;break;case 1:l=r&1;break;case 2:l=i%3;break;case 3:l=(r+i)%3;break;case 4:l=Math.floor(r/2)+Math.floor(i/3)&1;break;case 5:s=r*i,l=(s&1)+s%3;break;case 6:s=r*i,l=(s&1)+s%3&1;break;case 7:s=r*i,l=s%3+(r+i&1)&1;break;default:throw new P("Invalid mask pattern: "+t)}return l===0}static applyMaskPenaltyRule1Internal(t,i){let r=0;const l=i?t.getHeight():t.getWidth(),s=i?t.getWidth():t.getHeight(),u=t.getArray();for(let c=0;c<l;c++){let h=0,m=-1;for(let w=0;w<s;w++){const v=i?u[c][w]:u[w][c];v===m?h++:(h>=5&&(r+=Ft.N1+(h-5)),h=1,m=v)}h>=5&&(r+=Ft.N1+(h-5))}return r}}Ft.N1=3,Ft.N2=3,Ft.N3=40,Ft.N4=10;class ra{constructor(t,i){this.width=t,this.height=i;const r=new Array(i);for(let l=0;l!==i;l++)r[l]=new Uint8Array(t);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(t,i){return this.bytes[i][t]}getArray(){return this.bytes}setNumber(t,i,r){this.bytes[i][t]=r}setBoolean(t,i,r){this.bytes[i][t]=r?1:0}clear(t){for(const i of this.bytes)be.fill(i,t)}equals(t){if(!(t instanceof ra))return!1;const i=t;if(this.width!==i.width||this.height!==i.height)return!1;for(let r=0,l=this.height;r<l;++r){const s=this.bytes[r],u=i.bytes[r];for(let c=0,h=this.width;c<h;++c)if(s[c]!==u[c])return!1}return!0}toString(){const t=new Ze;for(let i=0,r=this.height;i<r;++i){const l=this.bytes[i];for(let s=0,u=this.width;s<u;++s)switch(l[s]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Zi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Ze;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Zi.NUM_MASK_PATTERNS}}Zi.NUM_MASK_PATTERNS=8;class wt extends p{}wt.kind="WriterException";class Ue{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,i,r,l,s){Ue.clearMatrix(s),Ue.embedBasicPatterns(r,s),Ue.embedTypeInfo(i,l,s),Ue.maybeEmbedVersionInfo(r,s),Ue.embedDataBits(t,l,s)}static embedBasicPatterns(t,i){Ue.embedPositionDetectionPatternsAndSeparators(i),Ue.embedDarkDotAtLeftBottomCorner(i),Ue.maybeEmbedPositionAdjustmentPatterns(t,i),Ue.embedTimingPatterns(i)}static embedTypeInfo(t,i,r){const l=new Oe;Ue.makeTypeInfoBits(t,i,l);for(let s=0,u=l.getSize();s<u;++s){const c=l.get(l.getSize()-1-s),h=Ue.TYPE_INFO_COORDINATES[s],m=h[0],w=h[1];if(r.setBoolean(m,w,c),s<8){const v=r.getWidth()-s-1;r.setBoolean(v,8,c)}else{const T=r.getHeight()-7+(s-8);r.setBoolean(8,T,c)}}}static maybeEmbedVersionInfo(t,i){if(t.getVersionNumber()<7)return;const r=new Oe;Ue.makeVersionInfoBits(t,r);let l=17;for(let s=0;s<6;++s)for(let u=0;u<3;++u){const c=r.get(l);l--,i.setBoolean(s,i.getHeight()-11+u,c),i.setBoolean(i.getHeight()-11+u,s,c)}}static embedDataBits(t,i,r){let l=0,s=-1,u=r.getWidth()-1,c=r.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);c>=0&&c<r.getHeight();){for(let h=0;h<2;++h){const m=u-h;if(!Ue.isEmpty(r.get(m,c)))continue;let w;l<t.getSize()?(w=t.get(l),++l):w=!1,i!==255&&Ft.getDataMaskBit(i,m,c)&&(w=!w),r.setBoolean(m,c,w)}c+=s}s=-s,c+=s,u-=2}if(l!==t.getSize())throw new wt("Not all bits consumed: "+l+"/"+t.getSize())}static findMSBSet(t){return 32-oe.numberOfLeadingZeros(t)}static calculateBCHCode(t,i){if(i===0)throw new P("0 polynomial");const r=Ue.findMSBSet(i);for(t<<=r-1;Ue.findMSBSet(t)>=r;)t^=i<<Ue.findMSBSet(t)-r;return t}static makeTypeInfoBits(t,i,r){if(!Zi.isValidMaskPattern(i))throw new wt("Invalid mask pattern");const l=t.getBits()<<3|i;r.appendBits(l,5);const s=Ue.calculateBCHCode(l,Ue.TYPE_INFO_POLY);r.appendBits(s,10);const u=new Oe;if(u.appendBits(Ue.TYPE_INFO_MASK_PATTERN,15),r.xor(u),r.getSize()!==15)throw new wt("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(t,i){i.appendBits(t.getVersionNumber(),6);const r=Ue.calculateBCHCode(t.getVersionNumber(),Ue.VERSION_INFO_POLY);if(i.appendBits(r,12),i.getSize()!==18)throw new wt("should not happen but we got: "+i.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let i=8;i<t.getWidth()-8;++i){const r=(i+1)%2;Ue.isEmpty(t.get(i,6))&&t.setNumber(i,6,r),Ue.isEmpty(t.get(6,i))&&t.setNumber(6,i,r)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new wt;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,i,r){for(let l=0;l<8;++l){if(!Ue.isEmpty(r.get(t+l,i)))throw new wt;r.setNumber(t+l,i,0)}}static embedVerticalSeparationPattern(t,i,r){for(let l=0;l<7;++l){if(!Ue.isEmpty(r.get(t,i+l)))throw new wt;r.setNumber(t,i+l,0)}}static embedPositionAdjustmentPattern(t,i,r){for(let l=0;l<5;++l){const s=Ue.POSITION_ADJUSTMENT_PATTERN[l];for(let u=0;u<5;++u)r.setNumber(t+u,i+l,s[u])}}static embedPositionDetectionPattern(t,i,r){for(let l=0;l<7;++l){const s=Ue.POSITION_DETECTION_PATTERN[l];for(let u=0;u<7;++u)r.setNumber(t+u,i+l,s[u])}}static embedPositionDetectionPatternsAndSeparators(t){const i=Ue.POSITION_DETECTION_PATTERN[0].length;Ue.embedPositionDetectionPattern(0,0,t),Ue.embedPositionDetectionPattern(t.getWidth()-i,0,t),Ue.embedPositionDetectionPattern(0,t.getWidth()-i,t);const r=8;Ue.embedHorizontalSeparationPattern(0,r-1,t),Ue.embedHorizontalSeparationPattern(t.getWidth()-r,r-1,t),Ue.embedHorizontalSeparationPattern(0,t.getWidth()-r,t);const l=7;Ue.embedVerticalSeparationPattern(l,0,t),Ue.embedVerticalSeparationPattern(t.getHeight()-l-1,0,t),Ue.embedVerticalSeparationPattern(l,t.getHeight()-l,t)}static maybeEmbedPositionAdjustmentPatterns(t,i){if(t.getVersionNumber()<2)return;const r=t.getVersionNumber()-1,l=Ue.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let s=0,u=l.length;s!==u;s++){const c=l[s];if(c>=0)for(let h=0;h!==u;h++){const m=l[h];m>=0&&Ue.isEmpty(i.get(m,c))&&Ue.embedPositionAdjustmentPattern(m-2,c-2,i)}}}}Ue.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ue.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ue.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ue.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ue.VERSION_INFO_POLY=7973,Ue.TYPE_INFO_POLY=1335,Ue.TYPE_INFO_MASK_PATTERN=21522;class tu{constructor(t,i){this.dataBytes=t,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class _t{constructor(){}static calculateMaskPenalty(t){return Ft.applyMaskPenaltyRule1(t)+Ft.applyMaskPenaltyRule2(t)+Ft.applyMaskPenaltyRule3(t)+Ft.applyMaskPenaltyRule4(t)}static encode(t,i,r=null){let l=_t.DEFAULT_BYTE_MODE_ENCODING;const s=r!==null&&r.get(Jt.CHARACTER_SET)!==void 0;s&&(l=r.get(Jt.CHARACTER_SET).toString());const u=this.chooseMode(t,l),c=new Oe;if(u===De.BYTE&&(s||_t.DEFAULT_BYTE_MODE_ENCODING!==l)){const me=$.getCharacterSetECIByName(l);me!==void 0&&this.appendECI(me,c)}this.appendModeInfo(u,c);const h=new Oe;this.appendBytes(t,u,h,l);let m;if(r!==null&&r.get(Jt.QR_VERSION)!==void 0){const me=Number.parseInt(r.get(Jt.QR_VERSION).toString(),10);m=_e.getVersionForNumber(me);const ue=this.calculateBitsNeeded(u,c,h,m);if(!this.willFit(ue,m,i))throw new wt("Data too big for requested version")}else m=this.recommendVersion(i,u,c,h);const w=new Oe;w.appendBitArray(c);const v=u===De.BYTE?h.getSizeInBytes():t.length;this.appendLengthInfo(v,m,u,w),w.appendBitArray(h);const T=m.getECBlocksForLevel(i),I=m.getTotalCodewords()-T.getTotalECCodewords();this.terminateBits(I,w);const B=this.interleaveWithECBytes(w,m.getTotalCodewords(),I,T.getNumBlocks()),F=new Zi;F.setECLevel(i),F.setMode(u),F.setVersion(m);const G=m.getDimensionForVersion(),Z=new ra(G,G),fe=this.chooseMaskPattern(B,i,m,Z);return F.setMaskPattern(fe),Ue.buildMatrix(B,i,m,fe,Z),F.setMatrix(Z),F}static recommendVersion(t,i,r,l){const s=this.calculateBitsNeeded(i,r,l,_e.getVersionForNumber(1)),u=this.chooseVersion(s,t),c=this.calculateBitsNeeded(i,r,l,u);return this.chooseVersion(c,t)}static calculateBitsNeeded(t,i,r,l){return i.getSize()+t.getCharacterCountBits(l)+r.getSize()}static getAlphanumericCode(t){return t<_t.ALPHANUMERIC_TABLE.length?_t.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,i=null){if($.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(t))return De.KANJI;let r=!1,l=!1;for(let s=0,u=t.length;s<u;++s){const c=t.charAt(s);if(_t.isDigit(c))r=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)l=!0;else return De.BYTE}return l?De.ALPHANUMERIC:r?De.NUMERIC:De.BYTE}static isOnlyDoubleByteKanji(t){let i;try{i=je.encode(t,$.SJIS)}catch{return!1}const r=i.length;if(r%2!==0)return!1;for(let l=0;l<r;l+=2){const s=i[l]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0}static chooseMaskPattern(t,i,r,l){let s=Number.MAX_SAFE_INTEGER,u=-1;for(let c=0;c<Zi.NUM_MASK_PATTERNS;c++){Ue.buildMatrix(t,i,r,c,l);let h=this.calculateMaskPenalty(l);h<s&&(s=h,u=c)}return u}static chooseVersion(t,i){for(let r=1;r<=40;r++){const l=_e.getVersionForNumber(r);if(_t.willFit(t,l,i))return l}throw new wt("Data too big")}static willFit(t,i,r){const l=i.getTotalCodewords(),u=i.getECBlocksForLevel(r).getTotalECCodewords(),c=l-u,h=(t+7)/8;return c>=h}static terminateBits(t,i){const r=t*8;if(i.getSize()>r)throw new wt("data bits cannot fit in the QR Code"+i.getSize()+" > "+r);for(let u=0;u<4&&i.getSize()<r;++u)i.appendBit(!1);const l=i.getSize()&7;if(l>0)for(let u=l;u<8;u++)i.appendBit(!1);const s=t-i.getSizeInBytes();for(let u=0;u<s;++u)i.appendBits((u&1)===0?236:17,8);if(i.getSize()!==r)throw new wt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,i,r,l,s,u){if(l>=r)throw new wt("Block ID too large");const c=t%r,h=r-c,m=Math.floor(t/r),w=m+1,v=Math.floor(i/r),T=v+1,I=m-v,B=w-T;if(I!==B)throw new wt("EC bytes mismatch");if(r!==h+c)throw new wt("RS blocks mismatch");if(t!==(v+I)*h+(T+B)*c)throw new wt("Total bytes mismatch");l<h?(s[0]=v,u[0]=I):(s[0]=T,u[0]=B)}static interleaveWithECBytes(t,i,r,l){if(t.getSizeInBytes()!==r)throw new wt("Number of bits and data bytes does not match");let s=0,u=0,c=0;const h=new Array;for(let w=0;w<l;++w){const v=new Int32Array(1),T=new Int32Array(1);_t.getNumDataBytesAndNumECBytesForBlockID(i,r,l,w,v,T);const I=v[0],B=new Uint8Array(I);t.toBytes(8*s,B,0,I);const F=_t.generateECBytes(B,T[0]);h.push(new tu(B,F)),u=Math.max(u,I),c=Math.max(c,F.length),s+=v[0]}if(r!==s)throw new wt("Data bytes does not match offset");const m=new Oe;for(let w=0;w<u;++w)for(const v of h){const T=v.getDataBytes();w<T.length&&m.appendBits(T[w],8)}for(let w=0;w<c;++w)for(const v of h){const T=v.getErrorCorrectionBytes();w<T.length&&m.appendBits(T[w],8)}if(i!==m.getSizeInBytes())throw new wt("Interleaving error: "+i+" and "+m.getSizeInBytes()+" differ.");return m}static generateECBytes(t,i){const r=t.length,l=new Int32Array(r+i);for(let u=0;u<r;u++)l[u]=t[u]&255;new bl(lt.QR_CODE_FIELD_256).encode(l,i);const s=new Uint8Array(i);for(let u=0;u<i;u++)s[u]=l[r+u];return s}static appendModeInfo(t,i){i.appendBits(t.getBits(),4)}static appendLengthInfo(t,i,r,l){const s=r.getCharacterCountBits(i);if(t>=1<<s)throw new wt(t+" is bigger than "+((1<<s)-1));l.appendBits(t,s)}static appendBytes(t,i,r,l){switch(i){case De.NUMERIC:_t.appendNumericBytes(t,r);break;case De.ALPHANUMERIC:_t.appendAlphanumericBytes(t,r);break;case De.BYTE:_t.append8BitBytes(t,r,l);break;case De.KANJI:_t.appendKanjiBytes(t,r);break;default:throw new wt("Invalid mode: "+i)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const i=_t.getDigit(t);return i>=0&&i<=9}static appendNumericBytes(t,i){const r=t.length;let l=0;for(;l<r;){const s=_t.getDigit(t.charAt(l));if(l+2<r){const u=_t.getDigit(t.charAt(l+1)),c=_t.getDigit(t.charAt(l+2));i.appendBits(s*100+u*10+c,10),l+=3}else if(l+1<r){const u=_t.getDigit(t.charAt(l+1));i.appendBits(s*10+u,7),l+=2}else i.appendBits(s,4),l++}}static appendAlphanumericBytes(t,i){const r=t.length;let l=0;for(;l<r;){const s=_t.getAlphanumericCode(t.charCodeAt(l));if(s===-1)throw new wt;if(l+1<r){const u=_t.getAlphanumericCode(t.charCodeAt(l+1));if(u===-1)throw new wt;i.appendBits(s*45+u,11),l+=2}else i.appendBits(s,6),l++}}static append8BitBytes(t,i,r){let l;try{l=je.encode(t,r)}catch(s){throw new wt(s)}for(let s=0,u=l.length;s!==u;s++){const c=l[s];i.appendBits(c,8)}}static appendKanjiBytes(t,i){let r;try{r=je.encode(t,$.SJIS)}catch(s){throw new wt(s)}const l=r.length;for(let s=0;s<l;s+=2){const u=r[s]&255,c=r[s+1]&255,h=u<<8&4294967295|c;let m=-1;if(h>=33088&&h<=40956?m=h-33088:h>=57408&&h<=60351&&(m=h-49472),m===-1)throw new wt("Invalid byte sequence");const w=(m>>8)*192+(m&255);i.appendBits(w,13)}}static appendECI(t,i){i.appendBits(De.ECI.getBits(),4),i.appendBits(t.getValue(),8)}}_t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),_t.DEFAULT_BYTE_MODE_ENCODING=$.UTF8.getName();class qi{write(t,i,r,l=null){if(t.length===0)throw new P("Found empty contents");if(i<0||r<0)throw new P("Requested dimensions are too small: "+i+"x"+r);let s=xt.L,u=qi.QUIET_ZONE_SIZE;l!==null&&(l.get(Jt.ERROR_CORRECTION)!==void 0&&(s=xt.fromString(l.get(Jt.ERROR_CORRECTION).toString())),l.get(Jt.MARGIN)!==void 0&&(u=Number.parseInt(l.get(Jt.MARGIN).toString(),10)));const c=_t.encode(t,s,l);return this.renderResult(c,i,r,u)}writeToDom(t,i,r,l,s=null){typeof t=="string"&&(t=document.querySelector(t));const u=this.write(i,r,l,s);t&&t.appendChild(u)}renderResult(t,i,r,l){const s=t.getMatrix();if(s===null)throw new ri;const u=s.getWidth(),c=s.getHeight(),h=u+l*2,m=c+l*2,w=Math.max(i,h),v=Math.max(r,m),T=Math.min(Math.floor(w/h),Math.floor(v/m)),I=Math.floor((w-u*T)/2),B=Math.floor((v-c*T)/2),F=this.createSVGElement(w,v);for(let G=0,Z=B;G<c;G++,Z+=T)for(let fe=0,me=I;fe<u;fe++,me+=T)if(s.get(fe,G)===1){const ue=this.createSvgRectElement(me,Z,T,T);F.appendChild(ue)}return F}createSVGElement(t,i){const r=document.createElementNS(qi.SVG_NS,"svg");return r.setAttributeNS(null,"height",t.toString()),r.setAttributeNS(null,"width",i.toString()),r}createSvgRectElement(t,i,r,l){const s=document.createElementNS(qi.SVG_NS,"rect");return s.setAttributeNS(null,"x",t.toString()),s.setAttributeNS(null,"y",i.toString()),s.setAttributeNS(null,"height",r.toString()),s.setAttributeNS(null,"width",l.toString()),s.setAttributeNS(null,"fill","#000000"),s}}qi.QUIET_ZONE_SIZE=4,qi.SVG_NS="http://www.w3.org/2000/svg";class Ar{encode(t,i,r,l,s){if(t.length===0)throw new P("Found empty contents");if(i!==ge.QR_CODE)throw new P("Can only encode QR_CODE, but got "+i);if(r<0||l<0)throw new P(`Requested dimensions are too small: ${r}x${l}`);let u=xt.L,c=Ar.QUIET_ZONE_SIZE;s!==null&&(s.get(Jt.ERROR_CORRECTION)!==void 0&&(u=xt.fromString(s.get(Jt.ERROR_CORRECTION).toString())),s.get(Jt.MARGIN)!==void 0&&(c=Number.parseInt(s.get(Jt.MARGIN).toString(),10)));const h=_t.encode(t,u,s);return Ar.renderResult(h,r,l,c)}static renderResult(t,i,r,l){const s=t.getMatrix();if(s===null)throw new ri;const u=s.getWidth(),c=s.getHeight(),h=u+l*2,m=c+l*2,w=Math.max(i,h),v=Math.max(r,m),T=Math.min(Math.floor(w/h),Math.floor(v/m)),I=Math.floor((w-u*T)/2),B=Math.floor((v-c*T)/2),F=new ut(w,v);for(let G=0,Z=B;G<c;G++,Z+=T)for(let fe=0,me=I;fe<u;fe++,me+=T)s.get(fe,G)===1&&F.setRegion(me,Z,T,T);return F}}Ar.QUIET_ZONE_SIZE=4;class nu{encode(t,i,r,l,s){let u;switch(i){case ge.QR_CODE:u=new Ar;break;default:throw new P("No encoder available for format "+i)}return u.encode(t,i,r,l,s)}}class li extends Be{constructor(t,i,r,l,s,u,c,h){if(super(u,c),this.yuvData=t,this.dataWidth=i,this.dataHeight=r,this.left=l,this.top=s,l+u>i||s+c>r)throw new P("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(u,c)}getRow(t,i){if(t<0||t>=this.getHeight())throw new P("Requested row is outside the image: "+t);const r=this.getWidth();(i==null||i.length<r)&&(i=new Uint8ClampedArray(r));const l=(t+this.top)*this.dataWidth+this.left;return de.arraycopy(this.yuvData,l,i,0,r),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.yuvData;const r=t*i,l=new Uint8ClampedArray(r);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return de.arraycopy(this.yuvData,s,l,0,r),l;for(let u=0;u<i;u++){const c=u*t;de.arraycopy(this.yuvData,s,l,c,t),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,i,r,l){return new li(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+i,r,l,!1)}renderThumbnail(){const t=this.getWidth()/li.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/li.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(t*i),l=this.yuvData;let s=this.top*this.dataWidth+this.left;for(let u=0;u<i;u++){const c=u*t;for(let h=0;h<t;h++){const m=l[s+h*li.THUMBNAIL_SCALE_FACTOR]&255;r[c+h]=4278190080|m*65793}s+=this.dataWidth*li.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/li.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/li.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,i){const r=this.yuvData;for(let l=0,s=this.top*this.dataWidth+this.left;l<i;l++,s+=this.dataWidth){const u=s+t/2;for(let c=s,h=s+t-1;c<u;c++,h--){const m=r[c];r[c]=r[h],r[h]=m}}}invert(){return new nt(this)}}li.THUMBNAIL_SCALE_FACTOR=2;class aa extends Be{constructor(t,i,r,l,s,u,c){if(super(i,r),this.dataWidth=l,this.dataHeight=s,this.left=u,this.top=c,t.BYTES_PER_ELEMENT===4){const h=i*r,m=new Uint8ClampedArray(h);for(let w=0;w<h;w++){const v=t[w],T=v>>16&255,I=v>>7&510,B=v&255;m[w]=(T+I+B)/4&255}this.luminances=m}else this.luminances=t;if(l===void 0&&(this.dataWidth=i),s===void 0&&(this.dataHeight=r),u===void 0&&(this.left=0),c===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+r>this.dataHeight)throw new P("Crop rectangle does not fit within image data.")}getRow(t,i){if(t<0||t>=this.getHeight())throw new P("Requested row is outside the image: "+t);const r=this.getWidth();(i==null||i.length<r)&&(i=new Uint8ClampedArray(r));const l=(t+this.top)*this.dataWidth+this.left;return de.arraycopy(this.luminances,l,i,0,r),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.luminances;const r=t*i,l=new Uint8ClampedArray(r);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return de.arraycopy(this.luminances,s,l,0,r),l;for(let u=0;u<i;u++){const c=u*t;de.arraycopy(this.luminances,s,l,c,t),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,i,r,l){return new aa(this.luminances,r,l,this.dataWidth,this.dataHeight,this.left+t,this.top+i)}invert(){return new nt(this)}}class pr extends ${static forName(t){return this.getCharacterSetECIByName(t)}}class Cl{}Cl.ISO_8859_1=$.ISO8859_1;class Sl{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class vl{static singletonList(t){return[t]}static min(t,i){return t.sort(i)[0]}}class Is{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Wi extends Is{constructor(t,i,r){super(t),this.value=i,this.bitCount=r}appendTo(t,i){t.appendBits(this.value,this.bitCount)}add(t,i){return new Wi(this,t,i)}addBinaryShift(t,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Wi(this,t,i)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+oe.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class La extends Wi{constructor(t,i,r){super(t,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=r}appendTo(t,i){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):r===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(i[this.binaryShiftStart+r],8)}addBinaryShift(t,i){return new La(this,t,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function br(S,t,i){return new La(S,t,i)}function la(S,t,i){return new Wi(S,t,i)}const iu=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Bi=0,sa=1,Un=2,Cr=3,In=4,ru=new Wi(null,0,0),Sr=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ds(S){for(let t of S)be.fill(t,-1);return S[Bi][In]=0,S[sa][In]=0,S[sa][Bi]=28,S[Cr][In]=0,S[Un][In]=0,S[Un][Bi]=15,S}const Tl=Ds(be.createInt32Array(6,6));class Gn{constructor(t,i,r,l){this.token=t,this.mode=i,this.binaryShiftByteCount=r,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,i){let r=this.bitCount,l=this.token;if(t!==this.mode){let u=Sr[this.mode][t];l=la(l,u&65535,u>>16),r+=u>>16}let s=t===Un?4:5;return l=la(l,i,s),new Gn(l,t,0,r+s)}shiftAndAppend(t,i){let r=this.token,l=this.mode===Un?4:5;return r=la(r,Tl[this.mode][t],l),r=la(r,i,5),new Gn(r,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(t){let i=this.token,r=this.mode,l=this.bitCount;if(this.mode===In||this.mode===Un){let c=Sr[r][Bi];i=la(i,c&65535,c>>16),l+=c>>16,r=Bi}let s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new Gn(i,r,this.binaryShiftByteCount+1,l+s);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(t+1)),u}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=br(i,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Gn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let i=this.bitCount+(Sr[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?i+=Gn.calculateBinaryShiftCost(t)-Gn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(i+=10),i<=t.bitCount}toBitArray(t){let i=[];for(let l=this.endBinaryShift(t.length).token;l!==null;l=l.getPrevious())i.unshift(l);let r=new Oe;for(const l of i)l.appendTo(r,t);return r}toString(){return Ce.format("%s bits=%d bytes=%d",iu[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Gn.INITIAL_STATE=new Gn(ru,Bi,0,0);function Nl(S){const t=Ce.getCharCode(" "),i=Ce.getCharCode("."),r=Ce.getCharCode(",");S[Bi][t]=1;const l=Ce.getCharCode("Z"),s=Ce.getCharCode("A");for(let T=s;T<=l;T++)S[Bi][T]=T-s+2;S[sa][t]=1;const u=Ce.getCharCode("z"),c=Ce.getCharCode("a");for(let T=c;T<=u;T++)S[sa][T]=T-c+2;S[Un][t]=1;const h=Ce.getCharCode("9"),m=Ce.getCharCode("0");for(let T=m;T<=h;T++)S[Un][T]=T-m+2;S[Un][r]=12,S[Un][i]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let T=0;T<w.length;T++)S[Cr][Ce.getCharCode(w[T])]=T;const v=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let T=0;T<v.length;T++)Ce.getCharCode(v[T])>0&&(S[In][Ce.getCharCode(v[T])]=T);return S}const ka=Nl(be.createInt32Array(5,256));class vr{constructor(t){this.text=t}encode(){const t=Ce.getCharCode(" "),i=Ce.getCharCode(`
`);let r=vl.singletonList(Gn.INITIAL_STATE);for(let s=0;s<this.text.length;s++){let u,c=s+1<this.text.length?this.text[s+1]:0;switch(this.text[s]){case Ce.getCharCode("\r"):u=c===i?2:0;break;case Ce.getCharCode("."):u=c===t?3:0;break;case Ce.getCharCode(","):u=c===t?4:0;break;case Ce.getCharCode(":"):u=c===t?5:0;break;default:u=0}u>0?(r=vr.updateStateListForPair(r,s,u),s++):r=this.updateStateListForChar(r,s)}return vl.min(r,(s,u)=>s.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,i){const r=[];for(let l of t)this.updateStateForChar(l,i,r);return vr.simplifyStates(r)}updateStateForChar(t,i,r){let l=this.text[i]&255,s=ka[t.getMode()][l]>0,u=null;for(let c=0;c<=In;c++){let h=ka[c][l];if(h>0){if(u==null&&(u=t.endBinaryShift(i)),!s||c===t.getMode()||c===Un){const m=u.latchAndAppend(c,h);r.push(m)}if(!s&&Tl[t.getMode()][c]>=0){const m=u.shiftAndAppend(c,h);r.push(m)}}}if(t.getBinaryShiftByteCount()>0||ka[t.getMode()][l]===0){let c=t.addBinaryShiftChar(i);r.push(c)}}static updateStateListForPair(t,i,r){const l=[];for(let s of t)this.updateStateForPair(s,i,r,l);return this.simplifyStates(l)}static updateStateForPair(t,i,r,l){let s=t.endBinaryShift(i);if(l.push(s.latchAndAppend(In,r)),t.getMode()!==In&&l.push(s.shiftAndAppend(In,r)),r===3||r===4){let u=s.latchAndAppend(Un,16-r).latchAndAppend(Un,1);l.push(u)}if(t.getBinaryShiftByteCount()>0){let u=t.addBinaryShiftChar(i).addBinaryShiftChar(i+1);l.push(u)}}static simplifyStates(t){let i=[];for(const r of t){let l=!0;for(const s of i){if(s.isBetterThanOrEqualTo(r)){l=!1;break}r.isBetterThanOrEqualTo(s)&&(i=i.filter(u=>u!==s))}l&&i.push(r)}return i}}class at{constructor(){}static encodeBytes(t){return at.encode(t,at.DEFAULT_EC_PERCENT,at.DEFAULT_AZTEC_LAYERS)}static encode(t,i,r){let l=new vr(t).encode(),s=oe.truncDivision(l.getSize()*i,100)+11,u=l.getSize()+s,c,h,m,w,v;if(r!==at.DEFAULT_AZTEC_LAYERS){if(c=r<0,h=Math.abs(r),h>(c?at.MAX_NB_BITS_COMPACT:at.MAX_NB_BITS))throw new P(Ce.format("Illegal value %s for layers",r));m=at.totalBitsInLayer(h,c),w=at.WORD_SIZE[h];let ue=m-m%w;if(v=at.stuffBits(l,w),v.getSize()+s>ue)throw new P("Data to large for user specified layer");if(c&&v.getSize()>w*64)throw new P("Data to large for user specified layer")}else{w=0,v=null;for(let ue=0;;ue++){if(ue>at.MAX_NB_BITS)throw new P("Data too large for an Aztec code");if(c=ue<=3,h=c?ue+1:ue,m=at.totalBitsInLayer(h,c),u>m)continue;(v==null||w!==at.WORD_SIZE[h])&&(w=at.WORD_SIZE[h],v=at.stuffBits(l,w));let Ve=m-m%w;if(!(c&&v.getSize()>w*64)&&v.getSize()+s<=Ve)break}}let T=at.generateCheckWords(v,m,w),I=v.getSize()/w,B=at.generateModeMessage(c,h,I),F=(c?11:14)+h*4,G=new Int32Array(F),Z;if(c){Z=F;for(let ue=0;ue<G.length;ue++)G[ue]=ue}else{Z=F+1+2*oe.truncDivision(oe.truncDivision(F,2)-1,15);let ue=oe.truncDivision(F,2),Ve=oe.truncDivision(Z,2);for(let He=0;He<ue;He++){let Sn=He+oe.truncDivision(He,15);G[ue-He-1]=Ve-Sn-1,G[ue+He]=Ve+Sn+1}}let fe=new ut(Z);for(let ue=0,Ve=0;ue<h;ue++){let He=(h-ue)*4+(c?9:12);for(let Sn=0;Sn<He;Sn++){let Vn=Sn*2;for(let Dn=0;Dn<2;Dn++)T.get(Ve+Vn+Dn)&&fe.set(G[ue*2+Dn],G[ue*2+Sn]),T.get(Ve+He*2+Vn+Dn)&&fe.set(G[ue*2+Sn],G[F-1-ue*2-Dn]),T.get(Ve+He*4+Vn+Dn)&&fe.set(G[F-1-ue*2-Dn],G[F-1-ue*2-Sn]),T.get(Ve+He*6+Vn+Dn)&&fe.set(G[F-1-ue*2-Sn],G[ue*2+Dn])}Ve+=He*8}if(at.drawModeMessage(fe,c,Z,B),c)at.drawBullsEye(fe,oe.truncDivision(Z,2),5);else{at.drawBullsEye(fe,oe.truncDivision(Z,2),7);for(let ue=0,Ve=0;ue<oe.truncDivision(F,2)-1;ue+=15,Ve+=16)for(let He=oe.truncDivision(Z,2)&1;He<Z;He+=2)fe.set(oe.truncDivision(Z,2)-Ve,He),fe.set(oe.truncDivision(Z,2)+Ve,He),fe.set(He,oe.truncDivision(Z,2)-Ve),fe.set(He,oe.truncDivision(Z,2)+Ve)}let me=new Sl;return me.setCompact(c),me.setSize(Z),me.setLayers(h),me.setCodeWords(I),me.setMatrix(fe),me}static drawBullsEye(t,i,r){for(let l=0;l<r;l+=2)for(let s=i-l;s<=i+l;s++)t.set(s,i-l),t.set(s,i+l),t.set(i-l,s),t.set(i+l,s);t.set(i-r,i-r),t.set(i-r+1,i-r),t.set(i-r,i-r+1),t.set(i+r,i-r),t.set(i+r,i-r+1),t.set(i+r,i+r-1)}static generateModeMessage(t,i,r){let l=new Oe;return t?(l.appendBits(i-1,2),l.appendBits(r-1,6),l=at.generateCheckWords(l,28,4)):(l.appendBits(i-1,5),l.appendBits(r-1,11),l=at.generateCheckWords(l,40,4)),l}static drawModeMessage(t,i,r,l){let s=oe.truncDivision(r,2);if(i)for(let u=0;u<7;u++){let c=s-3+u;l.get(u)&&t.set(c,s-5),l.get(u+7)&&t.set(s+5,c),l.get(20-u)&&t.set(c,s+5),l.get(27-u)&&t.set(s-5,c)}else for(let u=0;u<10;u++){let c=s-5+u+oe.truncDivision(u,5);l.get(u)&&t.set(c,s-7),l.get(u+10)&&t.set(s+7,c),l.get(29-u)&&t.set(c,s+7),l.get(39-u)&&t.set(s-7,c)}}static generateCheckWords(t,i,r){let l=t.getSize()/r,s=new bl(at.getGF(r)),u=oe.truncDivision(i,r),c=at.bitsToWords(t,r,u);s.encode(c,u-l);let h=i%r,m=new Oe;m.appendBits(0,h);for(const w of Array.from(c))m.appendBits(w,r);return m}static bitsToWords(t,i,r){let l=new Int32Array(r),s,u;for(s=0,u=t.getSize()/i;s<u;s++){let c=0;for(let h=0;h<i;h++)c|=t.get(s*i+h)?1<<i-h-1:0;l[s]=c}return l}static getGF(t){switch(t){case 4:return lt.AZTEC_PARAM;case 6:return lt.AZTEC_DATA_6;case 8:return lt.AZTEC_DATA_8;case 10:return lt.AZTEC_DATA_10;case 12:return lt.AZTEC_DATA_12;default:throw new P("Unsupported word size "+t)}}static stuffBits(t,i){let r=new Oe,l=t.getSize(),s=(1<<i)-2;for(let u=0;u<l;u+=i){let c=0;for(let h=0;h<i;h++)(u+h>=l||t.get(u+h))&&(c|=1<<i-1-h);(c&s)===s?(r.appendBits(c&s,i),u--):(c&s)===0?(r.appendBits(c|1,i),u--):r.appendBits(c,i)}return r}static totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}at.DEFAULT_EC_PERCENT=33,at.DEFAULT_AZTEC_LAYERS=0,at.MAX_NB_BITS=32,at.MAX_NB_BITS_COMPACT=4,at.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ua{encode(t,i,r,l){return this.encodeWithHints(t,i,r,l,null)}encodeWithHints(t,i,r,l,s){let u=Cl.ISO_8859_1,c=at.DEFAULT_EC_PERCENT,h=at.DEFAULT_AZTEC_LAYERS;return s!=null&&(s.has(Jt.CHARACTER_SET)&&(u=pr.forName(s.get(Jt.CHARACTER_SET).toString())),s.has(Jt.ERROR_CORRECTION)&&(c=oe.parseInt(s.get(Jt.ERROR_CORRECTION).toString())),s.has(Jt.AZTEC_LAYERS)&&(h=oe.parseInt(s.get(Jt.AZTEC_LAYERS).toString()))),Ua.encodeLayers(t,i,r,l,u,c,h)}static encodeLayers(t,i,r,l,s,u,c){if(i!==ge.AZTEC)throw new P("Can only encode AZTEC, but got "+i);let h=at.encode(Ce.getBytes(t,s),u,c);return Ua.renderResult(h,r,l)}static renderResult(t,i,r){let l=t.getMatrix();if(l==null)throw new ri;let s=l.getWidth(),u=l.getHeight(),c=Math.max(i,s),h=Math.max(r,u),m=Math.min(c/s,h/u),w=(c-s*m)/2,v=(h-u*m)/2,T=new ut(c,h);for(let I=0,B=v;I<u;I++,B+=m)for(let F=0,G=w;F<s;F++,G+=m)l.get(F,I)&&T.setRegion(G,B,m,m);return T}}x.AbstractExpandedDecoder=Jr,x.ArgumentException=D,x.ArithmeticException=gr,x.AztecCode=Sl,x.AztecCodeReader=Ca,x.AztecCodeWriter=Ua,x.AztecDecoder=St,x.AztecDetector=bs,x.AztecDetectorResult=xl,x.AztecEncoder=at,x.AztecHighLevelEncoder=vr,x.AztecPoint=yt,x.BarcodeFormat=ge,x.Binarizer=pe,x.BinaryBitmap=ne,x.BitArray=Oe,x.BitMatrix=ut,x.BitSource=On,x.BrowserAztecCodeReader=Zo,x.BrowserBarcodeReader=Ts,x.BrowserCodeReader=Ae,x.BrowserDatamatrixCodeReader=qo,x.BrowserMultiFormatReader=Jo,x.BrowserPDF417Reader=$o,x.BrowserQRCodeReader=eu,x.BrowserQRCodeSvgWriter=qi,x.CharacterSetECI=$,x.ChecksumException=ye,x.Code128Reader=Ee,x.Code39Reader=Ot,x.DataMatrixDecodedBitStreamParser=Ti,x.DataMatrixReader=Wn,x.DecodeHintType=ke,x.DecoderResult=Pn,x.DefaultGridSampler=Rn,x.DetectorResult=ba,x.EAN13Reader=Zn,x.EncodeHintType=Jt,x.Exception=p,x.FormatException=le,x.GenericGF=lt,x.GenericGFPoly=ln,x.GlobalHistogramBinarizer=Q,x.GridSampler=ml,x.GridSamplerInstance=Cn,x.HTMLCanvasElementLuminanceSource=U,x.HybridBinarizer=ie,x.ITFReader=ft,x.IllegalArgumentException=P,x.IllegalStateException=ri,x.InvertedLuminanceSource=nt,x.LuminanceSource=Be,x.MathUtils=rt,x.MultiFormatOneDReader=vi,x.MultiFormatReader=_s,x.MultiFormatWriter=nu,x.NotFoundException=q,x.OneDReader=Bt,x.PDF417DecodedBitStreamParser=K,x.PDF417DecoderErrorCorrection=ta,x.PDF417Reader=fn,x.PDF417ResultMetadata=Da,x.PerspectiveTransform=bn,x.PlanarYUVLuminanceSource=li,x.QRCodeByteMatrix=ra,x.QRCodeDataMask=cn,x.QRCodeDecodedBitStreamParser=Lt,x.QRCodeDecoderErrorCorrectionLevel=xt,x.QRCodeDecoderFormatInformation=un,x.QRCodeEncoder=_t,x.QRCodeEncoderQRCode=Zi,x.QRCodeMaskUtil=Ft,x.QRCodeMatrixUtil=Ue,x.QRCodeMode=De,x.QRCodeReader=yi,x.QRCodeVersion=_e,x.QRCodeWriter=Ar,x.RGBLuminanceSource=aa,x.RSS14Reader=ht,x.RSSExpandedReader=ae,x.ReaderException=na,x.ReedSolomonDecoder=qr,x.ReedSolomonEncoder=bl,x.ReedSolomonException=bi,x.Result=ve,x.ResultMetadataType=Ye,x.ResultPoint=Ne,x.StringUtils=Ce,x.UnsupportedOperationException=Xe,x.VideoInputDevice=se,x.WhiteRectangleDetector=gi,x.WriterException=wt,x.ZXingArrays=be,x.ZXingCharset=pr,x.ZXingInteger=oe,x.ZXingStandardCharsets=Cl,x.ZXingStringBuilder=Ze,x.ZXingStringEncoding=je,x.ZXingSystem=de,x.createAbstractExpandedDecoder=wl,Object.defineProperty(x,"__esModule",{value:!0})}))})(gs,gs.exports)),gs.exports}var kt=gx();const xx=l1(kt),mx=T2({__proto__:null,default:xx},[kt]);var Rh=(function(){function d(y,x,E){if(this.formatMap=new Map([[Te.QR_CODE,kt.BarcodeFormat.QR_CODE],[Te.AZTEC,kt.BarcodeFormat.AZTEC],[Te.CODABAR,kt.BarcodeFormat.CODABAR],[Te.CODE_39,kt.BarcodeFormat.CODE_39],[Te.CODE_93,kt.BarcodeFormat.CODE_93],[Te.CODE_128,kt.BarcodeFormat.CODE_128],[Te.DATA_MATRIX,kt.BarcodeFormat.DATA_MATRIX],[Te.MAXICODE,kt.BarcodeFormat.MAXICODE],[Te.ITF,kt.BarcodeFormat.ITF],[Te.EAN_13,kt.BarcodeFormat.EAN_13],[Te.EAN_8,kt.BarcodeFormat.EAN_8],[Te.PDF_417,kt.BarcodeFormat.PDF_417],[Te.RSS_14,kt.BarcodeFormat.RSS_14],[Te.RSS_EXPANDED,kt.BarcodeFormat.RSS_EXPANDED],[Te.UPC_A,kt.BarcodeFormat.UPC_A],[Te.UPC_E,kt.BarcodeFormat.UPC_E],[Te.UPC_EAN_EXTENSION,kt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!mx)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=x,this.logger=E;var b=this.createZXingFormats(y),A=new Map;A.set(kt.DecodeHintType.POSSIBLE_FORMATS,b),A.set(kt.DecodeHintType.TRY_HARDER,!1),this.hints=A}return d.prototype.decodeAsync=function(y){var x=this;return new Promise(function(E,b){try{E(x.decode(y))}catch(A){b(A)}})},d.prototype.decode=function(y){var x=new kt.MultiFormatReader(this.verbose,this.hints),E=new kt.HTMLCanvasElementLuminanceSource(y),b=new kt.BinaryBitmap(new kt.HybridBinarizer(E)),A=x.decode(b);return{text:A.text,format:ad.create(this.toHtml5QrcodeSupportedFormats(A.format)),debugData:this.createDebugData()}},d.prototype.createReverseFormatMap=function(){var y=new Map;return this.formatMap.forEach(function(x,E,b){y.set(x,E)}),y},d.prototype.toHtml5QrcodeSupportedFormats=function(y){if(!this.reverseFormatMap.has(y))throw"reverseFormatMap doesn't have ".concat(y);return this.reverseFormatMap.get(y)},d.prototype.createZXingFormats=function(y){for(var x=[],E=0,b=y;E<b.length;E++){var A=b[E];this.formatMap.has(A)?x.push(this.formatMap.get(A)):this.logger.logError("".concat(A," is not supported by")+"ZXingHtml5QrcodeShim")}return x},d.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},d})(),yx=function(d,y,x,E){function b(A){return A instanceof x?A:new x(function(R){R(A)})}return new(x||(x=Promise))(function(A,R){function k(D){try{p(E.next(D))}catch(P){R(P)}}function _(D){try{p(E.throw(D))}catch(P){R(P)}}function p(D){D.done?A(D.value):b(D.value).then(k,_)}p((E=E.apply(d,y||[])).next())})},Ex=function(d,y){var x={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},E,b,A,R;return R={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function k(p){return function(D){return _([p,D])}}function _(p){if(E)throw new TypeError("Generator is already executing.");for(;R&&(R=0,p[0]&&(x=0)),x;)try{if(E=1,b&&(A=p[0]&2?b.return:p[0]?b.throw||((A=b.return)&&A.call(b),0):b.next)&&!(A=A.call(b,p[1])).done)return A;switch(b=0,A&&(p=[p[0]&2,A.value]),p[0]){case 0:case 1:A=p;break;case 4:return x.label++,{value:p[1],done:!1};case 5:x.label++,b=p[1],p=[0];continue;case 7:p=x.ops.pop(),x.trys.pop();continue;default:if(A=x.trys,!(A=A.length>0&&A[A.length-1])&&(p[0]===6||p[0]===2)){x=0;continue}if(p[0]===3&&(!A||p[1]>A[0]&&p[1]<A[3])){x.label=p[1];break}if(p[0]===6&&x.label<A[1]){x.label=A[1],A=p;break}if(A&&x.label<A[2]){x.label=A[2],x.ops.push(p);break}A[2]&&x.ops.pop(),x.trys.pop();continue}p=y.call(d,x)}catch(D){p=[6,D],b=0}finally{E=A=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Oh=(function(){function d(y,x,E){if(this.formatMap=new Map([[Te.QR_CODE,"qr_code"],[Te.AZTEC,"aztec"],[Te.CODABAR,"codabar"],[Te.CODE_39,"code_39"],[Te.CODE_93,"code_93"],[Te.CODE_128,"code_128"],[Te.DATA_MATRIX,"data_matrix"],[Te.ITF,"itf"],[Te.EAN_13,"ean_13"],[Te.EAN_8,"ean_8"],[Te.PDF_417,"pdf417"],[Te.UPC_A,"upc_a"],[Te.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!d.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=x,this.logger=E;var b=this.createBarcodeDetectorFormats(y);if(this.detector=new BarcodeDetector(b),!this.detector)throw"BarcodeDetector detector not supported"}return d.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var y=new BarcodeDetector({formats:["qr_code"]});return typeof y<"u"},d.prototype.decodeAsync=function(y){return yx(this,void 0,void 0,function(){var x,E;return Ex(this,function(b){switch(b.label){case 0:return[4,this.detector.detect(y)];case 1:if(x=b.sent(),!x||x.length===0)throw"No barcode or QR code detected.";return E=this.selectLargestBarcode(x),[2,{text:E.rawValue,format:ad.create(this.toHtml5QrcodeSupportedFormats(E.format)),debugData:this.createDebugData()}]}})})},d.prototype.selectLargestBarcode=function(y){for(var x=null,E=0,b=0,A=y;b<A.length;b++){var R=A[b],k=R.boundingBox.width*R.boundingBox.height;k>E&&(E=k,x=R)}if(!x)throw"No largest barcode found";return x},d.prototype.createBarcodeDetectorFormats=function(y){for(var x=[],E=0,b=y;E<b.length;E++){var A=b[E];this.formatMap.has(A)?x.push(this.formatMap.get(A)):this.logger.warn("".concat(A," is not supported by")+"BarcodeDetectorDelegate")}return{formats:x}},d.prototype.toHtml5QrcodeSupportedFormats=function(y){if(!this.reverseFormatMap.has(y))throw"reverseFormatMap doesn't have ".concat(y);return this.reverseFormatMap.get(y)},d.prototype.createReverseFormatMap=function(){var y=new Map;return this.formatMap.forEach(function(x,E,b){y.set(x,E)}),y},d.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},d})(),_h=function(d,y,x,E){function b(A){return A instanceof x?A:new x(function(R){R(A)})}return new(x||(x=Promise))(function(A,R){function k(D){try{p(E.next(D))}catch(P){R(P)}}function _(D){try{p(E.throw(D))}catch(P){R(P)}}function p(D){D.done?A(D.value):b(D.value).then(k,_)}p((E=E.apply(d,y||[])).next())})},Ih=function(d,y){var x={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},E,b,A,R;return R={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function k(p){return function(D){return _([p,D])}}function _(p){if(E)throw new TypeError("Generator is already executing.");for(;R&&(R=0,p[0]&&(x=0)),x;)try{if(E=1,b&&(A=p[0]&2?b.return:p[0]?b.throw||((A=b.return)&&A.call(b),0):b.next)&&!(A=A.call(b,p[1])).done)return A;switch(b=0,A&&(p=[p[0]&2,A.value]),p[0]){case 0:case 1:A=p;break;case 4:return x.label++,{value:p[1],done:!1};case 5:x.label++,b=p[1],p=[0];continue;case 7:p=x.ops.pop(),x.trys.pop();continue;default:if(A=x.trys,!(A=A.length>0&&A[A.length-1])&&(p[0]===6||p[0]===2)){x=0;continue}if(p[0]===3&&(!A||p[1]>A[0]&&p[1]<A[3])){x.label=p[1];break}if(p[0]===6&&x.label<A[1]){x.label=A[1],A=p;break}if(A&&x.label<A[2]){x.label=A[2],x.ops.push(p);break}A[2]&&x.ops.pop(),x.trys.pop();continue}p=y.call(d,x)}catch(D){p=[6,D],b=0}finally{E=A=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},wx=(function(){function d(y,x,E,b){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=E,x&&Oh.isSupported()?(this.primaryDecoder=new Oh(y,E,b),this.secondaryDecoder=new Rh(y,E,b)):this.primaryDecoder=new Rh(y,E,b)}return d.prototype.decodeAsync=function(y){return _h(this,void 0,void 0,function(){var x;return Ih(this,function(E){switch(E.label){case 0:x=performance.now(),E.label=1;case 1:return E.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(y)];case 2:return[2,E.sent()];case 3:return this.possiblyLogPerformance(x),[7];case 4:return[2]}})})},d.prototype.decodeRobustlyAsync=function(y){return _h(this,void 0,void 0,function(){var x,E;return Ih(this,function(b){switch(b.label){case 0:x=performance.now(),b.label=1;case 1:return b.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(y)];case 2:return[2,b.sent()];case 3:if(E=b.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(y)];throw E;case 4:return this.possiblyLogPerformance(x),[7];case 5:return[2]}})})},d.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},d.prototype.possiblyLogPerformance=function(y){if(this.verbose){var x=performance.now()-y;this.executionResults.push(x),this.executions++,this.possiblyFlushPerformanceReport()}},d.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var y=0,x=0,E=this.executionResults;x<E.length;x++){var b=E[x];y+=b}var A=y/this.executionResults.length;console.log("".concat(A," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},d})(),g1=(function(){var d=function(y,x){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,b){E.__proto__=b}||function(E,b){for(var A in b)Object.prototype.hasOwnProperty.call(b,A)&&(E[A]=b[A])},d(y,x)};return function(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");d(y,x);function E(){this.constructor=y}y.prototype=x===null?Object.create(x):(E.prototype=x.prototype,new E)}})(),Ho=function(d,y,x,E){function b(A){return A instanceof x?A:new x(function(R){R(A)})}return new(x||(x=Promise))(function(A,R){function k(D){try{p(E.next(D))}catch(P){R(P)}}function _(D){try{p(E.throw(D))}catch(P){R(P)}}function p(D){D.done?A(D.value):b(D.value).then(k,_)}p((E=E.apply(d,y||[])).next())})},Go=function(d,y){var x={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},E,b,A,R;return R={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function k(p){return function(D){return _([p,D])}}function _(p){if(E)throw new TypeError("Generator is already executing.");for(;R&&(R=0,p[0]&&(x=0)),x;)try{if(E=1,b&&(A=p[0]&2?b.return:p[0]?b.throw||((A=b.return)&&A.call(b),0):b.next)&&!(A=A.call(b,p[1])).done)return A;switch(b=0,A&&(p=[p[0]&2,A.value]),p[0]){case 0:case 1:A=p;break;case 4:return x.label++,{value:p[1],done:!1};case 5:x.label++,b=p[1],p=[0];continue;case 7:p=x.ops.pop(),x.trys.pop();continue;default:if(A=x.trys,!(A=A.length>0&&A[A.length-1])&&(p[0]===6||p[0]===2)){x=0;continue}if(p[0]===3&&(!A||p[1]>A[0]&&p[1]<A[3])){x.label=p[1];break}if(p[0]===6&&x.label<A[1]){x.label=A[1],A=p;break}if(A&&x.label<A[2]){x.label=A[2],x.ops.push(p);break}A[2]&&x.ops.pop(),x.trys.pop();continue}p=y.call(d,x)}catch(D){p=[6,D],b=0}finally{E=A=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},sd=(function(){function d(y,x){this.name=y,this.track=x}return d.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},d.prototype.apply=function(y){var x={};x[this.name]=y;var E={advanced:[x]};return this.track.applyConstraints(E)},d.prototype.value=function(){var y=this.track.getSettings();if(this.name in y){var x=y[this.name];return x}return null},d})(),Ax=(function(d){g1(y,d);function y(x,E){return d.call(this,x,E)||this}return y.prototype.min=function(){return this.getCapabilities().min},y.prototype.max=function(){return this.getCapabilities().max},y.prototype.step=function(){return this.getCapabilities().step},y.prototype.apply=function(x){var E={};E[this.name]=x;var b={advanced:[E]};return this.track.applyConstraints(b)},y.prototype.getCapabilities=function(){this.failIfNotSupported();var x=this.track.getCapabilities(),E=x[this.name];return{min:E.min,max:E.max,step:E.step}},y.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},y})(sd),px=(function(d){g1(y,d);function y(x){return d.call(this,"zoom",x)||this}return y})(Ax),bx=(function(d){g1(y,d);function y(x){return d.call(this,"torch",x)||this}return y})(sd),Cx=(function(){function d(y){this.track=y}return d.prototype.zoomFeature=function(){return new px(this.track)},d.prototype.torchFeature=function(){return new bx(this.track)},d})(),Sx=(function(){function d(y,x,E){this.isClosed=!1,this.parentElement=y,this.mediaStream=x,this.callbacks=E,this.surface=this.createVideoElement(this.parentElement.clientWidth),y.append(this.surface)}return d.prototype.createVideoElement=function(y){var x=document.createElement("video");return x.style.width="".concat(y,"px"),x.style.display="block",x.muted=!0,x.setAttribute("muted","true"),x.playsInline=!0,x},d.prototype.setupSurface=function(){var y=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var x=function(){var E=y.surface.clientWidth,b=y.surface.clientHeight;y.callbacks.onRenderSurfaceReady(E,b),y.surface.removeEventListener("playing",x)};this.surface.addEventListener("playing",x),this.surface.srcObject=this.mediaStream,this.surface.play()},d.create=function(y,x,E,b){return Ho(this,void 0,void 0,function(){var A,R;return Go(this,function(k){switch(k.label){case 0:return A=new d(y,x,b),E.aspectRatio?(R={aspectRatio:E.aspectRatio},[4,A.getFirstTrackOrFail().applyConstraints(R)]):[3,2];case 1:k.sent(),k.label=2;case 2:return A.setupSurface(),[2,A]}})})},d.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},d.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},d.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},d.prototype.resume=function(y){this.failIfClosed();var x=this,E=function(){setTimeout(y,200),x.surface.removeEventListener("playing",E)};this.surface.addEventListener("playing",E),this.surface.play()},d.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},d.prototype.getSurface=function(){return this.failIfClosed(),this.surface},d.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},d.prototype.applyVideoConstraints=function(y){return Ho(this,void 0,void 0,function(){return Go(this,function(x){if("aspectRatio"in y)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(y)]})})},d.prototype.close=function(){if(this.isClosed)return Promise.resolve();var y=this;return new Promise(function(x,E){var b=y.mediaStream.getVideoTracks(),A=b.length,R=0;y.mediaStream.getVideoTracks().forEach(function(k){y.mediaStream.removeTrack(k),k.stop(),++R,R>=A&&(y.isClosed=!0,y.parentElement.removeChild(y.surface),x())})})},d.prototype.getCapabilities=function(){return new Cx(this.getFirstTrackOrFail())},d})(),vx=(function(){function d(y){this.mediaStream=y}return d.prototype.render=function(y,x,E){return Ho(this,void 0,void 0,function(){return Go(this,function(b){return[2,Sx.create(y,this.mediaStream,x,E)]})})},d.create=function(y){return Ho(this,void 0,void 0,function(){var x,E;return Go(this,function(b){switch(b.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return x={audio:!1,video:y},[4,navigator.mediaDevices.getUserMedia(x)];case 1:return E=b.sent(),[2,new d(E)]}})})},d})(),Dh=function(d,y,x,E){function b(A){return A instanceof x?A:new x(function(R){R(A)})}return new(x||(x=Promise))(function(A,R){function k(D){try{p(E.next(D))}catch(P){R(P)}}function _(D){try{p(E.throw(D))}catch(P){R(P)}}function p(D){D.done?A(D.value):b(D.value).then(k,_)}p((E=E.apply(d,y||[])).next())})},Mh=function(d,y){var x={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},E,b,A,R;return R={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function k(p){return function(D){return _([p,D])}}function _(p){if(E)throw new TypeError("Generator is already executing.");for(;R&&(R=0,p[0]&&(x=0)),x;)try{if(E=1,b&&(A=p[0]&2?b.return:p[0]?b.throw||((A=b.return)&&A.call(b),0):b.next)&&!(A=A.call(b,p[1])).done)return A;switch(b=0,A&&(p=[p[0]&2,A.value]),p[0]){case 0:case 1:A=p;break;case 4:return x.label++,{value:p[1],done:!1};case 5:x.label++,b=p[1],p=[0];continue;case 7:p=x.ops.pop(),x.trys.pop();continue;default:if(A=x.trys,!(A=A.length>0&&A[A.length-1])&&(p[0]===6||p[0]===2)){x=0;continue}if(p[0]===3&&(!A||p[1]>A[0]&&p[1]<A[3])){x.label=p[1];break}if(p[0]===6&&x.label<A[1]){x.label=A[1],A=p;break}if(A&&x.label<A[2]){x.label=A[2],x.ops.push(p);break}A[2]&&x.ops.pop(),x.trys.pop();continue}p=y.call(d,x)}catch(D){p=[6,D],b=0}finally{E=A=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Tx=(function(){function d(){}return d.failIfNotSupported=function(){return Dh(this,void 0,void 0,function(){return Mh(this,function(y){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new d]})})},d.prototype.create=function(y){return Dh(this,void 0,void 0,function(){return Mh(this,function(x){return[2,vx.create(y)]})})},d})(),Nx=function(d,y,x,E){function b(A){return A instanceof x?A:new x(function(R){R(A)})}return new(x||(x=Promise))(function(A,R){function k(D){try{p(E.next(D))}catch(P){R(P)}}function _(D){try{p(E.throw(D))}catch(P){R(P)}}function p(D){D.done?A(D.value):b(D.value).then(k,_)}p((E=E.apply(d,y||[])).next())})},Rx=function(d,y){var x={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},E,b,A,R;return R={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function k(p){return function(D){return _([p,D])}}function _(p){if(E)throw new TypeError("Generator is already executing.");for(;R&&(R=0,p[0]&&(x=0)),x;)try{if(E=1,b&&(A=p[0]&2?b.return:p[0]?b.throw||((A=b.return)&&A.call(b),0):b.next)&&!(A=A.call(b,p[1])).done)return A;switch(b=0,A&&(p=[p[0]&2,A.value]),p[0]){case 0:case 1:A=p;break;case 4:return x.label++,{value:p[1],done:!1};case 5:x.label++,b=p[1],p=[0];continue;case 7:p=x.ops.pop(),x.trys.pop();continue;default:if(A=x.trys,!(A=A.length>0&&A[A.length-1])&&(p[0]===6||p[0]===2)){x=0;continue}if(p[0]===3&&(!A||p[1]>A[0]&&p[1]<A[3])){x.label=p[1];break}if(p[0]===6&&x.label<A[1]){x.label=A[1],A=p;break}if(A&&x.label<A[2]){x.label=A[2],x.ops.push(p);break}A[2]&&x.ops.pop(),x.trys.pop();continue}p=y.call(d,x)}catch(D){p=[6,D],b=0}finally{E=A=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Ox=(function(){function d(){}return d.retrieve=function(){if(navigator.mediaDevices)return d.getCamerasFromMediaDevices();var y=MediaStreamTrack;return MediaStreamTrack&&y.getSources?d.getCamerasFromMediaStreamTrack():d.rejectWithError()},d.rejectWithError=function(){var y=fl.unableToQuerySupportedDevices();return d.isHttpsOrLocalhost()||(y=fl.insecureContextCameraQueryError()),Promise.reject(y)},d.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var y=location.host.split(":")[0];return y==="127.0.0.1"||y==="localhost"},d.getCamerasFromMediaDevices=function(){return Nx(this,void 0,void 0,function(){var y,x,E,b,A,R,k;return Rx(this,function(_){switch(_.label){case 0:return y=function(p){for(var D=p.getVideoTracks(),P=0,ne=D;P<ne.length;P++){var ye=ne[P];ye.enabled=!1,ye.stop(),p.removeTrack(ye)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return x=_.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(E=_.sent(),b=[],A=0,R=E;A<R.length;A++)k=R[A],k.kind==="videoinput"&&b.push({id:k.deviceId,label:k.label});return y(x),[2,b]}})})},d.getCamerasFromMediaStreamTrack=function(){return new Promise(function(y,x){var E=function(A){for(var R=[],k=0,_=A;k<_.length;k++){var p=_[k];p.kind==="video"&&R.push({id:p.id,label:p.label})}y(R)},b=MediaStreamTrack;b.getSources(E)})},d})(),qt;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.NOT_STARTED=1]="NOT_STARTED",d[d.SCANNING=2]="SCANNING",d[d.PAUSED=3]="PAUSED"})(qt||(qt={}));var _x=(function(){function d(){this.state=qt.NOT_STARTED,this.onGoingTransactionNewState=qt.UNKNOWN}return d.prototype.directTransition=function(y){this.failIfTransitionOngoing(),this.validateTransition(y),this.state=y},d.prototype.startTransition=function(y){return this.failIfTransitionOngoing(),this.validateTransition(y),this.onGoingTransactionNewState=y,this},d.prototype.execute=function(){if(this.onGoingTransactionNewState===qt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var y=this.onGoingTransactionNewState;this.onGoingTransactionNewState=qt.UNKNOWN,this.directTransition(y)},d.prototype.cancel=function(){if(this.onGoingTransactionNewState===qt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=qt.UNKNOWN},d.prototype.getState=function(){return this.state},d.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==qt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},d.prototype.validateTransition=function(y){switch(this.state){case qt.UNKNOWN:throw"Transition from unknown is not allowed";case qt.NOT_STARTED:this.failIfNewStateIs(y,[qt.PAUSED]);break;case qt.SCANNING:break;case qt.PAUSED:break}},d.prototype.failIfNewStateIs=function(y,x){for(var E=0,b=x;E<b.length;E++){var A=b[E];if(y===A)throw"Cannot transition from ".concat(this.state," to ").concat(y)}},d})(),Ix=(function(){function d(y){this.stateManager=y}return d.prototype.startTransition=function(y){return this.stateManager.startTransition(y)},d.prototype.directTransition=function(y){this.stateManager.directTransition(y)},d.prototype.getState=function(){return this.stateManager.getState()},d.prototype.canScanFile=function(){return this.stateManager.getState()===qt.NOT_STARTED},d.prototype.isScanning=function(){return this.stateManager.getState()!==qt.NOT_STARTED},d.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===qt.SCANNING},d.prototype.isPaused=function(){return this.stateManager.getState()===qt.PAUSED},d})(),Dx=(function(){function d(){}return d.create=function(){return new Ix(new _x)},d})(),Mx=(function(){var d=function(y,x){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,b){E.__proto__=b}||function(E,b){for(var A in b)Object.prototype.hasOwnProperty.call(b,A)&&(E[A]=b[A])},d(y,x)};return function(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");d(y,x);function E(){this.constructor=y}y.prototype=x===null?Object.create(x):(E.prototype=x.prototype,new E)}})(),ii=(function(d){Mx(y,d);function y(){return d!==null&&d.apply(this,arguments)||this}return y.DEFAULT_WIDTH=300,y.DEFAULT_WIDTH_OFFSET=2,y.FILE_SCAN_MIN_HEIGHT=300,y.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,y.MIN_QR_BOX_SIZE=50,y.SHADED_LEFT=1,y.SHADED_RIGHT=2,y.SHADED_TOP=3,y.SHADED_BOTTOM=4,y.SHADED_REGION_ELEMENT_ID="qr-shaded-region",y.VERBOSE=!1,y.BORDER_SHADER_DEFAULT_COLOR="#ffffff",y.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",y})(cx),Bx=(function(){function d(y,x){this.logger=x,this.fps=ii.SCAN_DEFAULT_FPS,y?(y.fps&&(this.fps=y.fps),this.disableFlip=y.disableFlip===!0,this.qrbox=y.qrbox,this.aspectRatio=y.aspectRatio,this.videoConstraints=y.videoConstraints):this.disableFlip=ii.DEFAULT_DISABLE_FLIP}return d.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?ld.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},d.prototype.isShadedBoxEnabled=function(){return!cr(this.qrbox)},d.create=function(y,x){return new d(y,x)},d})(),Lx=(function(){function d(y,x){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(y))throw"HTML Element with id=".concat(y," not found");this.elementId=y,this.verbose=!1;var E;typeof x=="boolean"?this.verbose=x===!0:x&&(E=x,this.verbose=E.verbose===!0,E.experimentalFeatures),this.logger=new hx(this.verbose),this.qrcode=new wx(this.getSupportedFormats(x),this.getUseBarCodeDetectorIfSupported(E),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Dx.create()}return d.prototype.start=function(y,x,E,b){var A=this;if(!y)throw"cameraIdOrConfig is required";if(!E||typeof E!="function")throw"qrCodeSuccessCallback is required and should be a function.";var R;b?R=b:R=this.verbose?this.logger.log:function(){};var k=Bx.create(x,this.logger);this.clearElement();var _=!1;k.videoConstraints&&(k.isMediaStreamConstraintsValid()?_=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=_,D=document.getElementById(this.elementId);D.clientWidth?D.clientWidth:ii.DEFAULT_WIDTH,D.style.position="relative",this.shouldScan=!0,this.element=D;var P=this,ne=this.stateManagerProxy.startTransition(qt.SCANNING);return new Promise(function(ye,pe){var de=p?k.videoConstraints:P.createVideoConstraints(y);if(!de){ne.cancel(),pe("videoConstraints should be defined");return}var he={};(!p||k.aspectRatio)&&(he.aspectRatio=k.aspectRatio);var ce={onRenderSurfaceReady:function(be,oe){P.setupUi(be,oe,k),P.isScanning=!0,P.foreverScan(k,E,R)}};Tx.failIfNotSupported().then(function(be){be.create(de).then(function(oe){return oe.render(A.element,he,ce).then(function(Oe){P.renderedCamera=Oe,ne.execute(),ye(null)}).catch(function(Oe){ne.cancel(),pe(Oe)})}).catch(function(oe){ne.cancel(),pe(fl.errorGettingUserMedia(oe))})}).catch(function(be){ne.cancel(),pe(fl.cameraStreamingNotSupported())})})},d.prototype.pause=function(y){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(qt.PAUSED),this.showPausedState(),(cr(y)||y!==!0)&&(y=!1),y&&this.renderedCamera&&this.renderedCamera.pause()},d.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var y=this,x=function(){y.stateManagerProxy.directTransition(qt.SCANNING),y.hidePausedState()};if(!this.renderedCamera.isPaused()){x();return}this.renderedCamera.resume(function(){x()})},d.prototype.getState=function(){return this.stateManagerProxy.getState()},d.prototype.stop=function(){var y=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var x=this.stateManagerProxy.startTransition(qt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var E=function(){if(y.element){var A=document.getElementById(ii.SHADED_REGION_ELEMENT_ID);A&&y.element.removeChild(A)}},b=this;return this.renderedCamera.close().then(function(){return b.renderedCamera=null,b.element&&(b.element.removeChild(b.canvasElement),b.canvasElement=null),E(),b.qrRegion&&(b.qrRegion=null),b.context&&(b.context=null),x.execute(),b.hidePausedState(),b.isScanning=!1,Promise.resolve()})},d.prototype.scanFile=function(y,x){return this.scanFileV2(y,x).then(function(E){return E.decodedText})},d.prototype.scanFileV2=function(y,x){var E=this;if(!y||!(y instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(cr(x)&&(x=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(b,A){E.possiblyCloseLastScanImageFile(),E.clearElement(),E.lastScanImageFile=URL.createObjectURL(y);var R=new Image;R.onload=function(){var k=R.width,_=R.height,p=document.getElementById(E.elementId),D=p.clientWidth?p.clientWidth:ii.DEFAULT_WIDTH,P=Math.max(p.clientHeight?p.clientHeight:_,ii.FILE_SCAN_MIN_HEIGHT),ne=E.computeCanvasDrawConfig(k,_,D,P);if(x){var ye=E.createCanvasElement(D,P,"qr-canvas-visible");ye.style.display="inline-block",p.appendChild(ye);var pe=ye.getContext("2d");if(!pe)throw"Unable to get 2d context from canvas";pe.canvas.width=D,pe.canvas.height=P,pe.drawImage(R,0,0,k,_,ne.x,ne.y,ne.width,ne.height)}var de=ii.FILE_SCAN_HIDDEN_CANVAS_PADDING,he=Math.max(R.width,ne.width),ce=Math.max(R.height,ne.height),be=he+2*de,oe=ce+2*de,Oe=E.createCanvasElement(be,oe);p.appendChild(Oe);var Ie=Oe.getContext("2d");if(!Ie)throw"Unable to get 2d context from canvas";Ie.canvas.width=be,Ie.canvas.height=oe,Ie.drawImage(R,0,0,k,_,de,de,he,ce);try{E.qrcode.decodeRobustlyAsync(Oe).then(function(ke){b(Th.createFromQrcodeResult(ke))}).catch(A)}catch(ke){A("QR code parse error, error = ".concat(ke))}},R.onerror=A,R.onabort=A,R.onstalled=A,R.onsuspend=A,R.src=URL.createObjectURL(y)})},d.prototype.clear=function(){this.clearElement()},d.getCameras=function(){return Ox.retrieve()},d.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},d.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},d.prototype.applyVideoConstraints=function(y){if(y){if(!ld.isMediaStreamConstraintsValid(y,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(y)},d.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},d.prototype.getSupportedFormats=function(y){var x=[Te.QR_CODE,Te.AZTEC,Te.CODABAR,Te.CODE_39,Te.CODE_93,Te.CODE_128,Te.DATA_MATRIX,Te.MAXICODE,Te.ITF,Te.EAN_13,Te.EAN_8,Te.PDF_417,Te.RSS_14,Te.RSS_EXPANDED,Te.UPC_A,Te.UPC_E,Te.UPC_EAN_EXTENSION];if(!y||typeof y=="boolean"||!y.formatsToSupport)return x;if(!Array.isArray(y.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(y.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var E=[],b=0,A=y.formatsToSupport;b<A.length;b++){var R=A[b];ux(R)?E.push(R):this.logger.warn("Invalid format: ".concat(R," passed in config, ignoring."))}if(E.length===0)throw"None of formatsToSupport match supported values.";return E},d.prototype.getUseBarCodeDetectorIfSupported=function(y){if(cr(y))return!0;if(!cr(y.useBarCodeDetectorIfSupported))return y.useBarCodeDetectorIfSupported!==!1;if(cr(y.experimentalFeatures))return!0;var x=y.experimentalFeatures;return cr(x.useBarCodeDetectorIfSupported)?!0:x.useBarCodeDetectorIfSupported!==!1},d.prototype.validateQrboxSize=function(y,x,E){var b=this,A=E.qrbox;this.validateQrboxConfig(A);var R=this.toQrdimensions(y,x,A),k=function(p){if(p<ii.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ii.MIN_QR_BOX_SIZE,"px.")},_=function(p){return p>y&&(b.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=y),p};k(R.width),k(R.height),R.width=_(R.width)},d.prototype.validateQrboxConfig=function(y){if(typeof y!="number"&&typeof y!="function"&&(y.width===void 0||y.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},d.prototype.toQrdimensions=function(y,x,E){if(typeof E=="number")return{width:E,height:E};if(typeof E=="function")try{return E(y,x)}catch(b){throw new Error("qrbox config was passed as a function but it failed with unknown error"+b)}return E},d.prototype.setupUi=function(y,x,E){E.isShadedBoxEnabled()&&this.validateQrboxSize(y,x,E);var b=cr(E.qrbox)?{width:y,height:x}:E.qrbox;this.validateQrboxConfig(b);var A=this.toQrdimensions(y,x,b);A.height>x&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var R=E.isShadedBoxEnabled()&&A.height<=x,k={x:0,y:0,width:y,height:x},_=R?this.getShadedRegionBounds(y,x,A):k,p=this.createCanvasElement(_.width,_.height),D={willReadFrequently:!0},P=p.getContext("2d",D);P.canvas.width=_.width,P.canvas.height=_.height,this.element.append(p),R&&this.possiblyInsertShadingElement(this.element,y,x,A),this.createScannerPausedUiElement(this.element),this.qrRegion=_,this.context=P,this.canvasElement=p},d.prototype.createScannerPausedUiElement=function(y){var x=document.createElement("div");x.innerText=fl.scannerPaused(),x.style.display="none",x.style.position="absolute",x.style.top="0px",x.style.zIndex="1",x.style.background="rgba(9, 9, 9, 0.46)",x.style.color="#FFECEC",x.style.textAlign="center",x.style.width="100%",y.appendChild(x),this.scannerPausedUiElement=x},d.prototype.scanContext=function(y,x){var E=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(b){return y(b.text,Th.createFromQrcodeResult(b)),E.possiblyUpdateShaders(!0),!0}).catch(function(b){E.possiblyUpdateShaders(!1);var A=fl.codeParseError(b);return x(A,fx.createFrom(A)),!1})},d.prototype.foreverScan=function(y,x,E){var b=this;if(this.shouldScan&&this.renderedCamera){var A=this.renderedCamera.getSurface(),R=A.videoWidth/A.clientWidth,k=A.videoHeight/A.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var _=this.qrRegion.width*R,p=this.qrRegion.height*k,D=this.qrRegion.x*R,P=this.qrRegion.y*k;this.context.drawImage(A,D,P,_,p,0,0,this.qrRegion.width,this.qrRegion.height);var ne=function(){b.foreverScanTimeout=setTimeout(function(){b.foreverScan(y,x,E)},b.getTimeoutFps(y.fps))};this.scanContext(x,E).then(function(ye){!ye&&y.disableFlip!==!0?(b.context.translate(b.context.canvas.width,0),b.context.scale(-1,1),b.scanContext(x,E).finally(function(){ne()})):ne()}).catch(function(ye){b.logger.logError("Error happend while scanning context",ye),ne()})}},d.prototype.createVideoConstraints=function(y){if(typeof y=="string")return{deviceId:{exact:y}};if(typeof y=="object"){var x="facingMode",E="deviceId",b={user:!0,environment:!0},A="exact",R=function(pe){if(pe in b)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(pe,"'")},k=Object.keys(y);if(k.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(k.length," keys");var _=Object.keys(y)[0];if(_!==x&&_!==E)throw"Only '".concat(x,"' and '").concat(E,"' ")+" are supported for 'cameraIdOrConfig'";if(_===x){var p=y.facingMode;if(typeof p=="string"){if(R(p))return{facingMode:p}}else if(typeof p=="object")if(A in p){if(R(p["".concat(A)]))return{facingMode:{exact:p["".concat(A)]}}}else throw"'facingMode' should be string or object with"+" ".concat(A," as key.");else{var D=typeof p;throw"Invalid type of 'facingMode' = ".concat(D)}}else{var P=y.deviceId;if(typeof P=="string")return{deviceId:P};if(typeof P=="object"){if(A in P)return{deviceId:{exact:P["".concat(A)]}};throw"'deviceId' should be string or object with"+" ".concat(A," as key.")}else{var ne=typeof P;throw"Invalid type of 'deviceId' = ".concat(ne)}}}var ye=typeof y;throw"Invalid type of 'cameraIdOrConfig' = ".concat(ye)},d.prototype.computeCanvasDrawConfig=function(y,x,E,b){if(y<=E&&x<=b){var A=(E-y)/2,R=(b-x)/2;return{x:A,y:R,width:y,height:x}}else{var k=y,_=x;return y>E&&(x=E/y*x,y=E),x>b&&(y=b/x*y,x=b),this.logger.log("Image downsampled from "+"".concat(k,"X").concat(_)+" to ".concat(y,"X").concat(x,".")),this.computeCanvasDrawConfig(y,x,E,b)}},d.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var y=document.getElementById(this.elementId);y&&(y.innerHTML="")},d.prototype.possiblyUpdateShaders=function(y){this.qrMatch!==y&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(x){x.style.backgroundColor=y?ii.BORDER_SHADER_MATCH_COLOR:ii.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=y)},d.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},d.prototype.createCanvasElement=function(y,x,E){var b=y,A=x,R=document.createElement("canvas");return R.style.width="".concat(b,"px"),R.style.height="".concat(A,"px"),R.style.display="none",R.id=cr(E)?"qr-canvas":E,R},d.prototype.getShadedRegionBounds=function(y,x,E){if(E.width>y||E.height>x)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(y-E.width)/2,y:(x-E.height)/2,width:E.width,height:E.height}},d.prototype.possiblyInsertShadingElement=function(y,x,E,b){if(!(x-b.width<1||E-b.height<1)){var A=document.createElement("div");A.style.position="absolute";var R=(x-b.width)/2,k=(E-b.height)/2;if(A.style.borderLeft="".concat(R,"px solid rgba(0, 0, 0, 0.48)"),A.style.borderRight="".concat(R,"px solid rgba(0, 0, 0, 0.48)"),A.style.borderTop="".concat(k,"px solid rgba(0, 0, 0, 0.48)"),A.style.borderBottom="".concat(k,"px solid rgba(0, 0, 0, 0.48)"),A.style.boxSizing="border-box",A.style.top="0px",A.style.bottom="0px",A.style.left="0px",A.style.right="0px",A.id="".concat(ii.SHADED_REGION_ELEMENT_ID),x-b.width<11||E-b.height<11)this.hasBorderShaders=!1;else{var _=5,p=40;this.insertShaderBorders(A,p,_,-_,null,0,!0),this.insertShaderBorders(A,p,_,-_,null,0,!1),this.insertShaderBorders(A,p,_,null,-_,0,!0),this.insertShaderBorders(A,p,_,null,-_,0,!1),this.insertShaderBorders(A,_,p+_,-_,null,-_,!0),this.insertShaderBorders(A,_,p+_,null,-_,-_,!0),this.insertShaderBorders(A,_,p+_,-_,null,-_,!1),this.insertShaderBorders(A,_,p+_,null,-_,-_,!1),this.hasBorderShaders=!0}y.append(A)}},d.prototype.insertShaderBorders=function(y,x,E,b,A,R,k){var _=document.createElement("div");_.style.position="absolute",_.style.backgroundColor=ii.BORDER_SHADER_DEFAULT_COLOR,_.style.width="".concat(x,"px"),_.style.height="".concat(E,"px"),b!==null&&(_.style.top="".concat(b,"px")),A!==null&&(_.style.bottom="".concat(A,"px")),k?_.style.left="".concat(R,"px"):_.style.right="".concat(R,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(_),y.appendChild(_)},d.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},d.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},d.prototype.getTimeoutFps=function(y){return 1e3/y},d})(),Bh;(function(d){d[d.STATUS_DEFAULT=0]="STATUS_DEFAULT",d[d.STATUS_SUCCESS=1]="STATUS_SUCCESS",d[d.STATUS_WARNING=2]="STATUS_WARNING",d[d.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Bh||(Bh={}));function kx({onScan:d,onClose:y}){const x=J.useRef(null),E="barcode-scanner-div",[b,A]=J.useState(""),R=J.useRef(!1);return J.useEffect(()=>{let k=null;return document.getElementById(E)&&(k=new Lx(E),k.start({facingMode:"environment"},{fps:10,qrbox:250},_=>{if(R.current){try{const p=new(window.AudioContext||window.webkitAudioContext),D=p.createOscillator(),P=p.createGain();D.type="sine",D.frequency.value=880,P.gain.value=.2,D.connect(P),P.connect(p.destination),D.start(),D.stop(p.currentTime+.15),D.onended=()=>p.close()}catch{}R.current=!1,k.stop().then(()=>{k.clear(),x.current=null,d(_)})}},_=>{}).then(()=>{R.current=!0}).catch(_=>{A("Unable to access camera. Please check permissions and try again.")}),x.current=k),()=>{x.current&&(R.current&&x.current.stop().catch(()=>{}),x.current.clear(),R.current=!1,x.current=null);const _=document.getElementById(E);_&&(_.innerHTML="")}},[d,y]),L.jsxs("div",{className:"text-center",children:[L.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",minHeight:"340px"},children:L.jsx("div",{id:E,style:{width:"400px",height:"300px",maxWidth:"100%",background:"#222",borderRadius:"8px",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"}})}),b&&L.jsx("div",{className:"alert alert-danger mt-3",children:b}),L.jsx("button",{className:"btn btn-secondary mt-3",onClick:()=>{x.current&&R.current?(R.current=!1,x.current.stop().then(()=>{x.current.clear(),x.current=null,y()})):y()},children:"Close Scanner"})]})}const t1=(d,y)=>y.some(x=>d instanceof x);let Lh,kh;function Ux(){return Lh||(Lh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Fx(){return kh||(kh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n1=new WeakMap,Kc=new WeakMap,Yo=new WeakMap;function Px(d){const y=new Promise((x,E)=>{const b=()=>{d.removeEventListener("success",A),d.removeEventListener("error",R)},A=()=>{x(pa(d.result)),b()},R=()=>{E(d.error),b()};d.addEventListener("success",A),d.addEventListener("error",R)});return Yo.set(y,d),y}function zx(d){if(n1.has(d))return;const y=new Promise((x,E)=>{const b=()=>{d.removeEventListener("complete",A),d.removeEventListener("error",R),d.removeEventListener("abort",R)},A=()=>{x(),b()},R=()=>{E(d.error||new DOMException("AbortError","AbortError")),b()};d.addEventListener("complete",A),d.addEventListener("error",R),d.addEventListener("abort",R)});n1.set(d,y)}let i1={get(d,y,x){if(d instanceof IDBTransaction){if(y==="done")return n1.get(d);if(y==="store")return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return pa(d[y])},set(d,y,x){return d[y]=x,!0},has(d,y){return d instanceof IDBTransaction&&(y==="done"||y==="store")?!0:y in d}};function od(d){i1=d(i1)}function Hx(d){return Fx().includes(d)?function(...y){return d.apply(r1(this),y),pa(this.request)}:function(...y){return pa(d.apply(r1(this),y))}}function Gx(d){return typeof d=="function"?Hx(d):(d instanceof IDBTransaction&&zx(d),t1(d,Ux())?new Proxy(d,i1):d)}function pa(d){if(d instanceof IDBRequest)return Px(d);if(Kc.has(d))return Kc.get(d);const y=Gx(d);return y!==d&&(Kc.set(d,y),Yo.set(y,d)),y}const r1=d=>Yo.get(d);function Vx(d,y,{blocked:x,upgrade:E,blocking:b,terminated:A}={}){const R=indexedDB.open(d,y),k=pa(R);return E&&R.addEventListener("upgradeneeded",_=>{E(pa(R.result),_.oldVersion,_.newVersion,pa(R.transaction),_)}),x&&R.addEventListener("blocked",_=>x(_.oldVersion,_.newVersion,_)),k.then(_=>{A&&_.addEventListener("close",()=>A()),b&&_.addEventListener("versionchange",p=>b(p.oldVersion,p.newVersion,p))}).catch(()=>{}),k}const Xx=["get","getKey","getAll","getAllKeys","count"],jx=["put","add","delete","clear"],Qc=new Map;function Uh(d,y){if(!(d instanceof IDBDatabase&&!(y in d)&&typeof y=="string"))return;if(Qc.get(y))return Qc.get(y);const x=y.replace(/FromIndex$/,""),E=y!==x,b=jx.includes(x);if(!(x in(E?IDBIndex:IDBObjectStore).prototype)||!(b||Xx.includes(x)))return;const A=async function(R,...k){const _=this.transaction(R,b?"readwrite":"readonly");let p=_.store;return E&&(p=p.index(k.shift())),(await Promise.all([p[x](...k),b&&_.done]))[0]};return Qc.set(y,A),A}od(d=>({...d,get:(y,x,E)=>Uh(y,x)||d.get(y,x,E),has:(y,x)=>!!Uh(y,x)||d.has(y,x)}));const Yx=["continue","continuePrimaryKey","advance"],Fh={},a1=new WeakMap,ud=new WeakMap,Zx={get(d,y){if(!Yx.includes(y))return d[y];let x=Fh[y];return x||(x=Fh[y]=function(...E){a1.set(this,ud.get(this)[y](...E))}),x}};async function*qx(...d){let y=this;if(y instanceof IDBCursor||(y=await y.openCursor(...d)),!y)return;y=y;const x=new Proxy(y,Zx);for(ud.set(x,y),Yo.set(x,r1(y));y;)yield x,y=await(a1.get(x)||y.continue()),a1.delete(x)}function Ph(d,y){return y===Symbol.asyncIterator&&t1(d,[IDBIndex,IDBObjectStore,IDBCursor])||y==="iterate"&&t1(d,[IDBIndex,IDBObjectStore])}od(d=>({...d,get(y,x,E){return Ph(y,x)?qx:d.get(y,x,E)},has(y,x){return Ph(y,x)||d.has(y,x)}}));const Wx="itemizer-vibe",Kx=2,ys="inventory",Es="productLookup";function gl(){return Vx(Wx,Kx,{upgrade(d){d.objectStoreNames.contains(ys)||d.createObjectStore(ys,{keyPath:"id",autoIncrement:!0}),d.objectStoreNames.contains(Es)||d.createObjectStore(Es,{keyPath:"barcode"}),d.objectStoreNames.contains("theme")||d.createObjectStore("theme",{keyPath:"key"})}})}async function xs(){return(await gl()).getAll(ys)}async function Qx(d){return(await gl()).add(ys,d)}async function zh(d){return(await gl()).delete(ys,d)}async function Vo(){return(await gl()).getAll(Es)}async function cd(d){return(await gl()).put(Es,d)}async function Jx(d){return(await gl()).delete(Es,d)}const Hh=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function $x({inventory:d,productLookup:y,mode:x,setMode:E,barcodeInput:b,setBarcodeInput:A,setInventory:R,setLookupBarcode:k}){const _=u1(),p=J.useRef(null),[D,P]=J.useState({}),[ne,ye]=J.useState(null),[pe,de]=J.useState(!1),[he,ce]=J.useState(""),[be,oe]=J.useState(!1);J.useEffect(()=>{p.current&&p.current.focus()},[x]);const Oe=xe=>{A(xe.target.value)},Ie=async xe=>{xe.preventDefault(),ce("");const $=b.trim();if($)if(x==="in"){await Qx({barcode:$,bookedIn:new Date});const Xe=await xs();R(Xe),A(""),p.current&&p.current.focus()}else{let Xe=!1;const je=await xs(),Ce=je.findIndex(ut=>ut.barcode===$);if(Ce===-1){if(ce("Error: Item not found in inventory."),!Xe){try{const ut=new(window.AudioContext||window.webkitAudioContext),q=ut.createOscillator(),Q=ut.createGain();q.type="square",q.frequency.value=220,Q.gain.value=.3,q.connect(Q),Q.connect(ut.destination),q.start(),q.stop(ut.currentTime+.25),q.onended=()=>ut.close()}catch{}Xe=!0}A(""),p.current&&p.current.focus(),R(je);return}await zh(je[Ce].id);const Ze=await xs();R(Ze),A(""),p.current&&p.current.focus()}},ke=async xe=>{ye(xe),P({});try{const Xe=await(await fetch(`https://world.openfoodfacts.org/api/v0/product/${xe}.json`)).json();Xe.status===1?P({barcode:xe,name:Xe.product.product_name||"Unknown",brand:Xe.product.brands||"",found:!0}):P({barcode:xe,found:!1})}catch{P({barcode:xe,found:!1})}ye(null)},le=xe=>{A(xe),de(!1),setTimeout(()=>{document.getElementById("barcode-form")?.dispatchEvent(new Event("submit",{bubbles:!0}))},100)};return L.jsxs("div",{className:"container-fluid px-0 py-2",style:{maxWidth:480,marginLeft:"0",marginRight:"0"},children:[L.jsx("div",{style:{margin:0,borderRadius:0,position:"relative",top:0,zIndex:900},children:x==="in"?L.jsxs("div",{className:"alert alert-primary text-center fw-bold py-3 mb-0",role:"alert",style:{borderRadius:8,fontSize:"1.15rem",letterSpacing:"1px",cursor:"pointer",userSelect:"none",marginBottom:"1.2rem"},onClick:()=>{E("out"),p.current&&p.current.focus()},title:"Tap to switch to Booking Out Mode",children:["Booking In Mode",L.jsx("div",{style:{fontWeight:400,fontSize:"0.95rem",color:"#333",opacity:.7,marginTop:2},children:"Tap to change"})]}):L.jsxs("div",{className:"alert alert-warning text-center fw-bold py-3 mb-0",role:"alert",style:{borderRadius:8,fontSize:"1.15rem",letterSpacing:"1px",cursor:"pointer",userSelect:"none",marginBottom:"1.2rem"},onClick:()=>{E("in"),p.current&&p.current.focus()},title:"Tap to switch to Booking In Mode",children:["Booking Out Mode",L.jsx("div",{style:{fontWeight:400,fontSize:"0.95rem",color:"#333",opacity:.7,marginTop:2},children:"Tap to change"})]})}),L.jsxs("form",{id:"barcode-form",onSubmit:Ie,className:"mb-4",style:{background:"#f8f9fa",borderRadius:8,padding:"1rem",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[L.jsxs("div",{className:"mb-3",children:[L.jsx("label",{className:"form-label mb-1",children:Hh?"Scan Barcode:":"Scan or Enter Barcode:"}),!Hh&&L.jsx("input",{type:"text",value:b,onChange:Oe,className:"form-control",autoFocus:!0,ref:p,style:{fontSize:"1rem"}})]}),L.jsx("div",{className:"d-flex justify-content-center",style:{marginTop:"1.2rem"},children:L.jsx("button",{type:"button",className:"btn btn-outline-secondary d-flex align-items-center justify-content-center",style:{fontSize:"2.2rem",width:"4.2rem",height:"4.2rem",borderRadius:"50%"},onClick:()=>de(!0),"aria-label":"Scan Barcode",children:L.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.8em",height:"1.8em",fill:"currentColor",viewBox:"0 0 16 16",children:[L.jsx("rect",{x:"1",y:"2",width:"1",height:"12",rx:"0.5"}),L.jsx("rect",{x:"3",y:"2",width:"2",height:"12",rx:"0.5"}),L.jsx("rect",{x:"6",y:"2",width:"1",height:"12",rx:"0.5"}),L.jsx("rect",{x:"8",y:"2",width:"2",height:"12",rx:"0.5"}),L.jsx("rect",{x:"11",y:"2",width:"1",height:"12",rx:"0.5"}),L.jsx("rect",{x:"13",y:"2",width:"1",height:"12",rx:"0.5"})]})})})]}),he&&L.jsx("div",{className:"alert alert-danger text-center mt-2",style:{fontSize:"1rem"},children:he}),pe&&L.jsx("div",{className:"modal d-block",tabIndex:"-1",style:{background:"rgba(0,0,0,0.5)"},children:L.jsx("div",{className:"modal-dialog modal-dialog-centered",children:L.jsxs("div",{className:"modal-content",children:[L.jsxs("div",{className:"modal-header",children:[L.jsx("h5",{className:"modal-title",children:"Scan Barcode"}),L.jsx("button",{type:"button",className:"btn-close",onClick:()=>document.querySelector(".modal .btn-secondary")?.click()})]}),L.jsx("div",{className:"modal-body",children:L.jsx(kx,{onScan:le,onClose:()=>de(!1)})})]})})}),L.jsxs("div",{style:{background:"#fff",borderRadius:8,boxShadow:"0 2px 8px rgba(0,0,0,0.04)",padding:"1rem",marginBottom:"1.2rem"},children:[L.jsx("h2",{className:"mb-3 text-center",style:{fontSize:"1.1rem"},children:"Current Inventory"}),L.jsx("ul",{className:"list-group mb-2",style:{fontSize:"0.98rem"},children:d.length===0?L.jsx("li",{className:"list-group-item text-center text-muted py-3",children:"No items booked in."}):d.map((xe,$)=>{const Xe=y[xe.barcode];let je=Number.POSITIVE_INFINITY;if(Xe&&typeof Xe.expiryDays=="number"){const Ce=new Date(xe.bookedIn),Ze=new Date;je=Xe.expiryDays-Math.floor((Ze.setHours(0,0,0,0)-Ce.setHours(0,0,0,0))/(1e3*60*60*24))}return{item:xe,idx:$,info:Xe,daysRemaining:je}}).sort((xe,$)=>xe.daysRemaining-$.daysRemaining).map(({item:xe,idx:$,info:Xe,daysRemaining:je})=>L.jsxs("li",{className:"list-group-item d-flex flex-column align-items-start py-2 px-2 mb-2",style:{borderRadius:6},children:[L.jsx("div",{style:{wordBreak:"break-word",fontWeight:500},children:Xe?.name||xe.barcode}),L.jsxs("div",{className:"text-muted",style:{fontSize:"0.95em",wordBreak:"break-word"},children:["Booked In: ",new Date(xe.bookedIn).toLocaleString()]}),L.jsxs("div",{className:"d-flex gap-2 mt-2 w-100",children:[je===Number.POSITIVE_INFINITY?L.jsx("button",{className:"btn btn-outline-primary btn-sm flex-fill",style:{minWidth:0,fontSize:"0.97em"},onClick:()=>ke(xe.barcode),children:"Lookup"}):L.jsxs("span",{className:"badge bg-warning text-dark flex-fill d-flex align-items-center justify-content-center",style:{height:"2.1em",fontSize:"1em"},children:["Days Remaining: ",je]}),L.jsx("button",{className:"btn btn-outline-danger btn-sm flex-fill",style:{minWidth:0,fontSize:"0.97em"},title:"Remove item",onClick:async()=>{const Ce=Xe?.name||xe.barcode;if(window.confirm(`Are you sure you want to remove '${Ce}' from inventory?`)){await zh(xe.id);const Ze=await xs();R(Ze)}},children:"Remove"})]})]},$))})]}),L.jsx("button",{type:"button",style:{width:"100%",padding:"0.8em",fontSize:"1.08em",borderRadius:"8px",fontWeight:700,marginBottom:"1em",background:"var(--button-bg)",color:"var(--primary-text)",border:"2px solid var(--accent)",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",transition:"background 0.2s, color 0.2s"},onClick:()=>oe(xe=>!xe),"aria-expanded":be,"aria-controls":"inventory-summary",onMouseOver:xe=>xe.currentTarget.style.background="var(--button-hover)",onMouseOut:xe=>xe.currentTarget.style.background="var(--button-bg)",children:be?"Hide Inventory Summary":"Show Inventory Summary"}),be&&L.jsxs("div",{id:"inventory-summary",style:{background:"#fff",borderRadius:8,boxShadow:"0 2px 8px rgba(0,0,0,0.04)",padding:"1rem"},children:[L.jsx("h2",{className:"mb-3 text-center",style:{fontSize:"1.1rem"},children:"Inventory Summary"}),L.jsxs("table",{className:"table table-bordered table-striped mb-0",style:{fontSize:"0.95rem",tableLayout:"fixed",width:"100%"},children:[L.jsx("thead",{className:"table-light",children:L.jsxs("tr",{children:[L.jsx("th",{style:{width:"28%"},children:"Item Name"}),L.jsx("th",{style:{width:"32%"},children:"Barcode"}),L.jsx("th",{style:{width:"15%"},children:"Qty"}),L.jsx("th",{style:{width:"25%"}})]})}),L.jsx("tbody",{children:Object.entries(d.reduce((xe,$)=>(xe[$.barcode]=(xe[$.barcode]||0)+1,xe),{})).map(([xe,$])=>L.jsxs("tr",{children:[L.jsx("td",{style:{wordBreak:"break-word"},children:y[xe]?.name||"-"}),L.jsx("td",{style:{wordBreak:"break-word"},children:xe}),L.jsx("td",{children:$}),L.jsx("td",{children:!y[xe]&&L.jsxs("div",{className:"d-flex flex-column gap-1",children:[L.jsx("button",{className:"btn btn-outline-primary btn-sm",style:{minWidth:0,padding:"2px 2px",fontSize:"0.88em",whiteSpace:"nowrap"},onClick:()=>ke(xe),disabled:ne===xe,children:ne===xe?"Looking up...":"Lookup"}),D.barcode===xe&&D.found&&L.jsx("div",{className:"modal d-block",tabIndex:"-1",style:{background:"rgba(0,0,0,0.35)",position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:2e3},children:L.jsx("div",{className:"modal-dialog modal-dialog-centered",style:{maxWidth:340,margin:"auto"},children:L.jsxs("div",{className:"modal-content",children:[L.jsxs("div",{className:"modal-header",children:[L.jsx("h5",{className:"modal-title",children:"Product Found"}),L.jsx("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:()=>P({})})]}),L.jsxs("div",{className:"modal-body",children:[L.jsxs("p",{children:[L.jsx("strong",{children:"Name:"})," ",D.name]}),D.brand&&L.jsxs("p",{children:[L.jsx("strong",{children:"Brand:"})," ",D.brand]}),L.jsxs("p",{children:[L.jsx("strong",{children:"Barcode:"})," ",D.barcode]}),D.ingredients&&L.jsxs("p",{children:[L.jsx("strong",{children:"Ingredients:"})," ",D.ingredients]}),L.jsx("p",{children:"This product was found via Open Food Facts. You can auto-fill the lookup form with this data."})]}),L.jsxs("div",{className:"modal-footer",children:[L.jsx("button",{className:"btn btn-success btn-sm",onClick:()=>{k(xe),setTimeout(()=>{_("/lookup")},0),localStorage.setItem("lookupNamePrefill",D.name),P({})},children:"Auto-Fill Lookup Form"}),L.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>P({}),children:"Cancel"})]})]})})}),D.barcode===xe&&!D.found&&L.jsx("div",{className:"mt-1 w-100",style:{fontSize:"0.95em"},children:L.jsx("span",{className:"text-danger",children:"No product found"})})]})})]},xe))})]})]}),D.barcode&&D.found&&L.jsx("div",{className:"modal d-block",tabIndex:"-1",style:{background:"rgba(0,0,0,0.35)",position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:2e3},children:L.jsx("div",{className:"modal-dialog modal-dialog-centered",style:{maxWidth:340,margin:"auto"},children:L.jsxs("div",{className:"modal-content",children:[L.jsxs("div",{className:"modal-header",children:[L.jsx("h5",{className:"modal-title",children:"Product Found"}),L.jsx("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:()=>P({})})]}),L.jsxs("div",{className:"modal-body",children:[L.jsxs("p",{children:[L.jsx("strong",{children:"Name:"})," ",D.name]}),D.brand&&L.jsxs("p",{children:[L.jsx("strong",{children:"Brand:"})," ",D.brand]}),L.jsxs("p",{children:[L.jsx("strong",{children:"Barcode:"})," ",D.barcode]}),D.ingredients&&L.jsxs("p",{children:[L.jsx("strong",{children:"Ingredients:"})," ",D.ingredients]}),L.jsx("p",{children:"This product was found via Open Food Facts. You can auto-fill the lookup form with this data."})]}),L.jsxs("div",{className:"modal-footer",children:[L.jsx("button",{className:"btn btn-success btn-sm",onClick:()=>{k(D.barcode),setTimeout(()=>{_("/lookup")},0),localStorage.setItem("lookupNamePrefill",D.name),P({})},children:"Auto-Fill Lookup Form"}),L.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>P({}),children:"Cancel"})]})]})})})]})}function em({productLookup:d,lookupBarcode:y,setLookupBarcode:x,lookupName:E,setLookupName:b,lookupExpiry:A,setLookupExpiry:R,handleLookupSubmit:k,setProductLookup:_}){const[p,D]=J.useState(""),P=u1();J.useEffect(()=>{const he=localStorage.getItem("lookupNamePrefill");he&&(b(he),localStorage.removeItem("lookupNamePrefill"))},[]);const ne=he=>{R(he.target.value)},ye=he=>{D(he),x(he),b(d[he]?.name||""),R("")},pe=async he=>{if(window.confirm("Are you sure you want to delete this product?")){await Jx(he);const ce=await Vo(),be={};ce.forEach(oe=>{be[oe.barcode]=oe}),_(be),p===he&&(D(""),x(""),b(""),R(""))}},de=async he=>{he.preventDefault();const ce=y.trim(),be=E.trim(),oe=A;if(!ce||!be||!oe)return;const Oe=new Date,ke=new Date(oe).getTime()-Oe.setHours(0,0,0,0),le=Math.ceil(ke/(1e3*60*60*24));await cd({barcode:ce,name:be,expiryDays:le});const $=await Vo(),Xe={};$.forEach(je=>{Xe[je.barcode]=je}),_(Xe),x(""),b(""),R(""),setTimeout(()=>P("/"),0)};return L.jsxs("div",{className:"container-fluid px-2 py-2",style:{maxWidth:480,margin:"0 auto"},children:[L.jsx("h2",{className:"mb-3 text-center",style:{fontSize:"1.2rem"},children:"Product Lookup"}),L.jsxs("form",{onSubmit:de,className:"mb-4",style:{background:"#f8f9fa",borderRadius:8,padding:"1rem",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[L.jsxs("div",{className:"mb-3",children:[L.jsx("label",{className:"form-label mb-1",htmlFor:"lookup-barcode",children:"Barcode"}),L.jsx("input",{id:"lookup-barcode",type:"text",value:y,onChange:he=>x(he.target.value),className:"form-control",style:{fontSize:"1rem"},autoComplete:"off"})]}),L.jsxs("div",{className:"mb-3",children:[L.jsx("label",{className:"form-label mb-1",htmlFor:"lookup-name",children:"Name"}),L.jsx("input",{id:"lookup-name",type:"text",value:E,onChange:he=>b(he.target.value),className:"form-control",style:{fontSize:"1rem"},autoComplete:"off"})]}),L.jsxs("div",{className:"mb-3",children:[L.jsx("label",{className:"form-label mb-1",htmlFor:"lookup-expiry",children:"Expiry Date"}),L.jsx("input",{id:"lookup-expiry",type:"date",value:A,onChange:ne,className:"form-control",style:{fontSize:"1rem"}})]}),L.jsx("button",{type:"submit",className:"btn btn-primary w-100",style:{fontSize:"1.05rem",padding:"0.6rem 0"},children:"Assign Name & Expiry"})]}),L.jsx("h3",{className:"mb-2 text-center",style:{fontSize:"1.1rem"},children:"Product List"}),L.jsx("div",{style:{background:"#fff",borderRadius:8,boxShadow:"0 2px 8px rgba(0,0,0,0.04)",padding:"0.5rem"},children:Object.entries(d).length===0?L.jsx("div",{className:"text-center text-muted py-3",children:"No products added yet."}):L.jsx("ul",{className:"list-group",style:{fontSize:"0.98rem"},children:Object.entries(d).map(([he,ce])=>L.jsxs("li",{className:"list-group-item d-flex flex-column align-items-start py-2 px-2 mb-2",style:{borderRadius:6},children:[L.jsx("div",{style:{wordBreak:"break-word",fontWeight:500},children:ce.name||"-"}),L.jsxs("div",{className:"text-muted",style:{fontSize:"0.95em",wordBreak:"break-word"},children:["Barcode: ",he]}),L.jsxs("div",{className:"text-muted",style:{fontSize:"0.95em"},children:["Expiry (days): ",ce.expiryDays||"-"]}),L.jsxs("div",{className:"d-flex gap-2 mt-2 w-100",children:[L.jsx("button",{className:"btn btn-outline-secondary btn-sm flex-fill",style:{minWidth:0,fontSize:"0.97em"},onClick:()=>ye(he),children:"Edit"}),L.jsx("button",{className:"btn btn-outline-danger btn-sm flex-fill",style:{minWidth:0,fontSize:"0.97em"},onClick:()=>pe(he),children:"Delete"})]})]},he))})})]})}function tm(){return L.jsxs("div",{className:"container py-3",style:{maxWidth:480,margin:"0 auto"},children:[L.jsx("h2",{style:{fontSize:"1.5rem",textAlign:"center",marginBottom:"1.2rem"},children:"How to Use Itemizer-Vibe"}),L.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[L.jsxs("section",{style:{background:"#f8f9fa",borderRadius:12,padding:"1rem",boxShadow:"0 1px 4px rgba(0,0,0,0.04)"},children:[L.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"0.6rem"},children:"Booking In Products"}),L.jsxs("ul",{style:{paddingLeft:18,marginBottom:0},children:[L.jsxs("li",{children:["Tap ",L.jsx("b",{children:"Booking In"})," in the navigation bar."]}),L.jsx("li",{children:"Scan a product barcode using your camera, or enter it manually."}),L.jsx("li",{children:"Item is added to your inventory with the booking date."}),L.jsx("li",{children:"If the barcode matches a product in your lookup, its name and expiry are shown."})]})]}),L.jsxs("section",{style:{background:"#f8f9fa",borderRadius:12,padding:"1rem",boxShadow:"0 1px 4px rgba(0,0,0,0.04)"},children:[L.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"0.6rem"},children:"Booking Out Products (FIFO)"}),L.jsxs("ul",{style:{paddingLeft:18,marginBottom:0},children:[L.jsxs("li",{children:["Tap ",L.jsx("b",{children:"Booking Out"})," in the navigation bar."]}),L.jsx("li",{children:"Scan or enter the barcode of the item to remove."}),L.jsx("li",{children:"FIFO: The oldest matching item is removed first."}),L.jsx("li",{children:"If no match is found, you’ll see a message and inventory remains unchanged."})]})]}),L.jsxs("section",{style:{background:"#f8f9fa",borderRadius:12,padding:"1rem",boxShadow:"0 1px 4px rgba(0,0,0,0.04)"},children:[L.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"0.6rem"},children:"Product Lookup & API Integration"}),L.jsxs("ul",{style:{paddingLeft:18,marginBottom:0},children:[L.jsxs("li",{children:["Go to ",L.jsx("b",{children:"Product Lookup"})," to assign names and expiry dates to barcodes."]}),L.jsx("li",{children:"Enter barcode, name, and expiry manually, or use the lookup button for auto-fill from Open Food Facts API."}),L.jsx("li",{children:"Products in lookup display their name and expiry when booked in/out."})]})]}),L.jsxs("section",{style:{background:"#f8f9fa",borderRadius:12,padding:"1rem",boxShadow:"0 1px 4px rgba(0,0,0,0.04)"},children:[L.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"0.6rem"},children:"Expiry Tracking"}),L.jsxs("ul",{style:{paddingLeft:18,marginBottom:0},children:[L.jsx("li",{children:"Assign expiry dates to products in lookup."}),L.jsx("li",{children:"Inventory items show days remaining until expiry."}),L.jsx("li",{children:"Expired items are highlighted for easy identification."})]})]}),L.jsxs("section",{style:{background:"#f8f9fa",borderRadius:12,padding:"1rem",boxShadow:"0 1px 4px rgba(0,0,0,0.04)"},children:[L.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"0.6rem"},children:"Mobile Camera Scanning"}),L.jsxs("ul",{style:{paddingLeft:18,marginBottom:0},children:[L.jsx("li",{children:"Tap the scan button to use your device camera for barcode input."}),L.jsx("li",{children:"Grant camera permissions if prompted."}),L.jsx("li",{children:"Works best in Chrome, Firefox, or Safari with HTTPS enabled."})]})]}),L.jsxs("section",{style:{background:"#f8f9fa",borderRadius:12,padding:"1rem",boxShadow:"0 1px 4px rgba(0,0,0,0.04)"},children:[L.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"0.6rem"},children:"Inventory List & Lookup Integration"}),L.jsxs("ul",{style:{paddingLeft:18,marginBottom:0},children:[L.jsxs("li",{children:["If expiry info is missing for an item, a ",L.jsx("b",{children:"Lookup"}),' button appears instead of "Days Remaining".']}),L.jsxs("li",{children:["Click ",L.jsx("b",{children:"Lookup"})," to fetch product info from Open Food Facts and view a popup dialog."]}),L.jsxs("li",{children:["The popup dialog shows product name, brand, barcode, and ",L.jsx("b",{children:"ingredients"})," (if available)."]}),L.jsx("li",{children:"You can auto-fill the lookup form from the dialog."}),L.jsx("li",{children:"The dialog appears even if the inventory summary is closed."})]})]}),L.jsxs("section",{style:{background:"#f8f9fa",borderRadius:12,padding:"1rem",boxShadow:"0 1px 4px rgba(0,0,0,0.04)"},children:[L.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"0.6rem"},children:"Other Features"}),L.jsxs("ul",{style:{paddingLeft:18,marginBottom:0},children:[L.jsx("li",{children:"Edit or remove items from inventory and product lookup at any time."}),L.jsxs("li",{children:["View a summary of all products, counts, and quick actions. ",L.jsx("b",{children:"The Add button is now removed; add via the popup dialog instead."})]}),L.jsx("li",{children:"All data is stored locally in your browser—no cloud or server required."})]})]})]}),L.jsx("p",{style:{fontSize:"0.95rem",textAlign:"center",marginTop:"1.5rem",color:"#555"},children:"If you have questions or need help, see the README or contact the project maintainer."})]})}function nm(){const[d,y]=J.useState([]),[x,E]=J.useState("in"),[b,A]=J.useState(""),[R,k]=J.useState({}),[_,p]=J.useState(""),[D,P]=J.useState(""),[ne,ye]=J.useState(""),pe=J.useRef(null);J.useEffect(()=>{xs().then(he=>y(he)),Vo().then(he=>{const ce={};he.forEach(be=>{ce[be.barcode]=be}),k(ce)})},[]),J.useEffect(()=>{pe.current&&pe.current.focus()},[x]);const de=async he=>{he.preventDefault();const ce=_.trim(),be=D.trim(),oe=ne;if(!ce||!be||!oe)return;const Oe=new Date,ke=new Date(oe).getTime()-Oe.setHours(0,0,0,0),le=Math.ceil(ke/(1e3*60*60*24));await cd({barcode:ce,name:be,expiryDays:le});const $=await Vo(),Xe={};$.forEach(je=>{Xe[je.barcode]=je}),k(Xe),p(""),P(""),ye("")};return L.jsxs(Kg,{basename:"/itemizer-vibe",children:[L.jsx(ox,{}),L.jsx("div",{className:"container py-4",children:L.jsxs(Ng,{children:[L.jsx(ko,{path:"/",element:L.jsx($x,{inventory:d,productLookup:R,mode:x,setMode:E,barcodeInput:b,setBarcodeInput:A,setInventory:y,setLookupBarcode:p})}),L.jsx(ko,{path:"/lookup",element:L.jsx(em,{productLookup:R,lookupBarcode:_,setLookupBarcode:p,lookupName:D,setLookupName:P,lookupExpiry:ne,setLookupExpiry:ye,handleLookupSubmit:de,setProductLookup:k})}),L.jsx(ko,{path:"/instructions",element:L.jsx(tm,{})})]})})]})}U2.createRoot(document.getElementById("root")).render(L.jsx(Gh.StrictMode,{children:L.jsx(nm,{})}));
